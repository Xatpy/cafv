/*! For license information please see main.647c57fb7ed5a8497c83.bundle.js.LICENSE.txt */
(()=>{var e={9669:(e,t,n)=>{e.exports=n(1609)},592:(e,t,n)=>{var r=n(4867),i=n(6026),a=n(4372),s=n(5327),o=n(4097),l=n(4109),c=n(7985),u=n(7874),f=n(2648),h=n(644),d=n(205);e.exports=function(e){return new Promise((function(t,n){var p,_=e.data,m=e.headers,b=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(_)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var g=new XMLHttpRequest,y=(e.auth&&(y=e.auth.username||"",A=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"",m.Authorization="Basic "+btoa(y+":"+A)),o(e.baseURL,e.url));function w(){var r;g&&(r="getAllResponseHeaders"in g?l(g.getAllResponseHeaders()):null,r={data:b&&"text"!==b&&"json"!==b?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g},i((function(e){t(e),v()}),(function(e){n(e),v()}),r),g=null)}g.open(e.method.toUpperCase(),s(y,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=w:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(w)},g.onabort=function(){g&&(n(new f("Request aborted",f.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,g,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,g)),g=null},r.isStandardBrowserEnv()&&(A=(e.withCredentials||c(y))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0)&&(m[e.xsrfHeaderName]=A),"setRequestHeader"in g&&r.forEach(m,(function(e,t){void 0===_&&"content-type"===t.toLowerCase()?delete m[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),b&&"json"!==b&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){g&&(n(!e||e.type?new h:e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p)));_=_||null;var A=d(y);A&&-1===["http","https","file"].indexOf(A)?n(new f("Unsupported protocol "+A+":",f.ERR_BAD_REQUEST,e)):g.send(_)}))}},1609:(e,t,n)=>{var r=n(4867),i=n(1849),a=n(321),s=n(7185),o=function e(t){var n=new a(t),o=i(a.prototype.request,n);return r.extend(o,a.prototype,n),r.extend(o,n),o.create=function(n){return e(s(t,n))},o}(n(5546));o.Axios=a,o.CanceledError=n(644),o.CancelToken=n(4972),o.isCancel=n(6502),o.VERSION=n(7288).version,o.toFormData=n(7675),o.AxiosError=n(2648),o.Cancel=o.CanceledError,o.all=function(e){return Promise.all(e)},o.spread=n(8713),o.isAxiosError=n(6268),e.exports=o,e.exports.default=o},4972:(e,t,n)=>{var r=n(644);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");this.promise=new Promise((function(e){t=e}));var t,n=this;this.promise.then((function(e){if(n._listeners){for(var t=n._listeners.length,r=0;r<t;r++)n._listeners[r](e);n._listeners=null}})),this.promise.then=function(e){var t;return(e=new Promise((function(e){n.subscribe(e),t=e})).then(e)).cancel=function(){n.unsubscribe(t)},e},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){!this._listeners||-1!==(e=this._listeners.indexOf(e))&&this._listeners.splice(e,1)},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},644:(e,t,n)=>{var r=n(2648);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(4867).inherits(i,r,{__CANCEL__:!0}),e.exports=i},6502:e=>{e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{var r=n(4867),i=n(5327),a=n(782),s=n(3572),o=n(7185),l=n(4097),c=n(4875),u=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n,r=(void 0!==(e=t.transitional)&&c.assertOptions(e,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1),[]),i=!0,a=(this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))})),[]);if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!i){var l=[s,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(a),n=Promise.resolve(t);l.length;)n=n.then(l.shift(),l.shift());return n}for(var f=t;r.length;){var h=r.shift(),d=r.shift();try{f=h(f)}catch(e){d(e);break}}try{n=s(f)}catch(e){return Promise.reject(e)}for(;a.length;)n=n.then(a.shift(),a.shift());return n},f.prototype.getUri=function(e){e=o(this.defaults,e);var t=l(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(o(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},2648:(e,t,n)=>{var r=n(4867);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(i,s),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,s,o,l){var c=Object.create(a);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,s,o),c.name=e.name,l&&Object.assign(c,l),c},e.exports=i},782:(e,t,n)=>{var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,n)=>{var r=n(1793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},3572:(e,t,n)=>{var r=n(4867),i=n(8527),a=n(6502),s=n(5546),o=n(644);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7185:(e,t,n)=>{var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==l||(n[e]=i)})),n}},6026:(e,t,n)=>{var r=n(2648);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},8527:(e,t,n)=>{var r=n(4867),i=n(5546);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},5546:(e,t,n)=>{var r=n(4867),i=n(6016),a=n(2648),s=n(7874),o=n(7675),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,f={transitional:s,adapter:u="undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?n(592):u,transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n=r.isObject(e),a=t&&t["Content-Type"];if((s=r.isFileList(e))||n&&"multipart/form-data"===a)return l=this.env&&this.env.FormData,o(s?{"files[]":e}:e,l&&new l);if(n||"application/json"===a){c(t,"application/json");var s=e,l=void 0;n=void 0;if(r.isString(s))try{return(l||JSON.parse)(s),r.trim(s)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(s)}return e}],transformResponse:[function(e){var t=(n=this.transitional||f.transitional)&&n.silentJSONParsing,n=n&&n.forcedJSONParsing;if((t=!t&&"json"===this.responseType)||n&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(t){if("SyntaxError"===e.name)throw a.from(e,a.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1623)},validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){f.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){f.headers[e]=r.merge(l)})),e.exports=f},7874:e=>{e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.27.2"}},1849:e=>{e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{var r=n(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;n=n?n(t):r.isURLSearchParams(t)?t.toString():(a=[],r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),a.join("&"));return n&&(-1!==(t=e.indexOf("#"))&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n),e}},7303:e=>{e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,s){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(i)&&o.push("path="+i),r.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){return(e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)")))?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{var r=n(4867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{var r,i,a,s=n(4867);function o(e){return i&&(a.setAttribute("href",e),e=a.href),a.setAttribute("href",e),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}e.exports=s.isStandardBrowserEnv()?(i=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),r=o(window.location.href),function(e){return(e=s.isString(e)?o(e):e).protocol===r.protocol&&e.host===r.host}):function(){return!0}},6016:(e,t,n)=>{var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},1623:e=>{e.exports=null},4109:(e,t,n)=>{var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a={};return e&&r.forEach(e.split("\n"),(function(e){n=e.indexOf(":"),t=r.trim(e.substr(0,n)).toLowerCase(),n=r.trim(e.substr(n+1)),!t||a[t]&&0<=i.indexOf(t)||(a[t]="set-cookie"===t?(a[t]||[]).concat([n]):a[t]?a[t]+", "+n:n)})),a}},205:e=>{e.exports=function(e){return(e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e))&&e[1]||""}},8713:e=>{e.exports=function(e){return function(t){return e.apply(null,t)}}},7675:(e,t,n)=>{var r=n(4867);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,s){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+s);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var o=s?s+"."+a:a;if(n&&!s&&"object"==typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(a=r.toArray(n)))return void a.forEach((function(e){r.isUndefined(e)||t.append(o,i(e))}));e(n,o)}})),n.pop()}else t.append(s,i(a))}(e),t}},4875:(e,t,n)=>{var r=n(7288).version,i=n(2648),a={},s=(["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}})),{});a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!s[r]&&(s[r]=!0),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;0<a--;){var s=r[a];if(o=t[s]){var o,l=e[s];if(!0!==(o=void 0===l||o(l,s,e)))throw new i("option "+s+" must be "+o,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+s,i.ERR_BAD_OPTION)}},validators:a}},4867:(e,t,n)=>{var r,i=n(1849),a=Object.prototype.toString,s=(r=Object.create(null),function(e){return e=a.call(e),r[e]||(r[e]=e.slice(8,-1).toLowerCase())});function o(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function l(e){return Array.isArray(e)}function c(e){return void 0===e}var u=o("ArrayBuffer");function f(e){return null!==e&&"object"==typeof e}function h(e){return"object"===s(e)&&(null===(e=Object.getPrototypeOf(e))||e===Object.prototype)}n=o("Date");var d=o("File"),p=o("Blob"),_=o("FileList");function m(e){return"[object Function]"===a.call(e)}var b,v=o("URLSearchParams");function g(e,t){if(null!=e)if(l(e="object"!=typeof e?[e]:e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}b="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),e.exports={isArray:l,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||a.call(e)===t||m(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:f,isPlainObject:h,isUndefined:c,isDate:n,isFile:d,isBlob:p,isFunction:m,isStream:function(e){return f(e)&&m(e.pipe)},isURLSearchParams:v,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:g,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):l(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)g(arguments[r],n);return t},extend:function(e,t,n){return g(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)?e.slice(1):e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,s={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;0<i--;)s[a=r[i]]||(t[a]=e[a],s[a]=!0)}while((e=Object.getPrototypeOf(e))&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:o,endsWith:function(e,t,n){return e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length,-1!==(e=e.indexOf(t,n))&&e===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);0<t--;)n[t]=e[t];return n},isTypedArray:function(e){return b&&e instanceof b},isFileList:_}},8526:()=>{function e(e){this.initialise.apply(this,arguments)}function t(e){u.deepExtend(this.options={},d),u.isPlainObject(e)&&u.deepExtend(this.options,e),this.currentServiceIndex=-1}function n(e){return new Error("Error ["+(e.code||"UNKNOWN")+"]: "+e.error)}function r(){this.initialise.apply(this,arguments)}function i(e){this.openingTimeout=null,u.removeClass(e,"cc-invisible")}function a(e){e.style.display="none",e.removeEventListener(c.transitionEnd,this.afterTransition),this.afterTransition=null}function s(){var e=this.options.position.split("-"),t=[];return e.forEach((function(e){t.push("cc-"+e)})),t}function o(e){var t=this.options,n=document.createElement("div"),r=t.container&&1===t.container.nodeType?t.container:document.body;return(e=(n.innerHTML=e,n.children[0])).style.display="none",u.hasClass(e,"cc-window")&&c.hasTransition&&u.addClass(e,"cc-invisible"),this.onButtonClick=function(e){var t;e=u.traverseDOMPath(e.target,"cc-btn")||e.target;u.hasClass(e,"cc-btn")&&(t=(t=e.className.match(new RegExp("\\bcc-("+f.join("|")+")\\b")))&&t[1]||!1)&&(this.setStatus(t),this.close(!0)),u.hasClass(e,"cc-close")&&(this.setStatus(c.status.dismiss),this.close(!0)),u.hasClass(e,"cc-revoke")&&this.revokeChoice()}.bind(this),e.addEventListener("click",this.onButtonClick),t.autoAttach&&(r.firstChild?r.insertBefore(e,r.firstChild):r.appendChild(e)),e}function l(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(i instanceof RegExp&&i.test(t)||"string"==typeof i&&i.length&&i===t)return 1}}var c,u,f,h,d,p;(c=window.cookieconsent||{}).hasInitialised||(u={escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hasClass:function(e,t){return 1===e.nodeType&&0<=(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")},addClass:function(e,t){e.className+=" "+t},removeClass:function(e,t){t=new RegExp("\\b"+this.escapeRegExp(t)+"\\b"),e.className=e.className.replace(t,"")},interpolateString:function(e,t){return e.replace(/{{([a-z][a-z0-9\-_]*)}}/gi,(function(e){return t(arguments[1])||""}))},getCookie:function(e){return(e=("; "+document.cookie).split("; "+e+"=")).length<2?void 0:e.pop().split(";").shift()},setCookie:function(e,t,n,r,i,a){var s=new Date;s.setHours(s.getHours()+24*(n||365)),n=[e+"="+t,"expires="+s.toUTCString(),"path="+(i||"/")];r&&n.push("domain="+r),a&&n.push("secure"),document.cookie=n.join(";")},deepExtend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(n in e&&this.isPlainObject(e[n])&&this.isPlainObject(t[n])?this.deepExtend(e[n],t[n]):e[n]=t[n]);return e},throttle:function(e,t){var n=!1;return function(){n||(e.apply(this,arguments),n=!0,setTimeout((function(){n=!1}),t))}},hash:function(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;++t)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},normaliseHex:function(e){return 3==(e="#"==e[0]?e.substr(1):e).length?e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e},getContrast:function(e){return e=this.normaliseHex(e),128<=(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3?"#000":"#fff"},getLuminance:function(e){var t=38+((e=parseInt(this.normaliseHex(e),16))>>16),n=38+(e>>8&255);return"#"+(16777216+65536*(t<255?t<1?0:t:255)+256*(n<255?n<1?0:n:255)+((e=38+(255&e))<255?e<1?0:e:255)).toString(16).slice(1)},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isPlainObject:function(e){return"object"==typeof e&&null!==e&&e.constructor==Object},traverseDOMPath:function(e,t){return e&&e.parentNode?u.hasClass(e,t)?e:this.traverseDOMPath(e.parentNode,t):null}},c.status={deny:"deny",allow:"allow",dismiss:"dismiss"},c.transitionEnd=function(){var e,t=document.createElement("div"),n={t:"transitionend",OT:"oTransitionEnd",msT:"MSTransitionEnd",MozT:"transitionend",WebkitT:"webkitTransitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&void 0!==t.style[e+"ransition"])return n[e];return""}(),c.hasTransition=!!c.transitionEnd,f=Object.keys(c.status).map(u.escapeRegExp),c.customStyles={},c.Popup=(p={enabled:!0,container:null,cookie:{name:"cookieconsent_status",path:"/",domain:"",expiryDays:365,secure:!1},onPopupOpen:function(){},onPopupClose:function(){},onInitialise:function(e){},onStatusChange:function(e,t){},onRevokeChoice:function(){},onNoCookieLaw:function(e,t){},content:{header:"Cookies used on the website!",message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",href:"https://www.cookiesandyou.com",close:"&#x274c;",target:"_blank",policy:"Cookie Policy"},elements:{header:'<span class="cc-header">{{header}}</span>&nbsp;',message:'<span id="cookieconsent:desc" class="cc-message">{{message}}</span>',messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a></span>',dismiss:'<a aria-label="dismiss cookie message" role=button tabindex="0" class="cc-btn cc-dismiss">{{dismiss}}</a>',allow:'<a aria-label="allow cookies" role=button tabindex="0"  class="cc-btn cc-allow">{{allow}}</a>',deny:'<a aria-label="deny cookies" role=button tabindex="0" class="cc-btn cc-deny">{{deny}}</a>',link:'<a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a>',close:'<span aria-label="dismiss cookie message" role=button tabindex="0" class="cc-close">{{close}}</span>'},window:'<div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window {{classes}}">\x3c!--googleoff: all--\x3e{{children}}\x3c!--googleon: all--\x3e</div>',revokeBtn:'<div class="cc-revoke {{classes}}">{{policy}}</div>',compliance:{info:'<div class="cc-compliance">{{dismiss}}</div>',"opt-in":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>',"opt-out":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>'},type:"info",layouts:{basic:"{{messagelink}}{{compliance}}","basic-close":"{{messagelink}}{{compliance}}{{close}}","basic-header":"{{header}}{{message}}{{link}}{{compliance}}"},layout:"basic",position:"bottom",theme:"block",static:!1,palette:null,revokable:!1,animateRevokable:!0,showLink:!0,dismissOnScroll:!1,dismissOnTimeout:!1,dismissOnWindowClick:!1,ignoreClicksFrom:["cc-revoke","cc-btn"],autoOpen:!0,autoAttach:!0,whitelistPage:[],blacklistPage:[],overrideHTML:null},r.prototype.initialise=function(e){this.options&&this.destroy(),u.deepExtend(this.options={},p),u.isPlainObject(e)&&u.deepExtend(this.options,e),function(){var e=this.options.onInitialise.bind(this);if(!window.navigator.cookieEnabled)return e(c.status.deny),!0;if(window.CookiesOK||window.navigator.CookiesOK)return e(c.status.allow),!0;var t=Object.keys(c.status),n=this.getStatus();return(t=0<=t.indexOf(n))&&e(n),t}.call(this)&&(this.options.enabled=!1),l(this.options.blacklistPage,location.pathname)&&(this.options.enabled=!1),l(this.options.whitelistPage,location.pathname)&&(this.options.enabled=!0);e=this.options.window.replace("{{classes}}",function(){var e=this.options,t="top"==e.position||"bottom"==e.position?"banner":"floating";t=["cc-"+(t=u.isMobile()?"floating":t),"cc-type-"+e.type,"cc-theme-"+e.theme];return e.static&&t.push("cc-static"),t.push.apply(t,s.call(this)),function(e){var t=u.hash(JSON.stringify(e)),n="cc-color-override-"+t,r=u.isPlainObject(e);return this.customStyleSelector=r?n:null,r&&function(e,t,n){if(c.customStyles[e])return++c.customStyles[e].references;var r,i={},a=t.popup,s=t.button,o=(t=t.highlight,a&&(a.text=a.text||u.getContrast(a.background),a.link=a.link||a.text,i[n+".cc-window"]=["color: "+a.text,"background-color: "+a.background],i[n+".cc-revoke"]=["color: "+a.text,"background-color: "+a.background],i[n+" .cc-link,"+n+" .cc-link:active,"+n+" .cc-link:visited"]=["color: "+a.link],s&&(s.text=s.text||u.getContrast(s.background),s.border=s.border||"transparent",i[n+" .cc-btn"]=["color: "+s.text,"border-color: "+s.border,"background-color: "+s.background],s.padding&&i[n+" .cc-btn"].push("padding: "+s.padding),"transparent"!=s.background&&(i[n+" .cc-btn:hover, "+n+" .cc-btn:focus"]=["background-color: "+(s.hover||(s=s.background,"000000"==(s=u.normaliseHex(s))?"#222":u.getLuminance(s)))]),t?(t.text=t.text||u.getContrast(t.background),t.border=t.border||"transparent",i[n+" .cc-highlight .cc-btn:first-child"]=["color: "+t.text,"border-color: "+t.border,"background-color: "+t.background]):i[n+" .cc-highlight .cc-btn:first-child"]=["color: "+a.text])),document.createElement("style")),l=(document.head.appendChild(o),c.customStyles[e]={references:1,element:o.sheet},-1);for(r in i)i.hasOwnProperty(r)&&o.sheet.insertRule(r+"{"+i[r].join(";")+"}",++l)}(t,e,"."+n),r}.call(this,this.options.palette),this.customStyleSelector&&t.push(this.customStyleSelector),t}.call(this).join(" ")).replace("{{children}}",function(){var e={},t=this.options;t.showLink||(t.elements.link="",t.elements.messagelink=t.elements.message),Object.keys(t.elements).forEach((function(n){e[n]=u.interpolateString(t.elements[n],(function(e){var n=t.content[e];return e&&"string"==typeof n&&n.length?n:""}))}));var n=(n=t.compliance[t.type])||t.compliance.info;return e.compliance=u.interpolateString(n,(function(t){return e[t]})),n=(n=t.layouts[t.layout])||t.layouts.basic,u.interpolateString(n,(function(t){return e[t]}))}.call(this));var t=this.options.overrideHTML;"string"==typeof t&&t.length&&(e=t),this.options.static?((t=o.call(this,'<div class="cc-grower">'+e+"</div>")).style.display="",this.element=t.firstChild,this.element.style.display="none",u.addClass(this.element,"cc-invisible")):this.element=o.call(this,e),function(){var e,t,n=this.setStatus.bind(this),r=this.close.bind(this),i=("number"==typeof(a=this.options.dismissOnTimeout)&&0<=a&&(this.dismissTimeout=window.setTimeout((function(){n(c.status.dismiss),r(!0)}),Math.floor(a))),this.options.dismissOnScroll),a=("number"==typeof i&&0<=i&&(e=function(t){window.pageYOffset>Math.floor(i)&&(n(c.status.dismiss),r(!0),window.removeEventListener("scroll",e),this.onWindowScroll=null)},this.options.enabled&&(this.onWindowScroll=e,window.addEventListener("scroll",e))),this.options.dismissOnWindowClick),s=this.options.ignoreClicksFrom;a&&(t=function(e){for(var i=!1,a=e.path.length,o=s.length,l=0;l<a;l++)if(!i)for(var f=0;f<o;f++)i=i||u.hasClass(e.path[l],s[f]);i||(n(c.status.dismiss),r(!0),window.removeEventListener("click",t),window.removeEventListener("touchend",t),this.onWindowClick=null)}.bind(this),this.options.enabled&&(this.onWindowClick=t,window.addEventListener("click",t),window.addEventListener("touchend",t)))}.call(this),function(){var e,t;"info"!=this.options.type&&(this.options.revokable=!0),u.isMobile()&&(this.options.animateRevokable=!1),this.options.revokable&&(t=s.call(this),this.options.animateRevokable&&t.push("cc-animate"),this.customStyleSelector&&t.push(this.customStyleSelector),t=this.options.revokeBtn.replace("{{classes}}",t.join(" ")).replace("{{policy}}",this.options.content.policy),this.revokeBtn=o.call(this,t),e=this.revokeBtn,this.options.animateRevokable&&(t=u.throttle((function(t){var n=!1,r=window.innerHeight-20;u.hasClass(e,"cc-top")&&t.clientY<20&&(n=!0),(n=!!(u.hasClass(e,"cc-bottom")&&t.clientY>r)||n)?u.hasClass(e,"cc-active")||u.addClass(e,"cc-active"):u.hasClass(e,"cc-active")&&u.removeClass(e,"cc-active")}),200),this.onMouseMove=t,window.addEventListener("mousemove",t)))}.call(this),this.options.autoOpen&&this.autoOpen()},r.prototype.destroy=function(){var e,t;this.onButtonClick&&this.element&&(this.element.removeEventListener("click",this.onButtonClick),this.onButtonClick=null),this.dismissTimeout&&(clearTimeout(this.dismissTimeout),this.dismissTimeout=null),this.onWindowScroll&&(window.removeEventListener("scroll",this.onWindowScroll),this.onWindowScroll=null),this.onWindowClick&&(window.removeEventListener("click",this.onWindowClick),this.onWindowClick=null),this.onMouseMove&&(window.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=null),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.revokeBtn&&this.revokeBtn.parentNode&&this.revokeBtn.parentNode.removeChild(this.revokeBtn),this.revokeBtn=null,e=this.options.palette,u.isPlainObject(e)&&(e=u.hash(JSON.stringify(e)),(t=c.customStyles[e])&&!--t.references&&((t=t.element.ownerNode)&&t.parentNode&&t.parentNode.removeChild(t),c.customStyles[e]=null)),this.options=null},r.prototype.open=function(e){if(this.element)return this.isOpen()||(c.hasTransition?this.fadeIn():this.element.style.display="",this.options.revokable&&this.toggleRevokeButton(),this.options.onPopupOpen.call(this)),this},r.prototype.close=function(e){if(this.element)return this.isOpen()&&(c.hasTransition?this.fadeOut():this.element.style.display="none",e&&this.options.revokable&&this.toggleRevokeButton(!0),this.options.onPopupClose.call(this)),this},r.prototype.fadeIn=function(){var e,t=this.element;c.hasTransition&&t&&(this.afterTransition&&a.call(this,t),u.hasClass(t,"cc-invisible"))&&(t.style.display="",this.options.static&&(e=this.element.clientHeight,this.element.parentNode.style.maxHeight=e+"px"),this.openingTimeout=setTimeout(i.bind(this,t),20))},r.prototype.fadeOut=function(){var e=this.element;c.hasTransition&&e&&(this.openingTimeout&&(clearTimeout(this.openingTimeout),i.bind(this,e)),u.hasClass(e,"cc-invisible")||(this.options.static&&(this.element.parentNode.style.maxHeight=""),this.afterTransition=a.bind(this,e),e.addEventListener(c.transitionEnd,this.afterTransition),u.addClass(e,"cc-invisible")))},r.prototype.isOpen=function(){return this.element&&""==this.element.style.display&&(!c.hasTransition||!u.hasClass(this.element,"cc-invisible"))},r.prototype.toggleRevokeButton=function(e){this.revokeBtn&&(this.revokeBtn.style.display=e?"":"none")},r.prototype.revokeChoice=function(e){this.options.enabled=!0,this.clearStatus(),this.options.onRevokeChoice.call(this),e||this.autoOpen()},r.prototype.hasAnswered=function(e){return 0<=Object.keys(c.status).indexOf(this.getStatus())},r.prototype.hasConsented=function(e){var t=this.getStatus();return t==c.status.allow||t==c.status.dismiss},r.prototype.autoOpen=function(e){!this.hasAnswered()&&this.options.enabled?this.open():this.hasAnswered()&&this.options.revokable&&this.toggleRevokeButton(!0)},r.prototype.setStatus=function(e){var t=this.options.cookie,n=u.getCookie(t.name);n=0<=Object.keys(c.status).indexOf(n);0<=Object.keys(c.status).indexOf(e)?(u.setCookie(t.name,e,t.expiryDays,t.domain,t.path,t.secure),this.options.onStatusChange.call(this,e,n)):this.clearStatus()},r.prototype.getStatus=function(){return u.getCookie(this.options.cookie.name)},r.prototype.clearStatus=function(){var e=this.options.cookie;u.setCookie(e.name,"",-1,e.domain,e.path)},r),c.Location=(d={timeout:5e3,services:["ipinfo"],serviceDefinitions:{ipinfo:function(){return{url:"//ipinfo.io",headers:["Accept: application/json"],callback:function(e,t){try{var r=JSON.parse(t);return r.error?n(r):{code:r.country}}catch(e){return n({error:"Invalid response ("+e+")"})}}}},ipinfodb:function(e){return{url:"//api.ipinfodb.com/v3/ip-country/?key={api_key}&format=json&callback={callback}",isScript:!0,callback:function(e,t){try{var r=JSON.parse(t);return"ERROR"==r.statusCode?n({error:r.statusMessage}):{code:r.countryCode}}catch(e){return n({error:"Invalid response ("+e+")"})}}}},maxmind:function(){return{url:"//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js",isScript:!0,callback:function(e){window.geoip2?geoip2.country((function(t){try{e({code:t.country.iso_code})}catch(t){e(n(t))}}),(function(t){e(n(t))})):e(new Error("Unexpected response format. The downloaded script should have exported `geoip2` to the global scope"))}}}}},t.prototype.getNextService=function(){for(var e;e=this.getServiceByIdx(++this.currentServiceIndex),this.currentServiceIndex<this.options.services.length&&!e;);return e},t.prototype.getServiceByIdx=function(e){var t;return"function"==typeof(e=this.options.services[e])?((t=e()).name&&u.deepExtend(t,this.options.serviceDefinitions[t.name](t)),t):"string"==typeof e?this.options.serviceDefinitions[e]():u.isPlainObject(e)?this.options.serviceDefinitions[e.name](e):null},t.prototype.locate=function(e,t){var n=this.getNextService();n?(this.callbackComplete=e,this.callbackError=t,this.runService(n,this.runNextServiceOnError.bind(this))):t(new Error("No services to run"))},t.prototype.setupUrl=function(e){var t=this.getCurrentServiceOpts();return e.url.replace(/\{(.*?)\}/g,(function(n,r){var i;return"callback"===r?(i="callback"+Date.now(),window[i]=function(t){e.__JSONP_DATA=JSON.stringify(t)},i):r in t.interpolateUrl?t.interpolateUrl[r]:void 0}))},t.prototype.runService=function(e,t){var n=this;e&&e.url&&e.callback&&(e.isScript?function(e,t,n){var r,i=document.createElement("script");i.type="text/"+(e.type||"javascript"),i.src=e.src||e,i.async=!1,i.onreadystatechange=i.onload=function(){var e=i.readyState;clearTimeout(r),t.done||e&&!/loaded|complete/.test(e)||(t.done=!0,t(),i.onreadystatechange=i.onload=null)},document.body.appendChild(i),r=setTimeout((function(){t.done=!0,t(),i.onreadystatechange=i.onload=null}),n)}:function(e,t,n,r,i){var a=new(window.XMLHttpRequest||window.ActiveXObject)("MSXML2.XMLHTTP.3.0");if(a.open(r?"POST":"GET",e,1),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Array.isArray(i))for(var s=0,o=i.length;s<o;++s){var l=i[s].split(":",2);a.setRequestHeader(l[0].replace(/^\s+|\s+$/g,""),l[1].replace(/^\s+|\s+$/g,""))}"function"==typeof t&&(a.onreadystatechange=function(){3<a.readyState&&t(a)}),a.send(r)})(this.setupUrl(e),(function(r){r=r?r.responseText:"",e.__JSONP_DATA&&(r=e.__JSONP_DATA,delete e.__JSONP_DATA),n.runServiceCallback.call(n,t,e,r)}),this.options.timeout,e.data,e.headers)},t.prototype.runServiceCallback=function(e,t,n){var r=this,i=t.callback((function(t){i||r.onServiceResult.call(r,e,t)}),n);i&&this.onServiceResult.call(this,e,i)},t.prototype.onServiceResult=function(e,t){t instanceof Error||t&&t.error?e.call(this,t,null):e.call(this,null,t)},t.prototype.runNextServiceOnError=function(e,t){e?(this.logError(e),(e=this.getNextService())?this.runService(e,this.runNextServiceOnError.bind(this)):this.completeService.call(this,this.callbackError,new Error("All services failed"))):this.completeService.call(this,this.callbackComplete,t)},t.prototype.getCurrentServiceOpts=function(){var e=this.options.services[this.currentServiceIndex];return"string"==typeof e?{name:e}:"function"==typeof e?e():u.isPlainObject(e)?e:{}},t.prototype.completeService=function(e,t){this.currentServiceIndex=-1,e&&e(t)},t.prototype.logError=function(e){var t=this.currentServiceIndex;this.getServiceByIdx(t)},t),c.Law=(h={regionalLaw:!0,hasLaw:["AT","BE","BG","HR","CZ","CY","DK","EE","FI","FR","DE","EL","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","SK","ES","SE","GB","UK","GR","EU"],revokable:["HR","CY","DK","EE","FR","DE","LV","LT","NL","PT","ES"],explicitAction:["HR","IT","ES"]},e.prototype.initialise=function(e){u.deepExtend(this.options={},h),u.isPlainObject(e)&&u.deepExtend(this.options,e)},e.prototype.get=function(e){var t=this.options;return{hasLaw:0<=t.hasLaw.indexOf(e),revokable:0<=t.revokable.indexOf(e),explicitAction:0<=t.explicitAction.indexOf(e)}},e.prototype.applyLaw=function(e,t){var n=this.get(t);return n.hasLaw||(e.enabled=!1,"function"==typeof e.onNoCookieLaw&&e.onNoCookieLaw(t,n)),this.options.regionalLaw&&(n.revokable&&(e.revokable=!0),n.explicitAction&&(e.dismissOnScroll=!1,e.dismissOnTimeout=!1)),e},e),c.initialise=function(e,t,n){var r=new c.Law(e.law),i=(t=t||function(){},n=n||function(){},Object.keys(c.status)),a=u.getCookie("cookieconsent_status");0<=i.indexOf(a)?t(new c.Popup(e)):c.getCountryCode(e,(function(n){delete e.law,delete e.location,n.code&&(e=r.applyLaw(e,n.code)),t(new c.Popup(e))}),(function(t){delete e.law,delete e.location,n(t,new c.Popup(e))}))},c.getCountryCode=function(e,t,n){e.law&&e.law.countryCode?t({code:e.law.countryCode}):e.location?new c.Location(e.location).locate((function(e){t(e||{})}),n):t({})},c.utils=u,c.hasInitialised=!0,window.cookieconsent=c)},4644:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n(6043));e.exports=function(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=i(a.SBMAX_l),this.s=i(a.SBMAX_s),this.psfb21=i(a.PSFB21),this.psfb12=i(a.PSFB12),this.cb_l=i(a.CBANDS),this.cb_s=i(a.CBANDS),this.eql_w=i(a.BLKSIZE/2)}},3881:(e,t,n)=>{var r=n(9233),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays),s=(r.new_array_n,r.new_byte),o=(r.new_double,r.new_float,r.new_float_n),l=r.new_int,c=(r.new_int_n,r.assert),u=n(4259),f=n(6330),h=n(6043),d=n(3459);function p(){var e=n(5448),t=this,r=32,p=null,_=null,m=null,b=null,v=(this.setModules=function(e,t,n,r){p=e,_=t,m=n,b=r},null),g=0,y=0,w=0;function A(t,n,a){for(c(a<30);0<a;)0==w&&(w=8,c(++y<e.LAME_MAXMP3BUFFER),c(t.header[t.w_ptr].write_timing>=g),t.header[t.w_ptr].write_timing==g&&(s=t,i.arraycopy(s.header[s.w_ptr].buf,0,v,y,s.sideinfo_len),y+=s.sideinfo_len,g+=8*s.sideinfo_len,s.w_ptr=s.w_ptr+1&d.MAX_HEADER_BUF-1),v[y]=0),s=Math.min(a,w),w-=s,c((a-=s)<r),c(w<r),v[y]|=n>>a<<w,g+=s;var s}function k(e,t){var n,r=e.internal_flags;if(c(0<=t),8<=t&&(A(r,76,8),t-=8),8<=t&&(A(r,65,8),t-=8),8<=t&&(A(r,77,8),t-=8),8<=t&&(A(r,69,8),t-=8),32<=t){var i=m.getLameShortVersion();if(32<=t)for(n=0;n<i.length&&8<=t;++n)t-=8,A(r,i.charAt(n),8)}for(;1<=t;--t)A(r,r.ancillary_flag,1),r.ancillary_flag^=e.disable_reservoir?0:1;c(0==t)}function E(e,t,n){for(var i=e.header[e.h_ptr].ptr;0<n;){var a=Math.min(n,8-(7&i));c((n-=a)<r),e.header[e.h_ptr].buf[i>>3]|=t>>n<<8-(7&i)-a,i+=a}e.header[e.h_ptr].ptr=i}function x(e,t){e<<=8;for(var n=0;n<8;n++)0!=(65536&((t<<=1)^(e<<=1)))&&(t^=32773);return t}function S(e,t){var n,r=f.ht[t.count1table_select+32],i=0,a=t.big_values,s=t.big_values;for(c(t.count1table_select<2),n=(t.count1-t.big_values)/4;0<n;--n){var o=0,l=0,u=t.l3_enc[a+0];0!=u&&(l+=8,t.xr[s+0]<0&&o++,c(u<=1)),0!=(u=t.l3_enc[a+1])&&(l+=4,o*=2,t.xr[s+1]<0&&o++,c(u<=1)),0!=(u=t.l3_enc[a+2])&&(l+=2,o*=2,t.xr[s+2]<0&&o++,c(u<=1)),0!=(u=t.l3_enc[a+3])&&(l++,o*=2,t.xr[s+3]<0&&o++,c(u<=1)),a+=4,s+=4,A(e,o+r.table[l],r.hlen[l]),i+=r.hlen[l]}return i}function R(e,t,n,i,a){var s=f.ht[t],o=0;if(c(t<32),0==t)return o;for(var l=n;l<i;l+=2){var u,h=0,d=0,p=s.xlen,_=s.xlen,m=0,b=a.l3_enc[l],v=a.l3_enc[l+1];0!=b&&(a.xr[l]<0&&m++,h--),15<t&&(14<b&&(c((u=b-15)<=s.linmax),m|=u<<1,d=p,b=15),14<v&&(c((u=v-15)<=s.linmax),m=m<<p|u,d+=p,v=15),_=16),0!=v&&(m<<=1,a.xr[l+1]<0&&m++,h--),c((b|v)<16),d-=h,h+=s.hlen[b=b*_+v],c(h<=r),c(d<=r),A(e,s.table[b],h),A(e,m,d),o+=h+d}return o}function M(e,t){var n=3*e.scalefac_band.s[3];return(n>t.big_values&&(n=t.big_values),R(e,t.table_select[0],0,n,t))+R(e,t.table_select[1],n,t.big_values,t)}function T(e,t){var n,r,i=t.big_values,a=(c(0<=i&&i<=576),t.region0_count+1);return c(0<=a),c(a<e.scalefac_band.l.length),r=e.scalefac_band.l[a],a+=t.region1_count+1,c(0<=a),c(a<e.scalefac_band.l.length),i<(a=e.scalefac_band.l[a])&&(a=i),n=R(e,t.table_select[0],0,r=i<r?i:r,t),(n+=R(e,t.table_select[1],r,a,t))+R(e,t.table_select[2],a,i,t)}function O(){this.total=0}function B(e,n){var r,a,s=e.internal_flags,o=s.w_ptr,l=s.h_ptr-1;return-1==l&&(l=d.MAX_HEADER_BUF-1),r=s.header[l].write_timing-g,0<=(n.total=r)&&(a=1+l-o,r-=8*(a=l<o?1+l-o+d.MAX_HEADER_BUF:a)*s.sideinfo_len),r+=l=t.getframebits(e),n.total+=l,n.total%8!=0?n.total=1+n.total/8:n.total=n.total/8,n.total+=y+1,r<0&&i.err.println("strange error flushing buffer ... \n"),r}this.getframebits=function(e){var t=e.internal_flags,n=0!=t.bitrate_index?f.bitrate_table[e.version][t.bitrate_index]:e.brate;return c(8<=n&&n<=640),8*(0|72e3*(e.version+1)*n/e.out_samplerate+t.padding)},this.CRC_writeheader=function(e,t){var n=65535;n=x(255&t[2],n);n=x(255&t[3],n);for(var r=6;r<e.sideinfo_len;r++)n=x(255&t[r],n);t[4]=byte(n>>8),t[5]=byte(255&n)},this.flush_bitstream=function(e){var t,n,r=e.internal_flags,i=r.h_ptr-1;-1==i&&(i=d.MAX_HEADER_BUF-1),t=r.l3_side,(n=B(e,new O))<0||(k(e,n),c(r.header[i].write_timing+this.getframebits(e)==g),r.ResvSize=0,t.main_data_begin=0,r.findReplayGain&&(n=p.GetTitleGain(r.rgdata),c(NEQ(n,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),r.RadioGain=0|Math.floor(10*n+.5)),r.findPeakSample&&(r.noclipGainChange=0|Math.ceil(20*Math.log10(r.PeakSample/32767)*10),0<r.noclipGainChange&&(EQ(e.scale,1)||EQ(e.scale,0))?r.noclipScale=Math.floor(32767/r.PeakSample*100)/100:r.noclipScale=-1))},this.add_dummy_byte=function(t,n,i){for(var a,s=t.internal_flags;0<i--;){o=u=void 0;var o,l=n,u=8;for(c(u<30);0<u;)0==w&&(w=8,c(++y<e.LAME_MAXMP3BUFFER),v[y]=0),o=Math.min(u,w),w-=o,c((u-=o)<r),c(w<r),v[y]|=l>>u<<w,g+=o;for(a=0;a<d.MAX_HEADER_BUF;++a)s.header[a].write_timing+=8}},this.format_bitstream=function(e){var t,n,r,s=e.internal_flags,o=s.l3_side,l=this.getframebits(e),f=(k(e,o.resvDrain_pre),e),p=l,_=f.internal_flags,m=_.l3_side;if(_.header[_.h_ptr].ptr=0,a.fill(_.header[_.h_ptr].buf,0,_.sideinfo_len,0),f.out_samplerate<16e3?E(_,4094,12):E(_,4095,12),E(_,f.version,1),E(_,1,2),E(_,f.error_protection?0:1,1),E(_,_.bitrate_index,4),E(_,_.samplerate_index,2),E(_,_.padding,1),E(_,f.extension,1),E(_,f.mode.ordinal(),2),E(_,_.mode_ext,2),E(_,f.copyright,1),E(_,f.original,1),E(_,f.emphasis,2),f.error_protection&&E(_,0,16),1==f.version){for(c(0<=m.main_data_begin),E(_,m.main_data_begin,9),2==_.channels_out?E(_,m.private_bits,3):E(_,m.private_bits,5),n=0;n<_.channels_out;n++)for(var b=0;b<4;b++)E(_,m.scfsi[n][b],1);for(t=0;t<2;t++)for(n=0;n<_.channels_out;n++)E(_,(r=m.tt[t][n]).part2_3_length+r.part2_length,12),E(_,r.big_values/2,9),E(_,r.global_gain,8),E(_,r.scalefac_compress,4),r.block_type!=h.NORM_TYPE?(E(_,1,1),E(_,r.block_type,2),E(_,r.mixed_block_flag,1),14==r.table_select[0]&&(r.table_select[0]=16),E(_,r.table_select[0],5),14==r.table_select[1]&&(r.table_select[1]=16),E(_,r.table_select[1],5),E(_,r.subblock_gain[0],3),E(_,r.subblock_gain[1],3),E(_,r.subblock_gain[2],3)):(E(_,0,1),14==r.table_select[0]&&(r.table_select[0]=16),E(_,r.table_select[0],5),14==r.table_select[1]&&(r.table_select[1]=16),E(_,r.table_select[1],5),14==r.table_select[2]&&(r.table_select[2]=16),E(_,r.table_select[2],5),c(0<=r.region0_count&&r.region0_count<16),c(0<=r.region1_count&&r.region1_count<8),E(_,r.region0_count,4),E(_,r.region1_count,3)),E(_,r.preflag,1),E(_,r.scalefac_scale,1),E(_,r.count1table_select,1)}else for(c(0<=m.main_data_begin),E(_,m.main_data_begin,8),E(_,m.private_bits,_.channels_out),n=t=0;n<_.channels_out;n++)E(_,(r=m.tt[t][n]).part2_3_length+r.part2_length,12),E(_,r.big_values/2,9),E(_,r.global_gain,8),E(_,r.scalefac_compress,9),r.block_type!=h.NORM_TYPE?(E(_,1,1),E(_,r.block_type,2),E(_,r.mixed_block_flag,1),14==r.table_select[0]&&(r.table_select[0]=16),E(_,r.table_select[0],5),14==r.table_select[1]&&(r.table_select[1]=16),E(_,r.table_select[1],5),E(_,r.subblock_gain[0],3),E(_,r.subblock_gain[1],3),E(_,r.subblock_gain[2],3)):(E(_,0,1),14==r.table_select[0]&&(r.table_select[0]=16),E(_,r.table_select[0],5),14==r.table_select[1]&&(r.table_select[1]=16),E(_,r.table_select[1],5),14==r.table_select[2]&&(r.table_select[2]=16),E(_,r.table_select[2],5),c(0<=r.region0_count&&r.region0_count<16),c(0<=r.region1_count&&r.region1_count<8),E(_,r.region0_count,4),E(_,r.region1_count,3)),E(_,r.scalefac_scale,1),E(_,r.count1table_select,1);if(f.error_protection&&CRC_writeheader(_,_.header[_.h_ptr].buf),f=_.h_ptr,c(_.header[f].ptr==8*_.sideinfo_len),_.h_ptr=f+1&d.MAX_HEADER_BUF-1,_.header[_.h_ptr].write_timing=_.header[f].write_timing+p,_.h_ptr==_.w_ptr&&i.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n"),f=8*s.sideinfo_len,f+=function(e){var t,n,r=0,i=e.internal_flags,a=i.l3_side;if(1==e.version)for(t=0;t<2;t++)for(n=0;n<i.channels_out;n++){for(var s=a.tt[t][n],o=u.slen1_tab[s.scalefac_compress],l=u.slen2_tab[s.scalefac_compress],f=0,d=0;d<s.sfbdivide;d++)-1!=s.scalefac[d]&&(A(i,s.scalefac[d],o),f+=o);for(;d<s.sfbmax;d++)-1!=s.scalefac[d]&&(A(i,s.scalefac[d],l),f+=l);c(f==s.part2_length),s.block_type==h.SHORT_TYPE?f+=M(i,s):f+=T(i,s),f+=S(i,s),c(f==s.part2_3_length+s.part2_length),r+=f}else for(n=t=0;n<i.channels_out;n++){s=a.tt[t][n];var p,_=0;if(c(null!=s.sfb_partition_table),p=d=f=0,s.block_type==h.SHORT_TYPE){for(;p<4;p++)for(var m=s.sfb_partition_table[p]/3,b=s.slen[p],v=0;v<m;v++,d++)A(i,Math.max(s.scalefac[3*d+0],0),b),A(i,Math.max(s.scalefac[3*d+1],0),b),A(i,Math.max(s.scalefac[3*d+2],0),b),_+=3*b;f+=M(i,s)}else{for(;p<4;p++)for(m=s.sfb_partition_table[p],b=s.slen[p],v=0;v<m;v++,d++)A(i,Math.max(s.scalefac[d],0),b),_+=b;f+=T(i,s)}f+=S(i,s),c(f==s.part2_3_length),c(_==s.part2_length),r+=_+f}return r}(e),k(e,o.resvDrain_post),f+=o.resvDrain_post,o.main_data_begin+=(l-f)/8,B(e,new O)!=s.ResvSize&&i.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*o.main_data_begin!=s.ResvSize&&(i.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*o.main_data_begin,s.ResvSize,o.resvDrain_post,o.resvDrain_pre,8*s.sideinfo_len,f-o.resvDrain_post-8*s.sideinfo_len,f,f%8,l),i.err.println("This is a fatal error.  It has several possible causes:"),i.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),i.err.println(" 9%%  Your system is overclocked"),i.err.println(" 1%%  bug in LAME encoding library"),s.ResvSize=8*o.main_data_begin),c(g%8==0),1e9<g){for(var v=0;v<d.MAX_HEADER_BUF;++v)s.header[v].write_timing-=g;g=0}return 0},this.copy_buffer=function(e,t,n,r,a){var s=y+1;if(s<=0)return 0;if(0!=r&&r<s)return-1;if(i.arraycopy(v,0,t,n,s),y=-1,(w=0)!=a&&((r=l(1))[0]=e.nMusicCRC,b.updateMusicCRC(r,t,n,s),e.nMusicCRC=r[0],0<s&&(e.VBR_seek_table.nBytesWritten+=s),e.decode_on_the_fly))for(var u,f=o([2,1152]),h=s,d=-1;0!=d;)if(d=_.hip_decode1_unclipped(e.hip,t,n,h,f[0],f[1]),(h=0)<(d=-1==d?0:d)){if(c(d<=1152),e.findPeakSample){for(u=0;u<d;u++)f[0][u]>e.PeakSample?e.PeakSample=f[0][u]:-f[0][u]>e.PeakSample&&(e.PeakSample=-f[0][u]);if(1<e.channels_out)for(u=0;u<d;u++)f[1][u]>e.PeakSample?e.PeakSample=f[1][u]:-f[1][u]>e.PeakSample&&(e.PeakSample=-f[1][u])}if(e.findReplayGain&&p.AnalyzeSamples(e.rgdata,f[0],0,f[1],0,d,e.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}return s},this.init_bit_stream_w=function(t){v=s(e.LAME_MAXMP3BUFFER),t.h_ptr=t.w_ptr=0,t.header[t.h_ptr].write_timing=0,y=-1,g=w=0}}p.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},p.NEQ=function(e,t){return!p.EQ(e,t)},e.exports=p},5506:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int),s=(r.new_int_n,r.assert),o=n(423),l=n(6043),c=n(3425),u=n(3459);e.exports=function(e){this.quantize=e,this.iteration_loop=function(e,t,n,r){var f,h=e.internal_flags,d=i(c.SFBMAX),p=i(576),_=a(2),m=h.l3_side,b=new o(0);this.quantize.rv.ResvFrameBegin(e,b);for(var v=b.bits,g=0;g<h.mode_gr;g++){f=this.quantize.qupvt.on_pe(e,t,_,v,g,g),h.mode_ext==l.MPG_MD_MS_LR&&(this.quantize.ms_convert(h.l3_side,g),this.quantize.qupvt.reduce_side(_,n[g],v,f));for(var y=0;y<h.channels_out;y++){var w=m.tt[g][y],A=w.block_type!=l.SHORT_TYPE?h.PSY.mask_adjust-0:h.PSY.mask_adjust_short-0;h.masking_lower=Math.pow(10,.1*A),this.quantize.init_outer_loop(h,w),this.quantize.init_xrpow(h,w,p)&&(this.quantize.qupvt.calc_xmin(e,r[g][y],w,d),this.quantize.outer_loop(e,w,d,p,y,_[y])),this.quantize.iteration_finish_one(h,g,y),s(w.part2_3_length<=u.MAX_BITS_PER_CHANNEL),s(w.part2_3_length<=_[y])}}this.quantize.rv.ResvFrameEnd(h,v)}}},9390:(e,t,n)=>{var r=(n=n(9233)).new_float,i=n.new_int;n.assert,e.exports=function(){this.global_gain=0,this.sfb_count1=0,this.step=i(39),this.noise=r(39),this.noise_log=r(39)}},8711:e=>{e.exports=function(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}},6043:(e,t,n)=>{var r=n(9233),i=r.System,a=r.VbrMode,s=(r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n),o=(r.new_byte,r.new_double,r.new_float),l=r.new_float_n,c=r.new_int,u=(r.new_int_n,r.assert);function f(){var e=n(7419),t=n(2671),r=n(4027),h=f.FFTOFFSET,d=f.MPG_MD_MS_LR,p=null,_=this.psy=null,m=null,b=null,v=(this.setModules=function(e,t,n,r){p=e,this.psy=t,_=t,m=r,b=n},new e);this.lame_encode_mp3_frame=function(e,n,g,y,w,A){var k,E,x,S,R,M,T=s([2,2]),O=(T[0][0]=new t,T[0][1]=new t,T[1][0]=new t,T[1][1]=new t,s([2,2])),B=(O[0][0]=new t,O[0][1]=new t,O[1][0]=new t,O[1][1]=new t,[null,null]),P=e.internal_flags,C=l([2,4]),L=[.5,.5],j=[[0,0],[0,0]],I=[[0,0],[0,0]];if(B[0]=n,B[1]=g,0==P.lame_encode_frame_init){var V,D,N=B,H=(n=e).internal_flags;if(0==H.lame_encode_frame_init){var F,W,q=o(2014),X=o(2014);for(H.lame_encode_frame_init=1,W=F=0;F<286+576*(1+H.mode_gr);++F)F<576*H.mode_gr?(q[F]=0,2==H.channels_out&&(X[F]=0)):(q[F]=N[0][W],2==H.channels_out&&(X[F]=N[1][W]),++W);for(D=0;D<H.mode_gr;D++)for(V=0;V<H.channels_out;V++)H.l3_side.tt[D][V].block_type=f.SHORT_TYPE;v.mdct_sub48(H,q,X),u(f.FFTOFFSET<=576),u(H.mf_size>=f.BLKSIZE+n.framesize-f.FFTOFFSET),u(H.mf_size>=512+n.framesize-32)}}if(P.padding=0,(P.slot_lag-=P.frac_SpF)<0&&(P.slot_lag+=e.out_samplerate,P.padding=1),0!=P.psymodel)for(var U=[null,null],Y=0,z=c(2),G=0;G<P.mode_gr;G++){for(x=0;x<P.channels_out;x++)U[x]=B[x],Y=576+576*G-f.FFTOFFSET;if(0!=(e.VBR==a.vbr_mtrh||e.VBR==a.vbr_mt?_.L3psycho_anal_vbr(e,U,Y,G,T,O,j[G],I[G],C[G],z):_.L3psycho_anal_ns(e,U,Y,G,T,O,j[G],I[G],C[G],z)))return-4;for(e.mode==r.JOINT_STEREO&&(L[G]=C[G][2]+C[G][3],0<L[G]&&(L[G]=C[G][3]/L[G])),x=0;x<P.channels_out;x++){var K=P.l3_side.tt[G][x];K.block_type=z[x],K.mixed_block_flag=0}}else for(G=0;G<P.mode_gr;G++)for(x=0;x<P.channels_out;x++)P.l3_side.tt[G][x].block_type=f.NORM_TYPE,P.l3_side.tt[G][x].mixed_block_flag=0,I[G][x]=j[G][x]=700;if(0==(g=P).ATH.useAdjust?g.ATH.adjust=1:(n=g.loudness_sq[0][0],S=g.loudness_sq[1][0],2==g.channels_out?(n+=g.loudness_sq[0][1],S+=g.loudness_sq[1][1]):(n+=n,S+=S),.03125<(n=.5*(n=2==g.mode_gr?Math.max(n,S):n)*g.ATH.aaSensitivityP)?(1<=g.ATH.adjust?g.ATH.adjust=1:g.ATH.adjust<g.ATH.adjustLimit&&(g.ATH.adjust=g.ATH.adjustLimit),g.ATH.adjustLimit=1):(g.ATH.adjust>=(S=31.98*n+625e-6)?(g.ATH.adjust*=.075*S+.925,g.ATH.adjust<S&&(g.ATH.adjust=S)):g.ATH.adjustLimit>=S?g.ATH.adjust=S:g.ATH.adjust<g.ATH.adjustLimit&&(g.ATH.adjust=g.ATH.adjustLimit),g.ATH.adjustLimit=S)),v.mdct_sub48(P,B[0],B[1]),P.mode_ext=f.MPG_MD_LR_LR,e.force_ms)P.mode_ext=f.MPG_MD_MS_LR;else if(e.mode==r.JOINT_STEREO){var Z=0,Q=0;for(G=0;G<P.mode_gr;G++)for(x=0;x<P.channels_out;x++)Z+=I[G][x],Q+=j[G][x];Z<=+Q&&(n=P.l3_side.tt[0],g=P.l3_side.tt[P.mode_gr-1],n[0].block_type==n[1].block_type&&g[0].block_type==g[1].block_type&&(P.mode_ext=f.MPG_MD_MS_LR))}if(E=P.mode_ext==d?(k=O,I):(k=T,j),e.analysis&&null!=P.pinfo)for(G=0;G<P.mode_gr;G++)for(x=0;x<P.channels_out;x++)P.pinfo.ms_ratio[G]=P.ms_ratio[G],P.pinfo.ms_ener_ratio[G]=L[G],P.pinfo.blocktype[G][x]=P.l3_side.tt[G][x].block_type,P.pinfo.pe[G][x]=E[G][x],i.arraycopy(P.l3_side.tt[G][x].xr,0,P.pinfo.xr[G][x],0,576),P.mode_ext==d&&(P.pinfo.ers[G][x]=P.pinfo.ers[G][x+2],i.arraycopy(P.pinfo.energy[G][x+2],0,P.pinfo.energy[G][x],0,P.pinfo.energy[G][x].length));if(e.VBR==a.vbr_off||e.VBR==a.vbr_abr){for(var J,$=0;$<18;$++)P.nsPsy.pefirbuf[$]=P.nsPsy.pefirbuf[$+1];for(G=J=0;G<P.mode_gr;G++)for(x=0;x<P.channels_out;x++)J+=E[G][x];for(P.nsPsy.pefirbuf[18]=J,J=P.nsPsy.pefirbuf[9],$=0;$<9;$++)J+=(P.nsPsy.pefirbuf[$]+P.nsPsy.pefirbuf[18-$])*f.fircoef[$];for(J=3350*P.mode_gr*P.channels_out/J,G=0;G<P.mode_gr;G++)for(x=0;x<P.channels_out;x++)E[G][x]*=J}if(P.iteration_loop.iteration_loop(e,E,L,k),p.format_bitstream(e),S=p.copy_buffer(P,y,w,A,1),e.bWriteVbrTag&&m.addVbrFrame(e),e.analysis&&null!=P.pinfo){for(x=0;x<P.channels_out;x++){for(var ee=0;ee<h;ee++)P.pinfo.pcmdata[x][ee]=P.pinfo.pcmdata[x][ee+e.framesize];for(ee=h;ee<1600;ee++)P.pinfo.pcmdata[x][ee]=B[x][ee-h]}b.set_frame_pinfo(e,k)}var te=P;for(u(0<=te.bitrate_index&&te.bitrate_index<16),u(0<=te.mode_ext&&te.mode_ext<4),te.bitrate_stereoMode_Hist[te.bitrate_index][4]++,te.bitrate_stereoMode_Hist[15][4]++,2==te.channels_out&&(te.bitrate_stereoMode_Hist[te.bitrate_index][te.mode_ext]++,te.bitrate_stereoMode_Hist[15][te.mode_ext]++),R=0;R<te.mode_gr;++R)for(M=0;M<te.channels_out;++M){var ne=0|te.l3_side.tt[R][M].block_type;0!=te.l3_side.tt[R][M].mixed_block_flag&&(ne=4),te.bitrate_blockType_Hist[te.bitrate_index][ne]++,te.bitrate_blockType_Hist[te.bitrate_index][5]++,te.bitrate_blockType_Hist[15][ne]++,te.bitrate_blockType_Hist[15][5]++}return S}}f.ENCDELAY=576,f.POSTDELAY=1152,f.FFTOFFSET=224+(f.MDCTDELAY=48),f.DECDELAY=528,f.SBLIMIT=32,f.CBANDS=64,f.SBPSY_l=21,f.SBPSY_s=12,f.SBMAX_l=22,f.SBMAX_s=13,f.PSFB21=6,f.PSFB12=6,f.HBLKSIZE=(f.BLKSIZE=1024)/2+1,f.HBLKSIZE_s=(f.BLKSIZE_s=256)/2+1,f.NORM_TYPE=0,f.START_TYPE=1,f.SHORT_TYPE=2,f.STOP_TYPE=3,f.MPG_MD_LR_LR=0,f.MPG_MD_LR_I=1,f.MPG_MD_MS_LR=2,f.MPG_MD_MS_I=3,f.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],e.exports=f},7314:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util),a=(r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),s=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n(6043));e.exports=function(){var e=a(s.BLKSIZE),t=a(s.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(e,t,r){var a=0,s=t+(r<<=1);p=4;do{var o,l,c,u=p>>1,f=p,h=p<<1,d=h+f,p=h<<1;v=(b=t)+u;do{}while(w=e[b+0]-e[b+f],y=e[b+0]+e[b+f],x=e[b+h]-e[b+d],k=e[b+h]+e[b+d],e[b+h]=y-k,e[b+0]=y+k,e[b+d]=w-x,e[b+f]=w+x,w=e[v+0]-e[v+f],y=e[v+0]+e[v+f],x=i.SQRT2*e[v+d],k=i.SQRT2*e[v+h],e[v+h]=y-k,e[v+0]=y+k,e[v+d]=w-x,e[v+f]=w+x,v+=p,(b+=p)<s);for(l=n[a+0],o=n[a+1],c=1;c<u;c++){var _=1-2*o*o,m=2*o*l,b=t+c,v=t+f-c;do{var g,y,w,A,k,E,x,S,R=m*e[b+f]-_*e[v+f],M=_*e[b+f]+m*e[v+f]}while(w=e[b+0]-M,y=e[b+0]+M,A=e[v+0]-R,g=e[v+0]+R,R=m*e[b+d]-_*e[v+d],M=_*e[b+d]+m*e[v+d],x=e[b+h]-M,k=e[b+h]+M,S=e[v+h]-R,E=e[v+h]+R,R=o*k-l*S,e[b+h]=y-(M=l*k+o*S),e[b+0]=y+M,e[v+d]=A-R,e[v+f]=A+R,R=l*E-o*x,e[v+h]=g-(M=o*E+l*x),e[v+0]=g+M,e[b+d]=w-R,e[b+f]=w+R,v+=p,(b+=p)<s);l=(_=l)*n[a+0]-o*n[a+1],o=_*n[a+1]+o*n[a+0]}}while(a+=2,p<r)}var o=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,n,i,a,l){for(var c=0;c<3;c++){var u=s.BLKSIZE_s/2,f=65535&192*(c+1),h=s.BLKSIZE_s/8-1;do{var d,p,_=255&o[h<<2],m=t[_]*a[i][l+_+f],b=t[127-_]*a[i][l+_+f+128],v=m-b}while(m+=b,p=(d=t[64+_]*a[i][l+_+f+64])-(b=t[63-_]*a[i][l+_+f+192]),d+=b,u-=4,n[c][u+0]=m+d,n[c][u+2]=m-d,n[c][u+1]=v+p,n[c][u+3]=v-p,v=(m=t[1+_]*a[i][l+_+f+1])-(b=t[126-_]*a[i][l+_+f+129]),m+=b,p=(d=t[65+_]*a[i][l+_+f+65])-(b=t[62-_]*a[i][l+_+f+193]),d+=b,n[c][u+s.BLKSIZE_s/2+0]=m+d,n[c][u+s.BLKSIZE_s/2+2]=m-d,n[c][u+s.BLKSIZE_s/2+1]=v+p,n[c][u+s.BLKSIZE_s/2+3]=v-p,0<=--h);r(n[c],u,s.BLKSIZE_s/2)}},this.fft_long=function(t,n,i,a,l){var c=s.BLKSIZE/8-1,u=s.BLKSIZE/2;do{var f,h,d=255&o[c],p=e[d]*a[i][l+d],_=e[512+d]*a[i][l+d+512],m=p-_}while(p+=_,h=(f=e[256+d]*a[i][l+d+256])-(_=e[768+d]*a[i][l+d+768]),n[0+(u-=4)]=p+(f+=_),n[u+2]=p-f,n[u+1]=m+h,n[u+3]=m-h,m=(p=e[1+d]*a[i][l+d+1])-(_=e[513+d]*a[i][l+d+513]),p+=_,h=(f=e[257+d]*a[i][l+d+257])-(_=e[769+d]*a[i][l+d+769]),n[u+s.BLKSIZE/2+0]=p+(f+=_),n[u+s.BLKSIZE/2+2]=p-f,n[u+s.BLKSIZE/2+1]=m+h,n[u+s.BLKSIZE/2+3]=m-h,0<=--c);r(n,u,s.BLKSIZE/2)},this.init_fft=function(n){for(var r=0;r<s.BLKSIZE;r++)e[r]=.42-.5*Math.cos(2*Math.PI*(r+.5)/s.BLKSIZE)+.08*Math.cos(4*Math.PI*(r+.5)/s.BLKSIZE);for(r=0;r<s.BLKSIZE_s/2;r++)t[r]=.5*(1-Math.cos(2*Math.PI*(r+.5)/s.BLKSIZE_s))}}},3189:(e,t,n)=>{var r=(n=n(9233)).System,i=(n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays);function a(){var e=a.RMS_WINDOW_TIME_NUMERATOR,t=a.RMS_WINDOW_TIME_DENOMINATOR,n=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],s=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function o(e,t,n,r,i,a){for(;0!=i--;)n[r]=1e-10+e[t+0]*a[0]-n[r-1]*a[1]+e[t-1]*a[2]-n[r-2]*a[3]+e[t-2]*a[4]-n[r-3]*a[5]+e[t-3]*a[6]-n[r-4]*a[7]+e[t-4]*a[8]-n[r-5]*a[9]+e[t-5]*a[10]-n[r-6]*a[11]+e[t-6]*a[12]-n[r-7]*a[13]+e[t-7]*a[14]-n[r-8]*a[15]+e[t-8]*a[16]-n[r-9]*a[17]+e[t-9]*a[18]-n[r-10]*a[19]+e[t-10]*a[20],++r,++t}function l(e,t,n,r,i,a){for(;0!=i--;)n[r]=e[t+0]*a[0]-n[r-1]*a[1]+e[t-1]*a[2]-n[r-2]*a[3]+e[t-2]*a[4],++r,++t}function c(e){return e*e}this.InitGainAnalysis=function(n,r){return function(n,r){for(var a=0;a<MAX_ORDER;a++)n.linprebuf[a]=n.lstepbuf[a]=n.loutbuf[a]=n.rinprebuf[a]=n.rstepbuf[a]=n.routbuf[a]=0;switch(0|r){case 48e3:n.reqindex=0;break;case 44100:n.reqindex=1;break;case 32e3:n.reqindex=2;break;case 24e3:n.reqindex=3;break;case 22050:n.reqindex=4;break;case 16e3:n.reqindex=5;break;case 12e3:n.reqindex=6;break;case 11025:n.reqindex=7;break;case 8e3:n.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return n.sampleWindow=0|(r*e+t-1)/t,n.lsum=0,n.rsum=0,n.totsamp=0,i.ill(n.A,0),INIT_GAIN_ANALYSIS_OK}(n,r)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(n.linpre=MAX_ORDER,n.rinpre=MAX_ORDER,n.lstep=MAX_ORDER,n.rstep=MAX_ORDER,n.lout=MAX_ORDER,n.rout=MAX_ORDER,i.fill(n.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(e,t,i,u,f,h,d){var p,_;if(0==h)return GAIN_ANALYSIS_OK;switch(_=0,p=h,d){case 1:u=t,f=i;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(h<MAX_ORDER?(r.arraycopy(t,i,e.linprebuf,MAX_ORDER,h),r.arraycopy(u,f,e.rinprebuf,MAX_ORDER,h)):(r.arraycopy(t,i,e.linprebuf,MAX_ORDER,MAX_ORDER),r.arraycopy(u,f,e.rinprebuf,MAX_ORDER,MAX_ORDER));0<p;){m=p>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:p,_<MAX_ORDER?(b=e.linpre+_,v=e.linprebuf,g=e.rinpre+_,y=e.rinprebuf,m>MAX_ORDER-_&&(m=MAX_ORDER-_)):(b=i+_,v=t,g=f+_,y=u),o(v,b,e.lstepbuf,e.lstep+e.totsamp,m,n[e.reqindex]),o(y,g,e.rstepbuf,e.rstep+e.totsamp,m,n[e.reqindex]),l(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,m,s[e.reqindex]),l(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,m,s[e.reqindex]);for(var m,b=e.lout+e.totsamp,v=e.loutbuf,g=e.rout+e.totsamp,y=e.routbuf,w=m%8;0!=w--;)e.lsum+=c(v[b++]),e.rsum+=c(y[g++]);for(w=m/8;0!=w--;)e.lsum+=c(v[b+0])+c(v[b+1])+c(v[b+2])+c(v[b+3])+c(v[b+4])+c(v[b+5])+c(v[b+6])+c(v[b+7]),b+=8,e.rsum+=c(y[g+0])+c(y[g+1])+c(y[g+2])+c(y[g+3])+c(y[g+4])+c(y[g+5])+c(y[g+6])+c(y[g+7]),g+=8;if(p-=m,_+=m,e.totsamp+=m,e.totsamp==e.sampleWindow&&((m=(m=10*a.STEPS_per_dB*Math.log10((e.lsum+e.rsum)/e.totsamp*.5+1e-37))<=0?0:0|m)>=e.A.length&&(m=e.A.length-1),e.A[m]++,e.lsum=e.rsum=0,r.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),r.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),r.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),r.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0),e.totsamp>e.sampleWindow)return GAIN_ANALYSIS_ERROR}return h<MAX_ORDER?(r.arraycopy(e.linprebuf,h,e.linprebuf,0,MAX_ORDER-h),r.arraycopy(e.rinprebuf,h,e.rinprebuf,0,MAX_ORDER-h),r.arraycopy(t,i,e.linprebuf,MAX_ORDER-h,h),r.arraycopy(u,f,e.rinprebuf,MAX_ORDER-h,h)):(r.arraycopy(t,i+h-MAX_ORDER,e.linprebuf,0,MAX_ORDER),r.arraycopy(u,f+h-MAX_ORDER,e.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(e){for(var t=function(e,t){for(var n=0,r=0;r<t;r++)n+=e[r];if(0==n)return GAIN_NOT_ENOUGH_SAMPLES;var i=0|Math.ceil(n*(1-.95));for(r=t;0<r--&&!((i-=e[r])<=0););return 64.82-r/a.STEPS_per_dB}(e.A,e.A.length),n=0;n<e.A.length;n++)e.B[n]+=e.A[n],e.A[n]=0;for(n=0;n<MAX_ORDER;n++)e.linprebuf[n]=e.lstepbuf[n]=e.loutbuf[n]=e.rinprebuf[n]=e.rstepbuf[n]=e.routbuf[n]=0;return e.totsamp=0,e.lsum=e.rsum=0,t}}n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n,n.new_int,n.new_int_n,n.assert,a.STEPS_per_dB=100,a.MAX_dB=120,a.GAIN_NOT_ENOUGH_SAMPLES=-24601,a.GAIN_ANALYSIS_ERROR=0,a.GAIN_ANALYSIS_OK=1,a.INIT_GAIN_ANALYSIS_ERROR=0,a.INIT_GAIN_ANALYSIS_OK=1,a.MAX_ORDER=a.YULE_ORDER=10,a.MAX_SAMPLES_PER_WINDOW=(a.MAX_SAMP_FREQ=48e3)*(a.RMS_WINDOW_TIME_NUMERATOR=1)/(a.RMS_WINDOW_TIME_DENOMINATOR=20)+1,e.exports=a},1166:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int),s=(r.new_int_n,r.assert,n(3425));e.exports=function(){this.xr=i(576),this.l3_enc=a(576),this.scalefac=a(s.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=a(3),this.subblock_gain=a(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=a(s.SFBMAX),this.window=a(s.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=a(4),this.max_nonzero_coeff=0;var e=this;function t(e){return new Int32Array(e)}this.assign=function(n){var r;e.xr=(r=n.xr,new Float32Array(r)),e.l3_enc=t(n.l3_enc),e.scalefac=t(n.scalefac),e.xrpow_max=n.xrpow_max,e.part2_3_length=n.part2_3_length,e.big_values=n.big_values,e.count1=n.count1,e.global_gain=n.global_gain,e.scalefac_compress=n.scalefac_compress,e.block_type=n.block_type,e.mixed_block_flag=n.mixed_block_flag,e.table_select=t(n.table_select),e.subblock_gain=t(n.subblock_gain),e.region0_count=n.region0_count,e.region1_count=n.region1_count,e.preflag=n.preflag,e.scalefac_scale=n.scalefac_scale,e.count1table_select=n.count1table_select,e.part2_length=n.part2_length,e.sfb_lmax=n.sfb_lmax,e.sfb_smin=n.sfb_smin,e.psy_lmax=n.psy_lmax,e.sfbmax=n.sfbmax,e.psymax=n.psymax,e.sfbdivide=n.sfbdivide,e.width=t(n.width),e.window=t(n.window),e.count1bits=n.count1bits,e.sfb_partition_table=n.sfb_partition_table.slice(0),e.slen=t(n.slen),e.max_nonzero_coeff=n.max_nonzero_coeff}}},237:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),a=(r.new_int_n,r.assert,n(1166));e.exports=function(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[i(4),i(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new a}},2671:(e,t,n)=>{var r=n(110);e.exports=function(){this.thm=new r,this.en=new r}},110:(e,t,n)=>{var r=n(6043),i=(n=n(9233)).System,a=(n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float),s=n.new_float_n;n.new_int,n.new_int_n,n.assert,e.exports=function(){this.l=a(r.SBMAX_l),this.s=s([r.SBMAX_s,3]);var e=this;this.assign=function(t){i.arraycopy(t.l,0,e.l,0,r.SBMAX_l);for(var n=0;n<r.SBMAX_s;n++)for(var a=0;a<3;a++)e.s[n][a]=t.s[n][a]}}},3425:(e,t,n)=>{n=n(6043);var r={};r.SFBMAX=3*n.SBMAX_s,e.exports=r},5448:(e,t,n)=>{var r=n(9233),i=r.System,a=r.VbrMode,s=(r.Float,r.ShortBlock),o=(r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),l=(r.new_float_n,r.new_int,r.new_int_n),c=r.new_short_n,u=r.assert,f=n(7296),h=n(2033),d=n(3459),p=n(4644),_=n(3021),m=n(5506),b=n(3881),v=n(6330),g=n(6043);e.exports=function e(){var t,r,y,w,A,k,E,x,S=n(4027),R=this,M=(e.V9=410,e.V8=420,e.V7=430,e.V6=440,e.V5=450,e.V4=460,e.V3=470,e.V2=480,e.V1=490,e.V0=500,e.R3MIX=1e3,e.STANDARD=1001,e.EXTREME=1002,e.INSANE=1003,e.STANDARD_FAST=1004,e.EXTREME_FAST=1005,e.MEDIUM=1006,e.MEDIUM_FAST=1007,e.LAME_MAXMP3BUFFER=147456,new f);function T(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=o(g.SBMAX_l),this.bo_s_weight=o(g.SBMAX_s)}function O(){this.lowerlimit=0}function B(e,t){this.lowpass=t}this.enc=new g,this.setModules=function(e,n,i,a,s,o,l,c,u){t=e,r=n,y=i,w=a,A=s,k=o,E=c,x=u,this.enc.setModules(r,M,w,k)};var P=4294479419;function C(e){return 1<e?0:e<=0?1:Math.cos(Math.PI/2*e)}function L(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1;case 32e3:return t.version=1,2;case 22050:case 11025:return t.version=0;case 24e3:case 12e3:return t.version=0,1;case 16e3:case 8e3:return t.version=0,2;default:return t.version=0,-1}}function j(e,t,n){for(var r=v.bitrate_table[t=n<16e3?2:t][1],i=2;i<=14;i++)0<v.bitrate_table[t][i]&&Math.abs(v.bitrate_table[t][i]-e)<Math.abs(r-e)&&(r=v.bitrate_table[t][i]);return r}function I(e,t,n){n<16e3&&(t=2);for(var r=0;r<=14;r++)if(0<v.bitrate_table[t][r]&&v.bitrate_table[t][r]==e)return r;return-1}function V(e,t){var n=[new B(0,2e3),new B(0,3700),new B(0,3900),new B(0,5500),new B(0,7e3),new B(0,7500),new B(0,1e4),new B(0,11e3),new B(0,13500),new B(0,15100),new B(0,15600),new B(0,17e3),new B(0,17500),new B(0,18600),new B(0,19400),new B(0,19700),new B(0,20500)];t=R.nearestBitrateFullIndex(t);e.lowerlimit=n[t].lowpass}function D(e){var t=g.BLKSIZE+e.framesize-g.FFTOFFSET;t=Math.max(t,512+e.framesize-32);return u(d.MFSIZE>=t),t}function N(){this.n_in=0,this.n_out=0}function H(){this.num_used=0}this.lame_init=function(){var e,t,n=new h;return(e=n).class_id=P,t=e.internal_flags=new d,e.mode=S.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,t.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=a.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,t.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY,e.encoder_padding=0,t.mf_size=g.ENCDELAY-g.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,t.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0,n.lame_allocated_gfp=1,n},this.nearestBitrateFullIndex=function(e){for(var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,r=0,i=0,a=0,s=(a=t[16],i=16,r=t[16],n=16,0);s<16;s++)if(Math.max(e,t[s+1])!=e){a=t[s+1],i=s+1,r=t[s],n=s;break}return e-r<a-e?n:i},this.lame_init_params=function(e){var n,o=e.internal_flags;if(o.Class_ID=0,null==o.ATH&&(o.ATH=new p),null==o.PSY&&(o.PSY=new T),null==o.rgdata&&(o.rgdata=new _),o.channels_in=e.num_channels,1==o.channels_in&&(e.mode=S.MONO),o.channels_out=e.mode==S.MONO?1:2,o.mode_ext=g.MPG_MD_MS_LR,e.mode==S.MONO&&(e.force_ms=!1),e.VBR==a.vbr_off&&128!=e.VBR_mean_bitrate_kbps&&0==e.brate&&(e.brate=e.VBR_mean_bitrate_kbps),e.VBR!=a.vbr_off&&e.VBR!=a.vbr_mtrh&&e.VBR!=a.vbr_mt&&(e.free_format=!1),e.VBR==a.vbr_off&&0==e.brate&&b.EQ(e.compression_ratio,0)&&(e.compression_ratio=11.025),e.VBR==a.vbr_off&&0<e.compression_ratio&&(0==e.out_samplerate&&(e.out_samplerate=map2MP3Frequency(int(.97*e.in_samplerate))),e.brate=0|16*e.out_samplerate*o.channels_out/(1e3*e.compression_ratio),o.samplerate_index=L(e.out_samplerate,e),e.free_format||(e.brate=j(e.brate,e.version,e.out_samplerate))),0!=e.out_samplerate&&(e.out_samplerate<16e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,64)):e.out_samplerate<32e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,160)):(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,32),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320))),0==e.lowpassfreq){var c,h=16e3;switch(e.VBR){case a.vbr_off:V(c=new O,e.brate),h=c.lowerlimit;break;case a.vbr_abr:V(c=new O,e.VBR_mean_bitrate_kbps),h=c.lowerlimit;break;case a.vbr_rh:var d=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];h=0<=e.VBR_q&&e.VBR_q<=9?(R=d[e.VBR_q],B=d[e.VBR_q+1],D=e.VBR_q_frac,linear_int(R,B,D)):19500;break;default:var R,B,D;d=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];h=0<=e.VBR_q&&e.VBR_q<=9?(R=d[e.VBR_q],B=d[e.VBR_q+1],D=e.VBR_q_frac,linear_int(R,B,D)):19500}e.mode!=S.MONO||e.VBR!=a.vbr_off&&e.VBR!=a.vbr_abr||(h*=1.5),e.lowpassfreq=0|h}if(0==e.out_samplerate&&(2*e.lowpassfreq>e.in_samplerate&&(e.lowpassfreq=e.in_samplerate/2),e.out_samplerate=(J=0|e.lowpassfreq,n=44100,48e3<=($=e.in_samplerate)?n=48e3:44100<=$?n=44100:32e3<=$?n=32e3:24e3<=$?n=24e3:22050<=$?n=22050:16e3<=$?n=16e3:12e3<=$?n=12e3:11025<=$?n=11025:8e3<=$&&(n=8e3),-1==J?n:(J<=15960&&(n=44100),J<=15250&&(n=32e3),J<=11220&&(n=24e3),J<=9970&&(n=22050),J<=7230&&(n=16e3),J<=5420&&(n=12e3),J<=4510&&(n=11025),$<(n=J<=3970?8e3:n)?44100<$?48e3:32e3<$?44100:24e3<$?32e3:22050<$?24e3:16e3<$?22050:12e3<$?16e3:11025<$?12e3:8e3<$?11025:8e3:n))),e.lowpassfreq=Math.min(20500,e.lowpassfreq),e.lowpassfreq=Math.min(e.out_samplerate/2,e.lowpassfreq),e.VBR==a.vbr_off&&(e.compression_ratio=16*e.out_samplerate*o.channels_out/(1e3*e.brate)),e.VBR==a.vbr_abr&&(e.compression_ratio=16*e.out_samplerate*o.channels_out/(1e3*e.VBR_mean_bitrate_kbps)),e.bWriteVbrTag||(e.findReplayGain=!1,e.decode_on_the_fly=!1,o.findPeakSample=!1),o.findReplayGain=e.findReplayGain,o.decode_on_the_fly=e.decode_on_the_fly,o.decode_on_the_fly&&(o.findPeakSample=!0),o.findReplayGain&&t.InitGainAnalysis(o.rgdata,e.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return e.internal_flags=null,-6;switch(o.decode_on_the_fly&&!e.decode_only&&(null!=o.hip&&x.hip_decode_exit(o.hip),o.hip=x.hip_decode_init()),o.mode_gr=e.out_samplerate<=24e3?1:2,e.framesize=576*o.mode_gr,e.encoder_delay=g.ENCDELAY,o.resample_ratio=e.in_samplerate/e.out_samplerate,e.VBR){case a.vbr_mt:case a.vbr_rh:case a.vbr_mtrh:e.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][e.VBR_q];break;case a.vbr_abr:e.compression_ratio=16*e.out_samplerate*o.channels_out/(1e3*e.VBR_mean_bitrate_kbps);break;default:e.compression_ratio=16*e.out_samplerate*o.channels_out/(1e3*e.brate)}e.mode==S.NOT_SET&&(e.mode=S.JOINT_STEREO),0<e.highpassfreq?(o.highpass1=2*e.highpassfreq,0<=e.highpasswidth?o.highpass2=2*(e.highpassfreq+e.highpasswidth):o.highpass2=2*e.highpassfreq,o.highpass1/=e.out_samplerate,o.highpass2/=e.out_samplerate):(o.highpass1=0,o.highpass2=0),0<e.lowpassfreq?(o.lowpass2=2*e.lowpassfreq,0<=e.lowpasswidth?(o.lowpass1=2*(e.lowpassfreq-e.lowpasswidth),o.lowpass1<0&&(o.lowpass1=0)):o.lowpass1=2*e.lowpassfreq,o.lowpass1/=e.out_samplerate,o.lowpass2/=e.out_samplerate):(o.lowpass1=0,o.lowpass2=0);var N=e.internal_flags,H=32,F=-1;if(0<N.lowpass1){for(var W=999,q=0;q<=31;q++)(U=q/31)>=N.lowpass2&&(H=Math.min(H,q)),N.lowpass1<U&&U<N.lowpass2&&(W=Math.min(W,q));N.lowpass1=999==W?(H-.75)/31:(W-.75)/31,N.lowpass2=H/31}if(0<N.highpass2&&N.highpass2<.75/31*.9&&(N.highpass1=0,N.highpass2=0,i.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),0<N.highpass2){var X=-1;for(q=0;q<=31;q++)(U=q/31)<=N.highpass1&&(F=Math.max(F,q)),N.highpass1<U&&U<N.highpass2&&(X=Math.max(X,q));N.highpass1=F/31,N.highpass2=-1==X?(F+.75)/31:(X+.75)/31}for(q=0;q<32;q++){var U=q/31,Y=N.highpass2>N.highpass1?C((N.highpass2-U)/(N.highpass2-N.highpass1+1e-20)):1,z=N.lowpass2>N.lowpass1?C((U-N.lowpass1)/(N.lowpass2-N.lowpass1+1e-20)):1;N.amp_filter[q]=Y*z}if(o.samplerate_index=L(e.out_samplerate,e),o.samplerate_index<0)return e.internal_flags=null,-1;if(e.VBR==a.vbr_off){if(e.free_format)o.bitrate_index=0;else if(e.brate=j(e.brate,e.version,e.out_samplerate),o.bitrate_index=I(e.brate,e.version,e.out_samplerate),o.bitrate_index<=0)return e.internal_flags=null,-1}else o.bitrate_index=1;e.analysis&&(e.bWriteVbrTag=!1),null!=o.pinfo&&(e.bWriteVbrTag=!1),r.init_bit_stream_w(o);for(var G=o.samplerate_index+3*e.version+6*(e.out_samplerate<16e3?1:0),K=0;K<g.SBMAX_l+1;K++)o.scalefac_band.l[K]=w.sfBandIndex[G].l[K];for(K=0;K<g.PSFB21+1;K++){var Z=(o.scalefac_band.l[22]-o.scalefac_band.l[21])/g.PSFB21,Q=o.scalefac_band.l[21]+K*Z;o.scalefac_band.psfb21[K]=Q}for(o.scalefac_band.psfb21[g.PSFB21]=576,K=0;K<g.SBMAX_s+1;K++)o.scalefac_band.s[K]=w.sfBandIndex[G].s[K];var J,$;for(K=0;K<g.PSFB12+1;K++)Z=(o.scalefac_band.s[13]-o.scalefac_band.s[12])/g.PSFB12,Q=o.scalefac_band.s[12]+K*Z,o.scalefac_band.psfb12[K]=Q;o.scalefac_band.psfb12[g.PSFB12]=192,1==e.version?o.sideinfo_len=1==o.channels_out?21:36:o.sideinfo_len=1==o.channels_out?13:21,e.error_protection&&(o.sideinfo_len+=2),$=(J=e).internal_flags,J.frameNum=0,J.write_id3tag_automatic&&E.id3tag_write_v2(J),$.bitrate_stereoMode_Hist=l([16,5]),$.bitrate_blockType_Hist=l([16,6]),$.PeakSample=0,J.bWriteVbrTag&&k.InitVbrTag(J),o.Class_ID=P;for(var ee,te=0;te<19;te++)o.nsPsy.pefirbuf[te]=700*o.mode_gr*o.channels_out;switch(-1==e.ATHtype&&(e.ATHtype=4),u(e.VBR_q<=9),u(0<=e.VBR_q),e.VBR){case a.vbr_mt:e.VBR=a.vbr_mtrh;case a.vbr_mtrh:null==e.useTemporal&&(e.useTemporal=!1),y.apply_preset(e,500-10*e.VBR_q,0),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),e.quality<5&&(e.quality=0),5<e.quality&&(e.quality=5),o.PSY.mask_adjust=e.maskingadjust,o.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?o.sfb21_extra=!1:o.sfb21_extra=44e3<e.out_samplerate,o.iteration_loop=new VBRNewIterationLoop(A);break;case a.vbr_rh:y.apply_preset(e,500-10*e.VBR_q,0),o.PSY.mask_adjust=e.maskingadjust,o.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?o.sfb21_extra=!1:o.sfb21_extra=44e3<e.out_samplerate,6<e.quality&&(e.quality=6),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),o.iteration_loop=new VBROldIterationLoop(A);break;default:o.sfb21_extra=!1,e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),(ee=e.VBR)==a.vbr_off&&(e.VBR_mean_bitrate_kbps=e.brate),y.apply_preset(e,e.VBR_mean_bitrate_kbps,0),e.VBR=ee,o.PSY.mask_adjust=e.maskingadjust,o.PSY.mask_adjust_short=e.maskingadjust_short,ee==a.vbr_off?o.iteration_loop=new m(A):o.iteration_loop=new ABRIterationLoop(A)}if(u(0<=e.scale),e.VBR!=a.vbr_off){if(o.VBR_min_bitrate=1,o.VBR_max_bitrate=14,e.out_samplerate<16e3&&(o.VBR_max_bitrate=8),0!=e.VBR_min_bitrate_kbps&&(e.VBR_min_bitrate_kbps=j(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),o.VBR_min_bitrate=I(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),o.VBR_min_bitrate<0))return-1;if(0!=e.VBR_max_bitrate_kbps&&(e.VBR_max_bitrate_kbps=j(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),o.VBR_max_bitrate=I(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),o.VBR_max_bitrate<0))return-1;e.VBR_min_bitrate_kbps=v.bitrate_table[e.version][o.VBR_min_bitrate],e.VBR_max_bitrate_kbps=v.bitrate_table[e.version][o.VBR_max_bitrate],e.VBR_mean_bitrate_kbps=Math.min(v.bitrate_table[e.version][o.VBR_max_bitrate],e.VBR_mean_bitrate_kbps),e.VBR_mean_bitrate_kbps=Math.max(v.bitrate_table[e.version][o.VBR_min_bitrate],e.VBR_mean_bitrate_kbps)}e.tune&&(o.PSY.mask_adjust+=e.tune_value_a,o.PSY.mask_adjust_short+=e.tune_value_a);var ne=e,re=ne.internal_flags;switch(ne.quality){default:case 9:re.psymodel=0,re.noise_shaping=0,re.noise_shaping_amp=0,re.noise_shaping_stop=0,re.use_best_huffman=0,re.full_outer_loop=0;break;case 8:ne.quality=7;case 7:re.psymodel=1,re.noise_shaping=0,re.noise_shaping_amp=0,re.noise_shaping_stop=0,re.use_best_huffman=0,re.full_outer_loop=0;break;case 6:case 5:re.psymodel=1,0==re.noise_shaping&&(re.noise_shaping=1),re.noise_shaping_amp=0,re.noise_shaping_stop=0,-1==re.subblock_gain&&(re.subblock_gain=1),re.use_best_huffman=0,re.full_outer_loop=0;break;case 4:re.psymodel=1,0==re.noise_shaping&&(re.noise_shaping=1),re.noise_shaping_amp=0,re.noise_shaping_stop=0,-1==re.subblock_gain&&(re.subblock_gain=1),re.use_best_huffman=1,re.full_outer_loop=0;break;case 3:re.psymodel=1,0==re.noise_shaping&&(re.noise_shaping=1),re.noise_shaping_amp=1,-(re.noise_shaping_stop=1)==re.subblock_gain&&(re.subblock_gain=1),re.use_best_huffman=1,re.full_outer_loop=0;break;case 2:re.psymodel=1,0==re.noise_shaping&&(re.noise_shaping=1),0==re.substep_shaping&&(re.substep_shaping=2),re.noise_shaping_amp=1,-(re.noise_shaping_stop=1)==re.subblock_gain&&(re.subblock_gain=1),re.use_best_huffman=1,re.full_outer_loop=0;break;case 1:case 0:re.psymodel=1,0==re.noise_shaping&&(re.noise_shaping=1),0==re.substep_shaping&&(re.substep_shaping=2),re.noise_shaping_amp=2,-(re.noise_shaping_stop=1)==re.subblock_gain&&(re.subblock_gain=1),re.use_best_huffman=1,re.full_outer_loop=0}return u(0<=e.scale),e.athaa_type<0?o.ATH.useAdjust=3:o.ATH.useAdjust=e.athaa_type,o.ATH.aaSensitivityP=Math.pow(10,e.athaa_sensitivity/-10),null==e.short_blocks&&(e.short_blocks=s.short_block_allowed),e.short_blocks!=s.short_block_allowed||e.mode!=S.JOINT_STEREO&&e.mode!=S.STEREO||(e.short_blocks=s.short_block_coupled),e.quant_comp<0&&(e.quant_comp=1),e.quant_comp_short<0&&(e.quant_comp_short=0),e.msfix<0&&(e.msfix=0),e.exp_nspsytune=1|e.exp_nspsytune,e.internal_flags.nsPsy.attackthre<0&&(e.internal_flags.nsPsy.attackthre=f.NSATTACKTHRE),e.internal_flags.nsPsy.attackthre_s<0&&(e.internal_flags.nsPsy.attackthre_s=f.NSATTACKTHRE_S),u(0<=e.scale),e.scale<0&&(e.scale=1),e.ATHtype<0&&(e.ATHtype=4),e.ATHcurve<0&&(e.ATHcurve=4),e.athaa_loudapprox<0&&(e.athaa_loudapprox=2),e.interChRatio<0&&(e.interChRatio=0),null==e.useTemporal&&(e.useTemporal=!0),o.slot_lag=o.frac_SpF=0,e.VBR==a.vbr_off&&(o.slot_lag=o.frac_SpF=72e3*(e.version+1)*e.brate%e.out_samplerate|0),w.iteration_init(e),M.psymodel_init(e),u(0<=e.scale),0},this.lame_encode_flush=function(e,t,n,i){var a,s,o,l,u=e.internal_flags,f=c([2,1152]),h=0,d=u.mf_samples_to_encode-g.POSTDELAY,p=D(e);if(u.mf_samples_to_encode<1)return 0;for(a=0,e.in_samplerate!=e.out_samplerate&&(d+=16*e.out_samplerate/e.in_samplerate),(o=e.framesize-d%e.framesize)<576&&(o+=e.framesize),l=(d+(e.encoder_padding=o))/e.framesize;0<l&&0<=h;){var _=p-u.mf_size,m=e.frameNum;(_=1152<(_=(_*=e.in_samplerate)/e.out_samplerate)?1152:_)<1&&(_=1),s=i-a,n+=h=this.lame_encode_buffer(e,f[0],f[1],_,t,n,s=0==i?0:s),a+=h,l-=m!=e.frameNum?1:0}if(h<(u.mf_samples_to_encode=0))return h;if(s=i-a,0==i&&(s=0),r.flush_bitstream(e),(h=r.copy_buffer(u,t,n,s,1))<0)return h;if(n+=h,s=i-(a+=h),0==i&&(s=0),e.write_id3tag_automatic){if(E.id3tag_write_v1(e),(h=r.copy_buffer(u,t,n,s,0))<0)return h;a+=h}return a},this.lame_encode_buffer=function(e,n,i,a,s,l,c){var f=e.internal_flags,h=[null,null];if(f.Class_ID!=P)return-3;if(0==a)return 0;A=a,(null==(w=f).in_buffer_0||w.in_buffer_nsamples<A)&&(w.in_buffer_0=o(A),w.in_buffer_1=o(A),w.in_buffer_nsamples=A),h[0]=f.in_buffer_0,h[1]=f.in_buffer_1;for(var p=0;p<a;p++)h[0][p]=n[p],1<f.channels_in&&(h[1][p]=i[p]);var _,m,v,y=e,w=h[0],A=h[1],k=a,E=s,x=l,S=c,M=y.internal_flags,T=0,O=[null,null],B=[null,null];if(M.Class_ID!=P)return-3;if(0==k)return 0;if((e=r.copy_buffer(M,E,x,S,0))<0)return e;if(x+=e,T+=e,B[0]=w,B[1]=A,b.NEQ(y.scale,0)&&b.NEQ(y.scale,1))for(_=0;_<k;++_)B[0][_]*=y.scale,2==M.channels_out&&(B[1][_]*=y.scale);if(b.NEQ(y.scale_left,0)&&b.NEQ(y.scale_left,1))for(_=0;_<k;++_)B[0][_]*=y.scale_left;if(b.NEQ(y.scale_right,0)&&b.NEQ(y.scale_right,1))for(_=0;_<k;++_)B[1][_]*=y.scale_right;if(2==y.num_channels&&1==M.channels_out)for(_=0;_<k;++_)B[0][_]=.5*(B[0][_]+B[1][_]),B[1][_]=0;v=D(y),O[0]=M.mfbuf[0],O[1]=M.mfbuf[1];for(var C=0;0<k;){var L,j,I=[null,null],V=(I[0]=B[0],I[1]=B[1],new N);if(function(e,t,n,r,i,a){var s=e.internal_flags;if(s.resample_ratio<.9999||1.0001<s.resample_ratio)for(var l=0;l<s.channels_out;l++){var c=new H;a.n_out=function(e,t,n,r,i,a,s,l,c){var f,h,p=e.internal_flags,_=0,m=e.out_samplerate/function e(t,n){return 0!=n?e(n,t%n):t}(e.out_samplerate,e.in_samplerate);m>d.BPC&&(m=d.BPC);e=Math.abs(p.resample_ratio-Math.floor(.5+p.resample_ratio))<1e-4?1:0;var b=1/p.resample_ratio;1<b&&(b=1);var v=31;0==v%2&&--v;var g=(v+=e)+1;if(0==p.fill_buffer_resample_init){for(p.inbuf_old[0]=o(g),p.inbuf_old[1]=o(g),f=0;f<=2*m;++f)p.blackfilt[f]=o(g);for(p.itime[0]=0,p.itime[1]=0,_=0;_<=2*m;_++){var y=0,w=(_-m)/(2*m);for(f=0;f<=v;f++)y+=p.blackfilt[_][f]=function(e,t,n){t=Math.PI*t,(e/=n)<0&&(e=0),1<e&&(e=1);var r=e-.5;e=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(r)<1e-9?t/Math.PI:e*Math.sin(n*t*r)/(Math.PI*n*r)}(f-w,b,v);for(f=0;f<=v;f++)p.blackfilt[_][f]/=y}p.fill_buffer_resample_init=1}var A,k,E=p.inbuf_old[c];for(h=0;h<r&&(A=h*p.resample_ratio,!(s<=v+(_=0|Math.floor(A-p.itime[c]))-v/2));h++){w=A-p.itime[c]-(_+v%2*.5);var x=(u(Math.abs(w)<=.501),k=0|Math.floor(2*w*m+m+.5),0);for(f=0;f<=v;++f){var S=0|f+_-v/2;u(S<s),u(0<=S+g),x+=(S=S<0?E[g+S]:i[a+S])*p.blackfilt[k][f]}t[n+h]=x}if(l.num_used=Math.min(s,v+_-v/2),p.itime[c]+=l.num_used-h*p.resample_ratio,l.num_used>=g)for(f=0;f<g;f++)E[f]=i[a+l.num_used+f-g];else{var R=g-l.num_used;for(f=0;f<R;++f)E[f]=E[f+l.num_used];for(_=0;f<g;++f,++_)E[f]=i[a+_];u(_==l.num_used)}return h}(e,t[l],s.mf_size,e.framesize,n[l],r,i,c,l),a.n_in=c.num_used}else{a.n_out=Math.min(e.framesize,i),a.n_in=a.n_out;for(var f=0;f<a.n_out;++f)t[0][s.mf_size+f]=n[0][r+f],2==s.channels_out&&(t[1][s.mf_size+f]=n[1][r+f])}}(y,O,I,C,k,V),L=V.n_in,j=V.n_out,M.findReplayGain&&!M.decode_on_the_fly&&t.AnalyzeSamples(M.rgdata,O[0],M.mf_size,O[1],M.mf_size,j,M.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(k-=L,C+=L,M.channels_out,M.mf_size+=j,u(M.mf_size<=d.MFSIZE),M.mf_samples_to_encode<1&&(M.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY),M.mf_samples_to_encode+=j,M.mf_size>=v){if(I=0==S?0:S-T,(V=function(e,t,n,r,i,a){return t=R.enc.lame_encode_mp3_frame(e,t,n,r,i,a),e.frameNum++,t}(y,O[0],O[1],E,x,I))<0)return V;for(x+=V,T+=V,M.mf_size-=y.framesize,M.mf_samples_to_encode-=y.framesize,m=0;m<M.channels_out;m++)for(_=0;_<M.mf_size;_++)O[m][_]=O[m][_+y.framesize]}}return u(0==k),T}}},2033:(e,t,n)=>{var r=n(4027);e.exports=function(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=r.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}},3459:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte),a=r.new_double,s=r.new_float,o=r.new_float_n,l=r.new_int,c=r.new_int_n,u=(r.assert,n(237)),f=n(6385),h=n(5924),d=n(4971),p=n(110),_=n(6043),m=n(3425);function b(){function e(){this.write_timing=0,this.ptr=0,this.buf=i(40)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=o([2,b.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new u,this.ms_ratio=s(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=l(2),this.CurrentStep=l(2),this.masking_lower=0,this.bv_scf=l(576),this.pseudohalf=l(m.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*b.BPC+1),this.itime=a(2),this.sideinfo_len=0,this.sb_sample=o([2,2,18,_.SBLIMIT]),this.amp_filter=s(32),this.header=new Array(b.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new f,this.minval_l=s(_.CBANDS),this.minval_s=s(_.CBANDS),this.nb_1=o([4,_.CBANDS]),this.nb_2=o([4,_.CBANDS]),this.nb_s1=o([4,_.CBANDS]),this.nb_s2=o([4,_.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=s(4),this.loudness_sq=o([2,2]),this.loudness_sq_save=s(2),this.mld_l=s(_.SBMAX_l),this.mld_s=s(_.SBMAX_s),this.bm_l=l(_.SBMAX_l),this.bo_l=l(_.SBMAX_l),this.bm_s=l(_.SBMAX_s),this.bo_s=l(_.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=c([_.CBANDS,2]),this.s3ind_s=c([_.CBANDS,2]),this.numlines_s=l(_.CBANDS),this.numlines_l=l(_.CBANDS),this.rnumlines_l=s(_.CBANDS),this.mld_cb_l=s(_.CBANDS),this.mld_cb_s=s(_.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=s(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=l(2),this.nsPsy=new h,this.VBR_seek_table=new d,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=c([16,5]),this.bitrate_blockType_Hist=c([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var t=0;t<this.en.length;t++)this.en[t]=new p;for(t=0;t<this.thm.length;t++)this.thm[t]=new p;for(t=0;t<this.header.length;t++)this.header[t]=new e}b.MFSIZE=3456+_.ENCDELAY-_.MDCTDELAY,b.MAX_HEADER_BUF=256,b.MAX_BITS_PER_CHANNEL=4095,b.MAX_BITS_PER_GRANULE=7680,b.BPC=320,e.exports=b},4027:e=>{function t(e){var t=e;this.ordinal=function(){return t}}t.STEREO=new t(0),t.JOINT_STEREO=new t(1),t.DUAL_CHANNEL=new t(2),t.MONO=new t(3),t.NOT_SET=new t(4),e.exports=t},423:e=>{e.exports=function(e){this.bits=e}},7419:(e,t,n)=>{var r=n(9233),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util),s=r.Arrays,o=(r.new_array_n,r.new_byte,r.new_double,r.new_float),l=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n(6043));e.exports=function(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*a.SQRT2*.5/2384e-9,.017876148*a.SQRT2*.5/2384e-9,.003134727*a.SQRT2*.5/2384e-9,.002457142*a.SQRT2*.5/2384e-9,971317e-9*a.SQRT2*.5/2384e-9,218868e-9*a.SQRT2*.5/2384e-9,101566e-9*a.SQRT2*.5/2384e-9,13828e-9*a.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],t=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],n=t[l.SHORT_TYPE],r=t[l.SHORT_TYPE],c=t[l.SHORT_TYPE],u=t[l.SHORT_TYPE],f=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function h(t,n,r){for(var i,s=10,o=n+238-14-286,l=-15;l<0;l++){var c,u,f=e[s+-10];c=t[o+-224]*f,u=t[n+224]*f,c+=t[o+-160]*(f=e[s+-9]),u+=t[n+160]*f,c+=t[o+-96]*(f=e[s+-8]),u+=t[n+96]*f,c+=t[o+-32]*(f=e[s+-7]),u+=t[n+32]*f,c+=t[o+32]*(f=e[s+-6]),u+=t[n+-32]*f,c+=t[o+96]*(f=e[s+-5]),u+=t[n+-96]*f,c+=t[o+160]*(f=e[s+-4]),u+=t[n+-160]*f,c+=t[o+224]*(f=e[s+-3]),u+=t[n+-224]*f,c+=t[n+-256]*(f=e[s+-2]),u-=t[o+256]*f,c+=t[n+-192]*(f=e[s+-1]),u-=t[o+192]*f,c+=t[n+-128]*(f=e[s+0]),u-=t[o+128]*f,c+=t[n+-64]*(f=e[s+1]),u-=t[o+64]*f,c+=t[n+0]*(f=e[s+2]),u-=t[o+0]*f,c+=t[n+64]*(f=e[s+3]),u-=t[o+-64]*f,c+=t[n+128]*(f=e[s+4]),u-=t[o+-128]*f,c+=t[n+192]*(f=e[s+5]),f=(u-=t[o+-192]*f)-(c*=e[s+6]),r[30+2*l]=u+c,r[31+2*l]=e[s+7]*f,s+=18,n--,o++}u=t[n+-16]*e[s+-10],c=t[n+-32]*e[s+-2],u+=(t[n+-48]-t[n+16])*e[s+-9],c+=t[n+-96]*e[s+-1],u+=(t[n+-80]+t[n+48])*e[s+-8],c+=t[n+-160]*e[s+0],u+=(t[n+-112]-t[n+80])*e[s+-7],c+=t[n+-224]*e[s+1],u+=(t[n+-144]+t[n+112])*e[s+-6],c-=t[n+32]*e[s+2],u+=(t[n+-176]-t[n+144])*e[s+-5],c-=t[n+96]*e[s+3],u+=(t[n+-208]+t[n+176])*e[s+-4],c-=t[n+160]*e[s+4],u+=(t[n+-240]-t[n+208])*e[s+-3],h=(c-=t[n+224])-u,i=c+u,u=r[14],c=r[15]-u,r[31]=i+u,r[30]=h+c,r[15]=h-c,r[14]=i-u;var h=r[28]-r[0];r[0]+=r[28],r[28]=h*e[s+-36+7],h=r[29]-r[1],r[1]+=r[29],r[29]=h*e[s+-36+7],h=r[26]-r[2],r[2]+=r[26],r[26]=h*e[s+-72+7],h=r[27]-r[3],r[3]+=r[27],r[27]=h*e[s+-72+7],h=r[24]-r[4],r[4]+=r[24],r[24]=h*e[s+-108+7],h=r[25]-r[5],r[5]+=r[25],r[25]=h*e[s+-108+7],h=r[22]-r[6],r[6]+=r[22],r[22]=h*a.SQRT2,h=r[23]-r[7],r[7]+=r[23],r[23]=h*a.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],h=r[6],r[6]=r[31]-h,r[31]=r[31]+h,h=r[7],r[7]=r[30]-h,r[30]=r[30]+h,h=r[22],r[22]=r[15]-h,r[15]=r[15]+h,h=r[23],r[23]=r[14]-h,r[14]=r[14]+h,h=r[20]-r[8],r[8]+=r[20],r[20]=h*e[s+-180+7],h=r[21]-r[9],r[9]+=r[21],r[21]=h*e[s+-180+7],h=r[18]-r[10],r[10]+=r[18],r[18]=h*e[s+-216+7],h=r[19]-r[11],r[11]+=r[19],r[19]=h*e[s+-216+7],h=r[16]-r[12],r[12]+=r[16],r[16]=h*e[s+-252+7],h=r[17]-r[13],r[13]+=r[17],r[17]=h*e[s+-252+7],h=-r[20]+r[24],r[20]+=r[24],r[24]=h*e[s+-216+7],h=-r[21]+r[25],r[21]+=r[25],r[25]=h*e[s+-216+7],h=r[4]-r[8],r[4]+=r[8],r[8]=h*e[s+-216+7],h=r[5]-r[9],r[5]+=r[9],r[9]=h*e[s+-216+7],h=r[0]-r[12],r[0]+=r[12],r[12]=h*e[s+-72+7],h=r[1]-r[13],r[1]+=r[13],r[13]=h*e[s+-72+7],h=r[16]-r[28],r[16]+=r[28],r[28]=h*e[s+-72+7],h=-r[17]+r[29],r[17]+=r[29],r[29]=h*e[s+-72+7],h=a.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=h,h=a.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=h,h=a.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=h-r[18],h=a.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=h-r[19],h=r[2],r[19]-=r[3],r[3]-=h,r[2]=r[31]-h,r[31]+=h,h=r[3],r[11]-=r[19],r[18]-=h,r[3]=r[30]-h,r[30]+=h,h=r[18],r[27]-=r[11],r[19]-=h,r[18]=r[15]-h,r[15]+=h,h=r[19],r[10]-=h,r[19]=r[14]-h,r[14]+=h,h=r[10],r[11]-=h,r[10]=r[23]-h,r[23]+=h,h=r[11],r[26]-=h,r[11]=r[22]-h,r[22]+=h,h=r[26],r[27]-=h,r[26]=r[7]-h,r[7]+=h,h=r[27],r[27]=r[6]-h,r[6]+=h,h=a.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=h,h=a.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=h,h=a.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=h,h=a.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=h,h=-a.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=h-r[8],h=-a.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=h-r[9],h=-a.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=h-r[25],h=-a.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=h-r[24],h=r[24]-r[16],r[24]=h,h=r[20]-h,r[20]=h,h=r[28]-h,r[28]=h,h=r[25]-r[17],r[25]=h,h=r[21]-h,r[21]=h,h=r[29]-h,r[29]=h,h=r[17]-r[1],r[17]=h,h=r[9]-h,r[9]=h,h=r[25]-h,r[25]=h,h=r[5]-h,r[5]=h,h=r[21]-h,r[21]=h,h=r[13]-h,r[13]=h,h=r[29]-h,r[29]=h,h=r[1]-r[0],r[1]=h,h=r[16]-h,r[16]=h,h=r[17]-h,r[17]=h,h=r[8]-h,r[8]=h,h=r[9]-h,r[9]=h,h=r[24]-h,r[24]=h,h=r[25]-h,r[25]=h,h=r[4]-h,r[4]=h,h=r[5]-h,r[5]=h,h=r[20]-h,r[20]=h,h=r[21]-h,r[21]=h,h=r[12]-h,r[12]=h,h=r[13]-h,r[13]=h,h=r[28]-h,r[28]=h,h=r[29]-h,r[29]=h,h=r[0],r[0]+=r[31],r[31]-=h,h=r[1],r[1]+=r[30],r[30]-=h,h=r[16],r[16]+=r[15],r[15]-=h,h=r[17],r[17]+=r[14],r[14]-=h,h=r[8],r[8]+=r[23],r[23]-=h,h=r[9],r[9]+=r[22],r[22]-=h,h=r[24],r[24]+=r[7],r[7]-=h,h=r[25],r[25]+=r[6],r[6]-=h,h=r[4],r[4]+=r[27],r[27]-=h,h=r[5],r[5]+=r[26],r[26]-=h,h=r[20],r[20]+=r[11],r[11]-=h,h=r[21],r[21]+=r[10],r[10]-=h,h=r[12],r[12]+=r[19],r[19]-=h,h=r[13],r[13]+=r[18],r[18]-=h,h=r[28],r[28]+=r[3],r[3]-=h,h=r[29],r[29]+=r[2],r[2]-=h}this.mdct_sub48=function(e,a,d){for(var p,_,m,b,v,g,y,w,A,k,E,x,S,R=a,M=286,T=0;T<e.channels_out;T++){for(var O=0;O<e.mode_gr;O++){for(var B,P=e.l3_side.tt[O][T],C=P.xr,L=0,j=e.sb_sample[T][1-O],I=0,V=0;V<9;V++)for(h(R,M,j[I]),h(R,M+32,j[I+1]),I+=2,M+=64,B=1;B<32;B+=2)j[I-1][B]*=-1;for(B=0;B<32;B++,L+=18){var D=P.block_type,N=e.sb_sample[T][O],H=e.sb_sample[T][1-O];if(0!=P.mixed_block_flag&&B<2&&(D=0),e.amp_filter[B]<1e-12)s.fill(C,L+0,L+18,0);else{if(e.amp_filter[B]<1)for(V=0;V<18;V++)H[V][f[B]]*=e.amp_filter[B];if(D==l.SHORT_TYPE){for(V=-3;V<0;V++){var F=t[l.SHORT_TYPE][V+3];C[L+3*V+9]=N[9+V][f[B]]*F-N[8-V][f[B]],C[L+3*V+18]=N[14-V][f[B]]*F+N[15+V][f[B]],C[L+3*V+10]=N[15+V][f[B]]*F-N[14-V][f[B]],C[L+3*V+19]=H[2-V][f[B]]*F+H[3+V][f[B]],C[L+3*V+11]=H[3+V][f[B]]*F-H[2-V][f[B]],C[L+3*V+20]=H[8-V][f[B]]*F+H[9+V][f[B]]}Z=K=U=G=z=Y=X=q=W=void 0;for(var W=C,q=L,X=0;X<3;X++){var U=W[q+6]*t[l.SHORT_TYPE][0]-W[q+15],Y=W[q+0]*t[l.SHORT_TYPE][2]-W[q+9],z=U+Y,G=U-Y,K=(U=W[q+15]*t[l.SHORT_TYPE][0]+W[q+6])+(Y=W[q+9]*t[l.SHORT_TYPE][2]+W[q+0]),Z=-U+Y;Y=2069978111953089e-26*(W[q+3]*t[l.SHORT_TYPE][1]-W[q+12]),U=2069978111953089e-26*(W[q+12]*t[l.SHORT_TYPE][1]+W[q+3]),W[q+0]=190752519173728e-25*z+Y,W[q+15]=190752519173728e-25*-K+U,W[q+3]=(G=.8660254037844387*G*1907525191737281e-26)-(K=.5*K*1907525191737281e-26+U),W[q+6]=G+K,W[q+9]=(z=.5*z*1907525191737281e-26-Y)+(Z=.8660254037844387*Z*1907525191737281e-26),W[q+12]=z-Z,q++}}else{var Q=o(18);for(V=-9;V<0;V++){var J=t[D][V+27]*H[V+9][f[B]]+t[D][V+36]*H[8-V][f[B]],$=t[D][V+9]*N[V+9][f[B]]-t[D][V+18]*N[8-V][f[B]];Q[V+9]=J-$*n[3+V+9],Q[V+18]=J*n[3+V+9]+$}p=C,_=L,E=k=A=w=y=S=g=x=E=k=A=w=y=g=v=b=void 0,g=(m=Q)[17]-m[9],y=m[15]-m[11],w=m[14]-m[12],A=m[0]+m[8],k=m[1]+m[7],E=m[2]+m[6],x=m[3]+m[5],p[_+17]=A+E-x-(k-m[4]),v=(A+E-x)*r[19]+(k-m[4]),b=(g-y-w)*r[18],p[_+5]=b+v,p[_+6]=b-v,S=(m[16]-m[10])*r[18],k=k*r[19]+m[4],b=g*r[12]+S+y*r[13]+w*r[14],v=-A*r[16]+k-E*r[17]+x*r[15],p[_+1]=b+v,p[_+2]=b-v,b=g*r[13]-S-y*r[14]+w*r[12],v=-A*r[17]+k-E*r[15]+x*r[16],p[_+9]=b+v,p[_+10]=b-v,b=g*r[14]-S+y*r[12]-w*r[13],v=A*r[15]-k+E*r[16]-x*r[17],p[_+13]=b+v,p[_+14]=b-v,g=m[8]-m[0],S=m[6]-m[2],y=m[5]-m[3],w=m[17]+m[9],A=m[16]+m[10],k=m[15]+m[11],E=m[14]+m[12],p[_+0]=w+k+E+(A+m[13]),b=(w+k+E)*r[19]-(A+m[13]),v=(g-S+y)*r[18],p[_+11]=b+v,p[_+12]=b-v,x=(m[7]-m[1])*r[18],A=m[13]-A*r[19],b=w*r[15]-A+k*r[16]+E*r[17],v=g*r[14]+x+S*r[12]+y*r[13],p[_+3]=b+v,p[_+4]=b-v,b=-w*r[17]+A-k*r[15]-E*r[16],v=g*r[13]+x-S*r[14]-y*r[12],p[_+7]=b+v,p[_+8]=b-v,b=-w*r[16]+A-k*r[17]-E*r[15],v=g*r[12]-x+S*r[13]-y*r[14],p[_+15]=b+v,p[_+16]=b-v}}if(D!=l.SHORT_TYPE&&0!=B)for(V=7;0<=V;--V){var ee=C[L+V]*c[20+V]+C[L+-1-V]*u[28+V],te=C[L+V]*u[28+V]-C[L+-1-V]*c[20+V];C[L+-1-V]=ee,C[L+V]=te}}}if(R=d,M=286,1==e.mode_gr)for(var ne=0;ne<18;ne++)i.arraycopy(e.sb_sample[T][1][ne],0,e.sb_sample[T][0][ne],0,32)}}}},5924:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=r.new_float_n,s=r.new_int,o=(r.new_int_n,r.assert,n(6043));e.exports=function(){this.last_en_subshort=a([4,9]),this.lastAttacks=s(4),this.pefirbuf=i(19),this.longfact=i(o.SBMAX_l),this.shortfact=i(o.SBMAX_s),this.attackthre=0,this.attackthre_s=0}},6049:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode);r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert,e.exports=function(){var e,t=n(5448);function r(e,t,n,r,i,a,s,o,l,c,u,f,h,d,p){this.vbr_q=e,this.quant_comp=t,this.quant_comp_s=n,this.expY=r,this.st_lrm=i,this.st_s=a,this.masking_adj=s,this.masking_adj_short=o,this.ath_lower=l,this.ath_curve=c,this.ath_sensitivity=u,this.interch=f,this.safejoint=h,this.sfb21mod=d,this.msfix=p}function a(e,t,n,r,i,a,s,o,l,c,u,f,h,d){this.quant_comp=t,this.quant_comp_s=n,this.safejoint=r,this.nsmsfix=i,this.st_lrm=a,this.st_s=s,this.nsbass=o,this.scale=l,this.masking_adj=c,this.ath_lower=u,this.ath_curve=f,this.interch=h,this.sfscale=d}this.setModules=function(t){e=t};var s=[new r(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new r(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new r(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new r(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new r(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new r(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new r(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new r(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new r(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new r(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new r(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],o=[new r(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new r(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new r(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new r(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new r(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new r(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new r(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new r(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new r(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new r(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new r(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function l(e,t,n){var r=e.VBR==i.vbr_rh?s:o,a=e.VBR_q_frac,l=r[t],c=(r=r[t+1],l);l.st_lrm=l.st_lrm+a*(r.st_lrm-l.st_lrm),l.st_s=l.st_s+a*(r.st_s-l.st_s),l.masking_adj=l.masking_adj+a*(r.masking_adj-l.masking_adj),l.masking_adj_short=l.masking_adj_short+a*(r.masking_adj_short-l.masking_adj_short),l.ath_lower=l.ath_lower+a*(r.ath_lower-l.ath_lower),l.ath_curve=l.ath_curve+a*(r.ath_curve-l.ath_curve),l.ath_sensitivity=l.ath_sensitivity+a*(r.ath_sensitivity-l.ath_sensitivity),l.interch=l.interch+a*(r.interch-l.interch),l.msfix=l.msfix+a*(r.msfix-l.msfix),r=e;(l=c.vbr_q)<0&&(l=0),9<l&&(l=9),r.VBR_q=l,(r.VBR_q_frac=0)==n&&0<Math.abs(e.quant_comp- -1)||(e.quant_comp=c.quant_comp),0==n&&0<Math.abs(e.quant_comp_short- -1)||(e.quant_comp_short=c.quant_comp_s),0!=c.expY&&(e.experimentalY=0!=c.expY),0==n&&0<Math.abs(e.internal_flags.nsPsy.attackthre- -1)||(e.internal_flags.nsPsy.attackthre=c.st_lrm),0==n&&0<Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)||(e.internal_flags.nsPsy.attackthre_s=c.st_s),0==n&&0<Math.abs(+e.maskingadjust)||(e.maskingadjust=c.masking_adj),0==n&&0<Math.abs(+e.maskingadjust_short)||(e.maskingadjust_short=c.masking_adj_short),0==n&&0<Math.abs(10*-e.ATHlower)||(e.ATHlower=-c.ath_lower/10),0==n&&0<Math.abs(e.ATHcurve- -1)||(e.ATHcurve=c.ath_curve),0==n&&0<Math.abs(e.athaa_sensitivity- -1)||(e.athaa_sensitivity=c.ath_sensitivity),0<c.interch&&(0==n&&0<Math.abs(e.interChRatio- -1)||(e.interChRatio=c.interch)),0<c.safejoint&&(e.exp_nspsytune=e.exp_nspsytune|c.safejoint),0<c.sfb21mod&&(e.exp_nspsytune=e.exp_nspsytune|c.sfb21mod<<20),0==n&&0<Math.abs(e.msfix- -1)||(e.msfix=c.msfix),0==n&&(e.VBR_q=t,e.VBR_q_frac=a)}var c=[new a(0,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new a(0,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new a(0,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new a(0,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new a(0,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new a(0,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new a(0,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new a(0,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new a(0,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new a(0,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new a(0,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new a(0,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new a(0,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new a(0,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new a(0,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new a(0,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new a(0,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function u(t,n,r){var a=n,s=e.nearestBitrateFullIndex(n);return t.VBR=i.vbr_abr,t.VBR_mean_bitrate_kbps=a,t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320),t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.brate=t.VBR_mean_bitrate_kbps,320<t.VBR_mean_bitrate_kbps&&(t.disable_reservoir=!0),0<c[s].safejoint&&(t.exp_nspsytune=2|t.exp_nspsytune),0<c[s].sfscale&&(t.internal_flags.noise_shaping=2),0<Math.abs(c[s].nsbass)&&((a=int(4*c[s].nsbass))<0&&(a+=64),t.exp_nspsytune=t.exp_nspsytune|a<<2),0==r&&0<Math.abs(t.quant_comp- -1)||(t.quant_comp=c[s].quant_comp),0==r&&0<Math.abs(t.quant_comp_short- -1)||(t.quant_comp_short=c[s].quant_comp_s),0==r&&0<Math.abs(t.msfix- -1)||(t.msfix=c[s].nsmsfix),0==r&&0<Math.abs(t.internal_flags.nsPsy.attackthre- -1)||(t.internal_flags.nsPsy.attackthre=c[s].st_lrm),0==r&&0<Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)||(t.internal_flags.nsPsy.attackthre_s=c[s].st_s),0==r&&0<Math.abs(t.scale- -1)||(t.scale=c[s].scale),0==r&&0<Math.abs(+t.maskingadjust)||(t.maskingadjust=c[s].masking_adj),0<c[s].masking_adj?0==r&&0<Math.abs(+t.maskingadjust_short)||(t.maskingadjust_short=.9*c[s].masking_adj):0==r&&0<Math.abs(+t.maskingadjust_short)||(t.maskingadjust_short=1.1*c[s].masking_adj),0==r&&0<Math.abs(10*-t.ATHlower)||(t.ATHlower=-c[s].ath_lower/10),0==r&&0<Math.abs(t.ATHcurve- -1)||(t.ATHcurve=c[s].ath_curve),0==r&&0<Math.abs(t.interChRatio- -1)||(t.interChRatio=c[s].interch),n}this.apply_preset=function(e,n,r){switch(n){case t.R3MIX:n=t.V3,e.VBR=i.vbr_mtrh;break;case t.MEDIUM:n=t.V4,e.VBR=i.vbr_rh;break;case t.MEDIUM_FAST:n=t.V4,e.VBR=i.vbr_mtrh;break;case t.STANDARD:n=t.V2,e.VBR=i.vbr_rh;break;case t.STANDARD_FAST:n=t.V2,e.VBR=i.vbr_mtrh;break;case t.EXTREME:n=t.V0,e.VBR=i.vbr_rh;break;case t.EXTREME_FAST:n=t.V0,e.VBR=i.vbr_mtrh;break;case t.INSANE:return e.preset=n=320,u(e,n,r),e.VBR=i.vbr_off,n}switch(e.preset=n){case t.V9:return l(e,9,r),n;case t.V8:return l(e,8,r),n;case t.V7:return l(e,7,r),n;case t.V6:return l(e,6,r),n;case t.V5:return l(e,5,r),n;case t.V4:return l(e,4,r),n;case t.V3:return l(e,3,r),n;case t.V2:return l(e,2,r),n;case t.V1:return l(e,1,r),n;case t.V0:return l(e,0,r),n}return 8<=n&&n<=320?u(e,n,r):(e.preset=0,n)}}},7296:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode),a=r.Float,s=r.ShortBlock,o=r.Util,l=r.Arrays,c=(r.new_array_n,r.new_byte,r.new_double,r.new_float),u=r.new_float_n,f=r.new_int,h=(r.new_int_n,r.assert),d=n(7314),p=n(6043);e.exports=function(){var e=n(4027),t=new d,r=2.302585092994046,_=1/217621504/(p.BLKSIZE/2),m=.3,b=21,v=.2302585093;function g(e,t){for(var n=0,r=0;r<p.BLKSIZE/2;++r)n+=e[r]*t.ATH.eql_w[r];return n*_}var y,w,A,k=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],E=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],x=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],S=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276],R=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function M(e,t,n){var r;return t<0&&(t=0),(e=e<0?0:e)<=0?t:t<=0?e:(r=e<t?t/e:e/t,-2<=n&&n<=2?y<=r?e+t:(n=0|o.FAST_LOG10_X(r,16),(e+t)*R[n]):r<w?e+t:e<t?t:e)}function T(e,t,n,r,i){for(var a,s=0,o=0,l=a=0;l<p.SBMAX_s;++a,++l){for(var c=e.bo_s[l],u=e.npart_s,f=c<u?c:u;a<f;)h(0<=t[a]),h(0<=n[a]),s+=t[a],o+=n[a],a++;if(e.en[r].s[l][i]=s,e.thm[r].s[l][i]=o,u<=a){++l;break}h(0<=t[a]),h(0<=n[a]),u=1-(c=e.PSY.bo_s_weight[l]),s=c*t[a],o=c*n[a],e.en[r].s[l][i]+=s,e.thm[r].s[l][i]+=o,s=u*t[a],o=u*n[a]}for(;l<p.SBMAX_s;++l)e.en[r].s[l][i]=0,e.thm[r].s[l][i]=0}function O(e,t,n,r){for(var i,a=0,s=0,o=i=0;o<p.SBMAX_l;++i,++o){for(var l=e.bo_l[o],c=e.npart_l,u=l<c?l:c;i<u;)h(0<=t[i]),h(0<=n[i]),a+=t[i],s+=n[i],i++;if(e.en[r].l[o]=a,e.thm[r].l[o]=s,c<=i){++o;break}h(0<=t[i]),h(0<=n[i]),c=1-(l=e.PSY.bo_l_weight[o]),a=l*t[i],s=l*n[i],e.en[r].l[o]+=a,e.thm[r].l[o]+=s,a=c*t[i],s=c*n[i]}for(;o<p.SBMAX_l;++o)e.en[r].l[o]=0,e.thm[r].l[o]=0}function B(e,t,n){return 1<=n?e:n<=0?t:0<t?Math.pow(e/t,n)*t:0}var P=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function C(e,t){for(var n=309.07,i=0;i<p.SBMAX_s-1;i++)for(var a=0;a<3;a++){var s,l=e.thm.s[i][a];h(i<P.length),0<l&&(l*=t)<(s=e.en.s[i][a])&&(1e10*l<s?n+=P[i]*(10*r):(h(0<l),n+=P[i]*o.FAST_LOG10(s/l)))}return n}var L=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function j(e,t){for(var n=281.0575,i=0;i<p.SBMAX_l-1;i++){var a,s=e.thm.l[i];h(i<L.length),0<s&&(s*=t)<(a=e.en.l[i])&&(1e10*s<a?n+=L[i]*(10*r):(h(0<s),n+=L[i]*o.FAST_LOG10(a/s)))}return n}function I(e,t,n,r,i){for(var a,s=a=0;s<e.npart_l;++s){for(var o=0,l=0,c=0;c<e.numlines_l[s];++c,++a){var u=t[a];h(0<=u),o+=u,l<u&&(l=u)}n[s]=o,r[s]=l,i[s]=o*e.rnumlines_l[s],h(0<=e.rnumlines_l[s]),h(0<=o),h(0<=n[s]),h(0<=r[s]),h(0<=i[s])}}function V(e,t,n,r){var i=k.length-1,a=0,s=n[a]+n[a+1];for(h(0<=s),0<s?((o=t[a])<t[a+1]&&(o=t[a+1]),h(0<e.numlines_l[a]+e.numlines_l[a+1]-1),l=0|(s=20*(2*o-s)/(s*(e.numlines_l[a]+e.numlines_l[a+1]-1))),r[a]=l=i<l?i:l):r[a]=0,a=1;a<e.npart_l-1;a++){var o,l;s=n[a-1]+n[a]+n[a+1];h(0<=s),0<s?((o=(o=t[a-1])<t[a]?t[a]:o)<t[a+1]&&(o=t[a+1]),h(0<e.numlines_l[a-1]+e.numlines_l[a]+e.numlines_l[a+1]-1),i<(l=0|(s=20*(3*o-s)/(s*(e.numlines_l[a-1]+e.numlines_l[a]+e.numlines_l[a+1]-1))))&&(l=i),r[a]=l):r[a]=0}h(0<a),h(a==e.npart_l-1),s=n[a-1]+n[a],h(0<=s),0<s?((o=t[a-1])<t[a]&&(o=t[a]),h(0<e.numlines_l[a-1]+e.numlines_l[a]-1),l=0|(s=20*(2*o-s)/(s*(e.numlines_l[a-1]+e.numlines_l[a]-1))),r[a]=l=i<l?i:l):r[a]=0,h(a==e.npart_l-1)}var D=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638],N=(this.L3psycho_anal_ns=function(n,r,a,d,_,v,R,M,P,L){var N,H,F,W,q,X,U,Y=n.internal_flags,z=u([2,p.BLKSIZE]),G=u([2,3,p.BLKSIZE_s]),K=c(p.CBANDS+1),Z=c(p.CBANDS+1),Q=c(p.CBANDS+2),J=f(2),$=f(2),ee=u([2,576]),te=f(p.CBANDS+2),ne=f(p.CBANDS+2);for(l.fill(ne,0),N=Y.channels_out,n.mode==e.JOINT_STEREO&&(N=4),U=n.VBR==i.vbr_off?0==Y.ResvMax?0:Y.ResvSize/Y.ResvMax*.5:n.VBR==i.vbr_rh||n.VBR==i.vbr_mtrh||n.VBR==i.vbr_mt?.6:1,H=0;H<Y.channels_out;H++){var re=r[H],ie=a+576-350-b+192;for(h(10==D.length),Ae=0;Ae<576;Ae++){for(var ae=re[ie+Ae+10],se=0,oe=0;oe<9;oe+=2)ae+=D[oe]*(re[ie+Ae+oe]+re[ie+Ae+b-oe]),se+=D[oe+1]*(re[ie+Ae+oe+1]+re[ie+Ae+b-oe-1]);ee[H][Ae]=ae+se}_[d][H].en.assign(Y.en[H]),_[d][H].thm.assign(Y.thm[H]),2<N&&(v[d][H].en.assign(Y.en[H+2]),v[d][H].thm.assign(Y.thm[H+2]))}for(H=0;H<N;H++){var le,ce=c(12),ue=[0,0,0,0],fe=c(12),he=1,de=c(p.CBANDS),pe=c(p.CBANDS),_e=[0,0,0,0],me=c(p.HBLKSIZE),be=u([3,p.HBLKSIZE_s]);for(h(Y.npart_s<=p.CBANDS),h(Y.npart_l<=p.CBANDS),Ae=0;Ae<3;Ae++)ce[Ae]=Y.nsPsy.last_en_subshort[H][Ae+6],h(0<Y.nsPsy.last_en_subshort[H][Ae+4]),fe[Ae]=ce[Ae]/Y.nsPsy.last_en_subshort[H][Ae+4],ue[0]+=ce[Ae];if(2==H)for(Ae=0;Ae<576;Ae++){var ve=ee[0][Ae],ge=ee[1][Ae];ee[0][Ae]=ve+ge,ee[1][Ae]=ve-ge}for(var ye=ee[1&H],we=0,Ae=0;Ae<9;Ae++){for(var ke=we+64,Ee=1;we<ke;we++)Ee<Math.abs(ye[we])&&(Ee=Math.abs(ye[we]));Y.nsPsy.last_en_subshort[H][Ae]=ce[Ae+3]=Ee,ue[1+Ae/3]+=Ee,Ee>ce[Ae+3-2]?(h(0<ce[Ae+3-2]),Ee/=ce[Ae+3-2]):Ee=ce[Ae+3-2]>10*Ee?(h(0<Ee),ce[Ae+3-2]/(10*Ee)):0,fe[Ae+3]=Ee}if(n.analysis){var xe=fe[0];for(Ae=1;Ae<12;Ae++)xe<fe[Ae]&&(xe=fe[Ae]);Y.pinfo.ers[d][H]=Y.pinfo.ers_save[H],Y.pinfo.ers_save[H]=xe}for(le=3==H?Y.nsPsy.attackthre_s:Y.nsPsy.attackthre,Ae=0;Ae<12;Ae++)0==_e[Ae/3]&&fe[Ae]>le&&(_e[Ae/3]=Ae%3+1);for(Ae=1;Ae<4;Ae++){(ue[Ae-1]>ue[Ae]?(h(0<ue[Ae]),ue[Ae-1]/ue[Ae]):(h(0<ue[Ae-1]),ue[Ae]/ue[Ae-1]))<1.7&&(_e[Ae]=0,1==Ae&&(_e[0]=0))}0!=_e[0]&&0!=Y.nsPsy.lastAttacks[H]&&(_e[0]=0),3!=Y.nsPsy.lastAttacks[H]&&_e[0]+_e[1]+_e[2]+_e[3]==0||((he=0)!=_e[1]&&0!=_e[0]&&(_e[1]=0),0!=_e[2]&&0!=_e[1]&&(_e[2]=0),0!=_e[3]&&0!=_e[2]&&(_e[3]=0)),H<2?$[H]=he:0==he&&($[0]=$[1]=0),P[H]=Y.tot_ener[H],qe=We=Fe=He=Ne=De=Ve=Ie=Oe=Me=Re=Se=he=void 0;var Se=me,Re=be,Me=z,Te=1&H,Oe=G,Be=1&H,Pe=d,Ce=H,Le=r,je=a,Ie=(he=n).internal_flags;if(Ce<2)t.fft_long(Ie,Me[Te],Ce,Le,je),t.fft_short(Ie,Oe[Be],Ce,Le,je);else if(2==Ce){for(var Ve=p.BLKSIZE-1;0<=Ve;--Ve){var De=Me[Te+0][Ve],Ne=Me[Te+1][Ve];Me[Te+0][Ve]=(De+Ne)*o.SQRT2*.5,Me[Te+1][Ve]=(De-Ne)*o.SQRT2*.5}for(var He=2;0<=He;--He)for(Ve=p.BLKSIZE_s-1;0<=Ve;--Ve)De=Oe[Be+0][He][Ve],Ne=Oe[Be+1][He][Ve],Oe[Be+0][He][Ve]=(De+Ne)*o.SQRT2*.5,Oe[Be+1][He][Ve]=(De-Ne)*o.SQRT2*.5}for(Se[0]=Me[Te+0][0],Se[0]*=Se[0],Ve=p.BLKSIZE/2-1;0<=Ve;--Ve){var Fe=Me[Te+0][p.BLKSIZE/2-Ve],We=Me[Te+0][p.BLKSIZE/2+Ve];Se[p.BLKSIZE/2-Ve]=.5*(Fe*Fe+We*We)}for(He=2;0<=He;--He)for(Re[He][0]=Oe[Be+0][He][0],Re[He][0]*=Re[He][0],Ve=p.BLKSIZE_s/2-1;0<=Ve;--Ve)Fe=Oe[Be+0][He][p.BLKSIZE_s/2-Ve],We=Oe[Be+0][He][p.BLKSIZE_s/2+Ve],Re[He][p.BLKSIZE_s/2-Ve]=.5*(Fe*Fe+We*We);var qe=0;for(Ve=11;Ve<p.HBLKSIZE;Ve++)qe+=Se[Ve];if(Ie.tot_ener[Ce]=qe,he.analysis){for(Ve=0;Ve<p.HBLKSIZE;Ve++)Ie.pinfo.energy[Pe][Ce][Ve]=Ie.pinfo.energy_save[Ce][Ve],Ie.pinfo.energy_save[Ce][Ve]=Se[Ve];Ie.pinfo.pe[Pe][Ce]=Ie.pe[Ce]}for(2==he.athaa_loudapprox&&Ce<2&&(Ie.loudness_sq[Pe][Ce]=Ie.loudness_sq_save[Ce],Ie.loudness_sq_save[Ce]=g(Se,Ie)),I(Y,me,K,de,pe),V(Y,de,pe,te),X=0;X<3;X++){lt=ct=ot=st=at=it=rt=nt=tt=et=Ye=$e=Ze=Ke=void 0;for(var Xe,Ue,Ye,ze=n,Ge=be,Ke=Z,Ze=Q,Qe=H,Je=X,$e=ze.internal_flags,et=Ye=0;et<$e.npart_s;++et){for(var tt=0,nt=0,rt=$e.numlines_s[et],it=0;it<rt;++it,++Ye){var at=Ge[Je][Ye];tt+=at,nt<at&&(nt=at)}Ke[et]=tt}for(h(et==$e.npart_s),h(129==Ye),Ye=et=0;et<$e.npart_s;et++){var st=$e.s3ind_s[et][0],ot=$e.s3_ss[Ye++]*Ke[st];for(++st;st<=$e.s3ind_s[et][1];)ot+=$e.s3_ss[Ye]*Ke[st],++Ye,++st;var lt,ct=2*$e.nb_s1[Qe][et];Ze[et]=Math.min(ot,ct),$e.blocktype_old[1&Qe]==p.SHORT_TYPE&&(ct=16*$e.nb_s2[Qe][et],lt=Ze[et],Ze[et]=Math.min(ct,lt)),$e.nb_s2[Qe][et]=$e.nb_s1[Qe][et],$e.nb_s1[Qe][et]=ot,h(0<=Ze[et])}for(;et<=p.CBANDS;++et)Ke[et]=0,Ze[et]=0;for(T(Y,Z,Q,H,X),q=0;q<p.SBMAX_s;q++)Ue=Y.thm[H].s[q][X],Ue*=.8,(2<=_e[X]||1==_e[X+1])&&(Ee=B(Y.thm[H].s[q][0!=X?X-1:2],Ue,.6*U),Ue=Math.min(Ue,Ee)),1==_e[X]?(Ee=B(Y.thm[H].s[q][0!=X?X-1:2],Ue,m*U),Ue=Math.min(Ue,Ee)):(0!=X&&3==_e[X-1]||0==X&&3==Y.nsPsy.lastAttacks[H])&&(Ee=B(Y.thm[H].s[q][2!=X?X+1:0],Ue,m*U),Ue=Math.min(Ue,Ee)),Xe=ce[3*X+3]+ce[3*X+4]+ce[3*X+5],6*ce[3*X+5]<Xe&&(Ue*=.5,6*ce[3*X+4]<Xe&&(Ue*=.5)),Y.thm[H].s[q][X]=Ue}for(Y.nsPsy.lastAttacks[H]=_e[2],F=W=0;F<Y.npart_l;F++){for(var ut=Y.s3ind[F][0],ft=K[ut]*k[te[ut]],ht=Y.s3_ll[W++]*ft;++ut<=Y.s3ind[F][1];)ft=K[ut]*k[te[ut]],ht=function(e,t,n,r,i,a){if(e<t){if(!(t<e*w))return e+t;l=t/e}else{if(t*w<=e)return e+t;l=e/t}if(h(0<=e),h(0<=t),e+=t,r+3<=6){if(y<=l)return e;var s=0|o.FAST_LOG10_X(l,16);return e*x[s]}var l;s=0|o.FAST_LOG10_X(l,16);return t=i.ATH.cb_l[n]*i.ATH.adjust,h(0<=t),e<A*t?t<e?(r=1,s<=13&&(r=S[s]),l=o.FAST_LOG10_X(e/t,10/15),e*((E[s]-r)*l+r)):13<s?e:e*S[s]:e*E[s]}(ht,Y.s3_ll[W++]*ft,ut,ut-F,Y);ht*=.158489319246111,Y.blocktype_old[1&H]==p.SHORT_TYPE?Q[F]=ht:Q[F]=B(Math.min(ht,Math.min(2*Y.nb_1[H][F],16*Y.nb_2[H][F])),ht,U),Y.nb_2[H][F]=Y.nb_1[H][F],Y.nb_1[H][F]=ht}for(;F<=p.CBANDS;++F)K[F]=0,Q[F]=0;O(Y,K,Q,H)}if((n.mode==e.STEREO||n.mode==e.JOINT_STEREO)&&0<n.interChRatio){ne=n;var dt=n.interChRatio,pt=ne.internal_flags;if(1<pt.channels_out){for(var _t=0;_t<p.SBMAX_l;_t++){var mt=pt.thm[0].l[_t],bt=pt.thm[1].l[_t];pt.thm[0].l[_t]+=bt*dt,pt.thm[1].l[_t]+=mt*dt}for(_t=0;_t<p.SBMAX_s;_t++)for(var vt=0;vt<3;vt++)mt=pt.thm[0].s[_t][vt],bt=pt.thm[1].s[_t][vt],pt.thm[0].s[_t][vt]+=bt*dt,pt.thm[1].s[_t][vt]+=mt*dt}}if(n.mode==e.JOINT_STEREO){for(var gt=Y,yt=0;yt<p.SBMAX_l;yt++)gt.thm[0].l[yt]>1.58*gt.thm[1].l[yt]||gt.thm[1].l[yt]>1.58*gt.thm[0].l[yt]||(wt=gt.mld_l[yt]*gt.en[3].l[yt],At=Math.max(gt.thm[2].l[yt],Math.min(gt.thm[3].l[yt],wt)),wt=gt.mld_l[yt]*gt.en[2].l[yt],kt=Math.max(gt.thm[3].l[yt],Math.min(gt.thm[2].l[yt],wt)),gt.thm[2].l[yt]=At,gt.thm[3].l[yt]=kt);for(yt=0;yt<p.SBMAX_s;yt++)for(var wt,At,kt,Et=0;Et<3;Et++)gt.thm[0].s[yt][Et]>1.58*gt.thm[1].s[yt][Et]||gt.thm[1].s[yt][Et]>1.58*gt.thm[0].s[yt][Et]||(wt=gt.mld_s[yt]*gt.en[3].s[yt][Et],At=Math.max(gt.thm[2].s[yt][Et],Math.min(gt.thm[3].s[yt][Et],wt)),wt=gt.mld_s[yt]*gt.en[2].s[yt][Et],kt=Math.max(gt.thm[3].s[yt][Et],Math.min(gt.thm[2].s[yt][Et],wt)),gt.thm[2].s[yt][Et]=At,gt.thm[3].s[yt][Et]=kt);if(ne=n.msfix,0<Math.abs(ne)){var xt=Y,St=ne,Rt=(ne=n.ATHlower*Y.ATH.adjust,St),Mt=Math.pow(10,ne);St*=2,Rt*=2;for(var Tt=0;Tt<p.SBMAX_l;Tt++)Ct=xt.ATH.cb_l[xt.bm_l[Tt]]*Mt,(Ot=Math.min(Math.max(xt.thm[0].l[Tt],Ct),Math.max(xt.thm[1].l[Tt],Ct)))*St<(Bt=Math.max(xt.thm[2].l[Tt],Ct))+(Pt=Math.max(xt.thm[3].l[Tt],Ct))&&h(0<(Bt*=Lt=Ot*Rt/(Bt+Pt))+(Pt*=Lt)),xt.thm[2].l[Tt]=Math.min(Bt,xt.thm[2].l[Tt]),xt.thm[3].l[Tt]=Math.min(Pt,xt.thm[3].l[Tt]);for(Mt*=p.BLKSIZE_s/p.BLKSIZE,Tt=0;Tt<p.SBMAX_s;Tt++)for(var Ot,Bt,Pt,Ct,Lt,jt=0;jt<3;jt++)Ct=xt.ATH.cb_s[xt.bm_s[Tt]]*Mt,(Ot=Math.min(Math.max(xt.thm[0].s[Tt][jt],Ct),Math.max(xt.thm[1].s[Tt][jt],Ct)))*St<(Bt=Math.max(xt.thm[2].s[Tt][jt],Ct))+(Pt=Math.max(xt.thm[3].s[Tt][jt],Ct))&&h(0<(Bt*=Lt=Ot*St/(Bt+Pt))+(Pt*=Lt)),xt.thm[2].s[Tt][jt]=Math.min(xt.thm[2].s[Tt][jt],Bt),xt.thm[3].s[Tt][jt]=Math.min(xt.thm[3].s[Tt][jt],Pt)}}var It=n,Vt=$,Dt=L,Nt=J,Ht=It.internal_flags;It.short_blocks!=s.short_block_coupled||0!=Vt[0]&&0!=Vt[1]||(Vt[0]=Vt[1]=0);for(var Ft=0;Ft<Ht.channels_out;Ft++)Nt[Ft]=p.NORM_TYPE,It.short_blocks==s.short_block_dispensed&&(Vt[Ft]=1),It.short_blocks==s.short_block_forced&&(Vt[Ft]=0),0!=Vt[Ft]?(h(Ht.blocktype_old[Ft]!=p.START_TYPE),Ht.blocktype_old[Ft]==p.SHORT_TYPE&&(Nt[Ft]=p.STOP_TYPE)):(Nt[Ft]=p.SHORT_TYPE,Ht.blocktype_old[Ft]==p.NORM_TYPE&&(Ht.blocktype_old[Ft]=p.START_TYPE),Ht.blocktype_old[Ft]==p.STOP_TYPE&&(Ht.blocktype_old[Ft]=p.SHORT_TYPE)),Dt[Ft]=Ht.blocktype_old[Ft],Ht.blocktype_old[Ft]=Nt[Ft];for(H=0;H<N;H++){var Wt,qt,Xt=0,Ut=1<H?(Wt=M,Xt=-2,qt=p.NORM_TYPE,L[0]!=p.SHORT_TYPE&&L[1]!=p.SHORT_TYPE||(qt=p.SHORT_TYPE),v[d][H-2]):(Wt=R,Xt=0,qt=L[H],_[d][H]);qt==p.SHORT_TYPE?Wt[Xt+H]=C(Ut,Y.masking_lower):Wt[Xt+H]=j(Ut,Y.masking_lower),n.analysis&&(Y.pinfo.pe[d][H]=Wt[Xt+H])}return 0},[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638]);function H(e,t,n,r,i,a){for(var s,o=e.internal_flags,l=new float[p.CBANDS],u=c(p.CBANDS),f=new int[p.CBANDS],d=s=0;d<o.npart_s;++d){for(var _=0,m=0,b=o.numlines_s[d],v=0;v<b;++v,++s){var g=t[a][s];_+=g,m<g&&(m=g)}n[d]=_,h(0<=_),l[d]=m,h(0<b),u[d]=_/b,h(0<=u[d])}for(h(d==o.npart_s),h(129==s);d<p.CBANDS;++d)l[d]=0,u[d]=0;var y=o,w=l,A=u,E=f,x=k.length-1,S=0,R=A[S]+A[S+1];for(h(0<=R),0<R?((T=w[S])<w[S+1]&&(T=w[S+1]),h(0<y.numlines_s[S]+y.numlines_s[S+1]-1),O=0|(R=20*(2*T-R)/(R*(y.numlines_s[S]+y.numlines_s[S+1]-1))),E[S]=O=x<O?x:O):E[S]=0,S=1;S<y.npart_s-1;S++){var T,O;R=A[S-1]+A[S]+A[S+1];h(S+1<y.npart_s),h(0<=R),0<R?((T=(T=w[S-1])<w[S]?w[S]:T)<w[S+1]&&(T=w[S+1]),h(0<y.numlines_s[S-1]+y.numlines_s[S]+y.numlines_s[S+1]-1),x<(O=0|(R=20*(3*T-R)/(R*(y.numlines_s[S-1]+y.numlines_s[S]+y.numlines_s[S+1]-1))))&&(O=x),E[S]=O):E[S]=0}for(h(0<S),h(S==y.npart_s-1),R=A[S-1]+A[S],h(0<=R),0<R?((T=w[S-1])<w[S]&&(T=w[S]),h(0<y.numlines_s[S-1]+y.numlines_s[S]-1),O=0|(R=20*(2*T-R)/(R*(y.numlines_s[S-1]+y.numlines_s[S]-1))),E[S]=O=x<O?x:O):E[S]=0,h(S==y.npart_s-1),s=d=0;d<o.npart_s;d++){var B,P,C=o.s3ind_s[d][0],L=o.s3ind_s[d][1],j=f[C],I=1,V=o.s3_ss[s]*n[C]*k[f[C]];for(++s,++C;C<=L;)j+=f[C],I+=1,V=M(V,B=o.s3_ss[s]*n[C]*k[f[C]],C-d),++s,++C;V*=P=.5*k[j=(1+2*j)/(2*I)],r[d]=V,o.nb_s2[i][d]=o.nb_s1[i][d],o.nb_s1[i][d]=V,B=(B=l[d])*o.minval_s[d]*P,r[d]>B&&(r[d]=B),1<o.masking_lower&&(r[d]*=o.masking_lower),r[d]>n[d]&&(r[d]=n[d]),o.masking_lower<1&&(r[d]*=o.masking_lower),h(0<=r[d])}for(;d<p.CBANDS;++d)n[d]=0,r[d]=0}function F(e,t,n,r,i,a,s){for(var o=2*a,l=0<a?Math.pow(10,i):1,c=0;c<s;++c){var u,f,d,p=e[2][c],_=e[3][c],m=t[0][c],b=t[1][c],v=t[2][c],g=t[3][c];f=m<=1.58*b&&b<=1.58*m?(u=n[c]*_,f=n[c]*p,u=Math.max(v,Math.min(g,u)),Math.max(g,Math.min(v,f))):(u=v,g),0<a&&(d=r[c]*l,m=Math.min(Math.max(m,d),Math.max(b,d)),0<(b=(v=Math.max(u,d))+(g=Math.max(f,d)))&&m*o<b&&(v*=d=m*o/b,g*=d,h(0<b)),u=Math.min(v,u),f=Math.min(g,f)),p<u&&(u=p),_<f&&(f=_),t[2][c]=u,t[3][c]=f}}function W(e,t){return(e=0<=e?27*-e:e*t)<=-72?0:Math.exp(e*v)}function q(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function X(e,t,n,r,i,a,s,o,l,u,d,_){for(var m,b=c(p.CBANDS+1),v=o/(15<_?1152:384),g=f(p.HBLKSIZE),y=(o/=l,0),w=0,A=0;A<p.CBANDS;A++){for(M=q(o*y),b[A]=o*y,m=y;q(o*m)-M<.34&&m<=l/2;m++);for(e[A]=m-y,w=A+1;y<m;)h(y<p.HBLKSIZE),g[y++]=A;if(l/2<y){y=l/2,++A;break}}h(A<p.CBANDS),b[A]=o*y;for(var k=0;k<_;k++){var E,x=u[k],S=u[k+1];(x=0|Math.floor(.5+d*(x-.5)))<0&&(x=0),l/2<(E=0|Math.floor(.5+d*(S-.5)))&&(E=l/2),n[k]=(g[x]+g[E])/2,t[k]=g[E],s[k]=(v*S-b[t[k]])/(b[t[k]+1]-b[t[k]]),s[k]<0?s[k]=0:1<s[k]&&(s[k]=1),x=q(o*u[k]*d),x=Math.min(x,15.5)/15.5,a[k]=Math.pow(10,1.25*(1-Math.cos(Math.PI*x))-2.5)}y=0;for(var R=0;R<w;R++){var M,T,O=e[R];M=q(o*y),T=q(o*(y+O-1)),r[R]=.5*(M+T),M=q(o*(y-.5)),T=q(o*(y+O-.5)),i[R]=T-M,y+=O}return w}function U(e,t,n,r,i,a){var s,o,l,f,h=u([p.CBANDS,p.CBANDS]),d=0;if(a)for(var _=0;_<t;_++)for(s=0;s<t;s++){o=n[_]-n[s],f=void 0,f=.5<=(o*=0<=o?3:1.5)&&o<=2.5?8*((f=o-.5)*f-2*f):0;var m=((l=15.811389+7.5*(o+=.474)-17.5*Math.sqrt(1+o*o))<=-60?0:(o=Math.exp((f+l)*v))/.6609193)*r[s];h[_][s]=m*i[_]}else for(s=0;s<t;s++){var b=15+Math.min(21/n[s],12),g=function(e){var t=0;for(t=0;1e-20<W(t,e);--t);for(n=t,r=0;1e-12<Math.abs(r-n);)0<W(t=(r+n)/2,e)?r=t:n=t;var n,r,i=n;t=0;for(t=0;1e-20<W(t,e);t+=1);for(n=0,r=t;1e-12<Math.abs(r-n);)0<W(t=(r+n)/2,e)?n=t:r=t;for(var a=r,s=0,o=0;o<=1e3;++o)s+=W(t=i+o*(a-i)/1e3,e);return 1001/(s*(a-i))}(b);for(_=0;_<t;_++)m=g*W(n[_]-n[s],b)*r[s],h[_][s]=m*i[_]}for(_=0;_<t;_++){for(s=0;s<t&&!(0<h[_][s]);s++);for(e[_][0]=s,s=t-1;0<s&&!(0<h[_][s]);s--);e[_][1]=s,d+=e[_][1]-e[_][0]+1}var y=c(d),w=0;for(_=0;_<t;_++)for(s=e[_][0];s<=e[_][1];s++)y[w++]=h[_][s];return y}function Y(e){return e=q(e),e=Math.min(e,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*e))-2.5)}function z(e,t){return e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e),3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4)}this.L3psycho_anal_vbr=function(n,r,i,a,l,d,_,v,y,w){for(var A=n.internal_flags,E=c(p.HBLKSIZE),x=u([3,p.HBLKSIZE_s]),S=u([2,p.BLKSIZE]),R=u([2,3,p.BLKSIZE_s]),P=u([4,p.CBANDS]),L=u([4,p.CBANDS]),D=u([4,3]),W=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],q=f(2),X=n.mode==e.JOINT_STEREO?4:A.channels_out,U=n,Y=r,z=i,G=a,K=l,Z=d,Q=y,J=D,$=W,ee=q,te=u([2,576]),ne=U.internal_flags,re=ne.channels_out,ie=U.mode==e.JOINT_STEREO?4:re,ae=0;ae<re;ae++){firbuf=Y[ae];var se=z+576-350-b+192;h(10==N.length);for(var oe=0;oe<576;oe++){for(var le=firbuf[se+oe+10],ce=0,ue=0;ue<9;ue+=2)le+=N[ue]*(firbuf[se+oe+ue]+firbuf[se+oe+b-ue]),ce+=N[ue+1]*(firbuf[se+oe+ue+1]+firbuf[se+oe+b-ue-1]);te[ae][oe]=le+ce}K[G][ae].en.assign(ne.en[ae]),K[G][ae].thm.assign(ne.thm[ae]),2<ie&&(Z[G][ae].en.assign(ne.en[ae+2]),Z[G][ae].thm.assign(ne.thm[ae+2]))}for(ae=0;ae<ie;ae++){var fe=c(12),he=c(12),de=[0,0,0,0],pe=te[1&ae],_e=0,me=3==ae?ne.nsPsy.attackthre_s:ne.nsPsy.attackthre,be=1;if(2==ae)for(oe=0,ue=576;0<ue;++oe,--ue){var ve=te[0][oe],ge=te[1][oe];te[0][oe]=ve+ge,te[1][oe]=ve-ge}for(oe=0;oe<3;oe++)he[oe]=ne.nsPsy.last_en_subshort[ae][oe+6],h(0<ne.nsPsy.last_en_subshort[ae][oe+4]),fe[oe]=he[oe]/ne.nsPsy.last_en_subshort[ae][oe+4],de[0]+=he[oe];for(oe=0;oe<9;oe++){for(var ye=_e+64,we=1;_e<ye;_e++)we<Math.abs(pe[_e])&&(we=Math.abs(pe[_e]));ne.nsPsy.last_en_subshort[ae][oe]=he[oe+3]=we,de[1+oe/3]+=we,we>he[oe+3-2]?(h(0<he[oe+3-2]),we/=he[oe+3-2]):we=he[oe+3-2]>10*we?(h(0<we),he[oe+3-2]/(10*we)):0,fe[oe+3]=we}for(oe=0;oe<3;++oe){var Ae=he[3*oe+3]+he[3*oe+4]+he[3*oe+5],ke=1;6*he[3*oe+5]<Ae&&(ke*=.5,6*he[3*oe+4]<Ae&&(ke*=.5)),J[ae][oe]=ke}if(U.analysis){var Ee=fe[0];for(oe=1;oe<12;oe++)Ee<fe[oe]&&(Ee=fe[oe]);ne.pinfo.ers[G][ae]=ne.pinfo.ers_save[ae],ne.pinfo.ers_save[ae]=Ee}for(oe=0;oe<12;oe++)0==$[ae][oe/3]&&fe[oe]>me&&($[ae][oe/3]=oe%3+1);for(oe=1;oe<4;oe++){var xe=de[oe-1],Se=de[oe];Math.max(xe,Se)<4e4&&xe<1.7*Se&&Se<1.7*xe&&(1==oe&&$[ae][0]<=$[ae][oe]&&($[ae][0]=0),$[ae][oe]=0)}$[ae][0]<=ne.nsPsy.lastAttacks[ae]&&($[ae][0]=0),3!=ne.nsPsy.lastAttacks[ae]&&$[ae][0]+$[ae][1]+$[ae][2]+$[ae][3]==0||((be=0)!=$[ae][1]&&0!=$[ae][0]&&($[ae][1]=0),0!=$[ae][2]&&0!=$[ae][1]&&($[ae][2]=0),0!=$[ae][3]&&0!=$[ae][2]&&($[ae][3]=0)),ae<2?ee[ae]=be:0==be&&(ee[0]=ee[1]=0),Q[ae]=ne.tot_ener[ae]}var Re=n,Me=q,Te=Re.internal_flags;Re.short_blocks!=s.short_block_coupled||0!=Me[0]&&0!=Me[1]||(Me[0]=Me[1]=0);for(var Oe=0;Oe<Te.channels_out;Oe++)Re.short_blocks==s.short_block_dispensed&&(Me[Oe]=1),Re.short_blocks==s.short_block_forced&&(Me[Oe]=0);for(var Be=0;Be<X;Be++){Ye=Ue=Xe=qe=We=Fe=He=De=Ve=Le=Ce=Pe=void 0;var Pe=n,Ce=r,Le=i,je=Be,Ie=a,Ve=E,De=S,Ne=Pt=1&Be,He=Pe.internal_flags;if(je<2)t.fft_long(He,De[Ne],je,Ce,Le);else if(2==je)for(var Fe=p.BLKSIZE-1;0<=Fe;--Fe){var We=De[Ne+0][Fe],qe=De[Ne+1][Fe];De[Ne+0][Fe]=(We+qe)*o.SQRT2*.5,De[Ne+1][Fe]=(We-qe)*o.SQRT2*.5}for(Ve[0]=De[Ne+0][0],Ve[0]*=Ve[0],Fe=p.BLKSIZE/2-1;0<=Fe;--Fe){var Xe=De[Ne+0][p.BLKSIZE/2-Fe],Ue=De[Ne+0][p.BLKSIZE/2+Fe];Ve[p.BLKSIZE/2-Fe]=.5*(Xe*Xe+Ue*Ue)}var Ye=0;for(Fe=11;Fe<p.HBLKSIZE;Fe++)Ye+=Ve[Fe];if(He.tot_ener[je]=Ye,Pe.analysis){for(Fe=0;Fe<p.HBLKSIZE;Fe++)He.pinfo.energy[Ie][je][Fe]=He.pinfo.energy_save[je][Fe],He.pinfo.energy_save[je][Fe]=Ve[Fe];He.pinfo.pe[Ie][je]=He.pe[je]}if(Ce=a,Le=Be,Pe=E,pt=void 0,pt=n.internal_flags,2==n.athaa_loudapprox&&Le<2&&(pt.loudness_sq[Ce][Le]=pt.loudness_sq_save[Le],pt.loudness_sq_save[Le]=g(Pe,pt)),0!=q[Pt]){at=it=st=ut=ct=lt=ot=rt=nt=tt=$e=et=Le=Ke=Ge=Ce=ze=void 0;for(var ze=A,Ge=(Ce=E,P[Be]),Ke=L[Be],Ze=Be,Qe=c(p.CBANDS),Je=(Le=c(p.CBANDS),f(p.CBANDS+2)),$e=(I(ze,Ce,Ge,Qe,Le),V(ze,Qe,Le,Je),0),et=0;et<ze.npart_l;et++){var tt,nt,rt,it,at,st,ot=ze.s3ind[et][0],lt=ze.s3ind[et][1],ct=0,ut=0;ct=Je[ot];for(ut+=1,nt=ze.s3_ll[$e]*Ge[ot]*k[Je[ot]],++$e,++ot;ot<=lt;)ct+=Je[ot],ut+=1,nt=M(nt,tt=ze.s3_ll[$e]*Ge[ot]*k[Je[ot]],ot-et),++$e,++ot;nt*=rt=.5*k[ct=(1+2*ct)/(2*ut)],ze.blocktype_old[1&Ze]==p.SHORT_TYPE?(st=2*ze.nb_1[Ze][et],Ke[et]=0<st?Math.min(nt,st):Math.min(nt,Ge[et]*m)):((it=16*ze.nb_2[Ze][et])<=0&&(it=nt),(at=2*ze.nb_1[Ze][et])<=0&&(at=nt),st=ze.blocktype_old[1&Ze]==p.NORM_TYPE?Math.min(at,it):at,Ke[et]=Math.min(nt,st)),ze.nb_2[Ze][et]=ze.nb_1[Ze][et],ze.nb_1[Ze][et]=nt,tt=(tt=Qe[et])*ze.minval_l[et]*rt,Ke[et]>tt&&(Ke[et]=tt),1<ze.masking_lower&&(Ke[et]*=ze.masking_lower),Ke[et]>Ge[et]&&(Ke[et]=Ge[et]),ze.masking_lower<1&&(Ke[et]*=ze.masking_lower),h(0<=Ke[et])}for(;et<p.CBANDS;++et)Ge[et]=0,Ke[et]=0}else{dt=ft=void 0;for(var ft=A,ht=Be,dt=0;dt<ft.npart_l;dt++)ft.nb_2[ht][dt]=ft.nb_1[ht][dt],ft.nb_1[ht][dt]=0}}q[0]+q[1]==2&&n.mode==e.JOINT_STEREO&&F(P,L,A.mld_cb_l,A.ATH.cb_l,n.ATHlower*A.ATH.adjust,n.msfix,A.npart_l);var pt;for(Be=0;Be<X;Be++)0!=q[Pt=1&Be]&&O(A,P[Be],L[Be],Be);for(var _t=0;_t<3;_t++){for(Be=0;Be<X;++Be)if(0!=q[Pt=1&Be]){vt=gt=mt=void 0;var mt=A,bt=Be;if(0==(gt=_t))for(var vt=0;vt<mt.npart_s;vt++)mt.nb_s2[bt][vt]=mt.nb_s1[bt][vt],mt.nb_s1[bt][vt]=0}else{Bt=Ot=Tt=Mt=Rt=gt=xt=Et=gt=void 0;var gt,yt=r,wt=i,At=Be,kt=_t,Et=x,xt=R,St=Pt;if(gt=(gt=n).internal_flags,0==kt&&At<2&&t.fft_short(gt,xt[St],At,yt,wt),2==At)for(var Rt=p.BLKSIZE_s-1;0<=Rt;--Rt){var Mt=xt[St+0][kt][Rt],Tt=xt[St+1][kt][Rt];xt[St+0][kt][Rt]=(Mt+Tt)*o.SQRT2*.5,xt[St+1][kt][Rt]=(Mt-Tt)*o.SQRT2*.5}for(Et[kt][0]=xt[St+0][kt][0],Et[kt][0]*=Et[kt][0],Rt=p.BLKSIZE_s/2-1;0<=Rt;--Rt){var Ot=xt[St+0][kt][p.BLKSIZE_s/2-Rt],Bt=xt[St+0][kt][p.BLKSIZE_s/2+Rt];Et[kt][p.BLKSIZE_s/2-Rt]=.5*(Ot*Ot+Bt*Bt)}H(n,x,P[Be],L[Be],Be,_t)}for(q[0]+q[1]==0&&n.mode==e.JOINT_STEREO&&F(P,L,A.mld_cb_s,A.ATH.cb_s,n.ATHlower*A.ATH.adjust,n.msfix,A.npart_s),Be=0;Be<X;++Be)0==q[Pt=1&Be]&&T(A,P[Be],L[Be],Be,_t)}for(Be=0;Be<X;Be++){var Pt=1&Be;if(0==q[Pt])for(var Ct=0;Ct<p.SBMAX_s;Ct++){var Lt=c(3);for(_t=0;_t<3;_t++){var jt,It=A.thm[Be].s[Ct][_t];It*=.8,2<=W[Be][_t]||1==W[Be][_t+1]?(jt=B(A.thm[Be].s[Ct][0!=_t?_t-1:2],It,.36),It=Math.min(It,jt)):1==W[Be][_t]?(jt=B(A.thm[Be].s[Ct][0!=_t?_t-1:2],It,.18),It=Math.min(It,jt)):(0!=_t&&3==W[Be][_t-1]||0==_t&&3==A.nsPsy.lastAttacks[Be])&&(jt=B(A.thm[Be].s[Ct][2!=_t?_t+1:0],It,.18),It=Math.min(It,jt)),It*=D[Be][_t],Lt[_t]=It}for(_t=0;_t<3;_t++)A.thm[Be].s[Ct][_t]=Lt[_t]}}for(Be=0;Be<X;Be++)A.nsPsy.lastAttacks[Be]=W[Be][2];for(var Vt=q,Dt=w,Nt=n.internal_flags,Ht=0;Ht<Nt.channels_out;Ht++){var Ft=p.NORM_TYPE;0!=Vt[Ht]?(h(Nt.blocktype_old[Ht]!=p.START_TYPE),Nt.blocktype_old[Ht]==p.SHORT_TYPE&&(Ft=p.STOP_TYPE)):(Ft=p.SHORT_TYPE,Nt.blocktype_old[Ht]==p.NORM_TYPE&&(Nt.blocktype_old[Ht]=p.START_TYPE),Nt.blocktype_old[Ht]==p.STOP_TYPE&&(Nt.blocktype_old[Ht]=p.SHORT_TYPE)),Dt[Ht]=Nt.blocktype_old[Ht],Nt.blocktype_old[Ht]=Ft}for(Be=0;Be<X;Be++){var Wt,qt,Xt,Ut=1<Be?(Wt=v,qt=-2,Xt=p.NORM_TYPE,w[0]!=p.SHORT_TYPE&&w[1]!=p.SHORT_TYPE||(Xt=p.SHORT_TYPE),d[a][Be-2]):(Wt=_,qt=0,Xt=w[Be],l[a][Be]);Xt==p.SHORT_TYPE?Wt[qt+Be]=C(Ut,A.masking_lower):Wt[qt+Be]=j(Ut,A.masking_lower),n.analysis&&(A.pinfo.pe[a][Be]=Wt[qt+Be])}return 0},this.psymodel_init=function(e){var n=e.internal_flags,s=!0,o=13,l=0,u=0,f=-8.25,d=-4.5,_=c(p.CBANDS),m=c(p.CBANDS),b=c(p.CBANDS),v=e.out_samplerate;switch(e.experimentalZ){default:case 0:s=!0;break;case 1:s=e.VBR!=i.vbr_mtrh&&e.VBR!=i.vbr_mt;break;case 2:s=!1;break;case 3:o=8,l=-1.75,u=-.0125,f=-8.25,d=-2.25}for(n.ms_ener_ratio_old=.25,n.blocktype_old[0]=n.blocktype_old[1]=p.NORM_TYPE,P=0;P<4;++P){for(var g=0;g<p.CBANDS;++g)n.nb_1[P][g]=1e20,n.nb_2[P][g]=1e20,n.nb_s1[P][g]=n.nb_s2[P][g]=1;for(var k=0;k<p.SBMAX_l;k++)n.en[P].l[k]=1e20,n.thm[P].l[k]=1e20;for(g=0;g<3;++g){for(k=0;k<p.SBMAX_s;k++)n.en[P].s[k][g]=1e20,n.thm[P].s[k][g]=1e20;n.nsPsy.lastAttacks[P]=0}for(g=0;g<9;g++)n.nsPsy.last_en_subshort[P][g]=10}for(n.loudness_sq_save[0]=n.loudness_sq_save[1]=0,n.npart_l=X(n.numlines_l,n.bo_l,n.bm_l,_,m,n.mld_l,n.PSY.bo_l_weight,v,p.BLKSIZE,n.scalefac_band.l,p.BLKSIZE/1152,p.SBMAX_l),h(n.npart_l<p.CBANDS),P=0;P<n.npart_l;P++){var E=l;_[P]>=o&&(E=u*(_[P]-o)/(24-o)+l*(24-_[P])/(24-o)),b[P]=Math.pow(10,E/10),0<n.numlines_l[P]?n.rnumlines_l[P]=1/n.numlines_l[P]:n.rnumlines_l[P]=0}for(n.s3_ll=U(n.s3ind,n.npart_l,_,m,b,s),g=0,P=0;P<n.npart_l;P++){R=a.MAX_VALUE;for(var x=0;x<n.numlines_l[P];x++,g++){var S=v*g/(1e3*p.BLKSIZE);M=this.ATHformula(1e3*S,e)-20,M=Math.pow(10,.1*M),(M*=n.numlines_l[P])<R&&(R=M)}n.ATH.cb_l[P]=R,(R=6<(R=20*_[P]/10-20)?100:R)<-15&&(R=-15),R-=8,n.minval_l[P]=Math.pow(10,R/10)*n.numlines_l[P]}for(n.npart_s=X(n.numlines_s,n.bo_s,n.bm_s,_,m,n.mld_s,n.PSY.bo_s_weight,v,p.BLKSIZE_s,n.scalefac_band.s,p.BLKSIZE_s/384,p.SBMAX_s),h(n.npart_s<p.CBANDS),P=g=0;P<n.npart_s;P++){var R;E=f;for(_[P]>=o&&(E=d*(_[P]-o)/(24-o)+f*(24-_[P])/(24-o)),b[P]=Math.pow(10,E/10),R=a.MAX_VALUE,x=0;x<n.numlines_s[P];x++,g++){var M;S=v*g/(1e3*p.BLKSIZE_s);M=this.ATHformula(1e3*S,e)-20,M=Math.pow(10,.1*M),(M*=n.numlines_s[P])<R&&(R=M)}n.ATH.cb_s[P]=R,R=7*_[P]/12-7,12<_[P]&&(R*=1+3.1*Math.log(1+R)),_[P]<12&&(R*=1+2.3*Math.log(1-R)),R<-15&&(R=-15),R-=8,n.minval_s[P]=Math.pow(10,R/10)*n.numlines_s[P]}n.s3_ss=U(n.s3ind_s,n.npart_s,_,m,b,s),y=Math.pow(10,9/16),w=Math.pow(10,1.5),A=Math.pow(10,1.5),t.init_fft(n),n.decay=Math.exp(-1*r/(.01*v/192)),m=3.5,0!=(2&e.exp_nspsytune)&&(m=1),0<Math.abs(e.msfix)&&(m=e.msfix),e.msfix=m;for(var T=0;T<n.npart_l;T++)n.s3ind[T][1]>n.npart_l-1&&(n.s3ind[T][1]=n.npart_l-1);if(m=576*n.mode_gr/v,n.ATH.decay=Math.pow(10,-1.2*m),n.ATH.adjust=.01,n.ATH.adjustLimit=1,h(n.bo_l[p.SBMAX_l-1]<=n.npart_l),h(n.bo_s[p.SBMAX_s-1]<=n.npart_s),-1!=e.ATHtype){for(var O=e.out_samplerate/p.BLKSIZE,B=0,P=S=0;P<p.BLKSIZE/2;++P)S+=O,n.ATH.eql_w[P]=1/Math.pow(10,this.ATHformula(S,e)/10),B+=n.ATH.eql_w[P];for(B=1/B,P=p.BLKSIZE/2;0<=--P;)n.ATH.eql_w[P]*=B}for(T=g=0;T<n.npart_s;++T)for(P=0;P<n.numlines_s[T];++P)++g;for(h(129==g),T=g=0;T<n.npart_l;++T)for(P=0;P<n.numlines_l[T];++P)++g;for(h(513==g),P=g=0;P<n.npart_l;P++)S=v*(g+n.numlines_l[P]/2)/+p.BLKSIZE,n.mld_cb_l[P]=Y(S),g+=n.numlines_l[P];for(;P<p.CBANDS;++P)n.mld_cb_l[P]=1;for(P=g=0;P<n.npart_s;P++)S=v*(g+n.numlines_s[P]/2)/+p.BLKSIZE_s,n.mld_cb_s[P]=Y(S),g+=n.numlines_s[P];for(;P<p.CBANDS;++P)n.mld_cb_s[P]=1;return 0},this.ATHformula=function(e,t){var n;switch(t.ATHtype){case 0:n=z(e,9);break;case 1:n=z(e,-1);break;case 2:default:n=z(e,0);break;case 3:n=z(e,1)+6;break;case 4:n=z(e,t.ATHcurve)}return n}}},1427:(e,t,n)=>{var r=n(9233),i=r.System,a=r.VbrMode,s=(r.Float,r.ShortBlock,r.Util),o=r.Arrays,l=(r.new_array_n,r.new_byte,r.new_double,r.new_float),c=(r.new_float_n,r.new_int,r.new_int_n,r.assert),u=n(6576),f=n(8711),h=n(9390),d=n(6043),p=n(1166),_=n(3425);e.exports=function(){this.rv=null,this.qupvt=null;var e,t,n,r,m=new u;function b(e){this.ordinal=e}function v(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function g(e,t){for(var n,r=1e-37,i=0;i<t.psymax;i++)r+=(n=e[i],s.FAST_LOG10(.368+.632*n*n*n));return Math.max(1e-20,r)}function y(e,t,i,a,s){var l=e.internal_flags;(function(e,t,n,r,i){for(var a=e.internal_flags,s=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292,o=0,l=0;l<t.sfbmax;l++)o<n[l]&&(o=n[l]);switch(e=3==(e=a.noise_shaping_amp)?i?2:1:e){case 2:break;case 1:1<o?o=Math.pow(o,.5):o*=.95;break;default:1<o?o=1:o*=.95}var c=0;for(l=0;l<t.sfbmax;l++){var u,f=t.width[l];if(c+=f,!(n[l]<o)){if(0!=(2&a.substep_shaping)&&(a.pseudohalf[l]=0==a.pseudohalf[l]?1:0,0==a.pseudohalf[l]&&2==a.noise_shaping_amp))return;for(t.scalefac[l]++,u=-f;u<0;u++)r[c+u]*=s,r[c+u]>t.xrpow_max&&(t.xrpow_max=r[c+u]);if(2==a.noise_shaping_amp)return}}})(e,t,i,a,s),e=v(t);if(!e){if(!(e=2==l.mode_gr?r.scale_bitcount(t):r.scale_bitcount_lsf(l,t)))return 1;if(1<l.noise_shaping)if(o.fill(l.pseudohalf,0),0==t.scalefac_scale){for(var u=t,f=a,h=0,p=0;p<u.sfbmax;p++){var _=u.width[p],m=u.scalefac[p];if(0!=u.preflag&&(m+=n.pretab[p]),h+=_,0!=(1&m)){m++;for(var b=-_;b<0;b++)f[h+b]*=1.2968395546510096,f[h+b]>u.xrpow_max&&(u.xrpow_max=f[h+b])}u.scalefac[p]=m>>1}u.preflag=0,e=!(u.scalefac_scale=1)}else t.block_type==d.SHORT_TYPE&&0<l.subblock_gain&&(e=function(e,t,r){var i=t.scalefac;for(u=0;u<t.sfb_lmax;u++)if(16<=i[u])return!0;for(var a=0;a<3;a++){var s=0,o=0;for(u=t.sfb_lmax+a;u<t.sfbdivide;u+=3)s<i[u]&&(s=i[u]);for(;u<t.sfbmax;u+=3)o<i[u]&&(o=i[u]);if(!(s<16&&o<8)){if(7<=t.subblock_gain[a])return!0;t.subblock_gain[a]++;for(var l=e.scalefac_band.l[t.sfb_lmax],u=t.sfb_lmax+a;u<t.sfbmax;u+=3){var f=t.width[u],h=i[u];if(c(0<=h),0<=(h-=4>>t.scalefac_scale))i[u]=h,l+=3*f;else{i[u]=0,h=210+(h<<t.scalefac_scale+1),p=n.IPOW20(h),l+=f*(a+1);for(var d=-f;d<0;d++)r[l+d]*=p,r[l+d]>t.xrpow_max&&(t.xrpow_max=r[l+d]);l+=f*(3-a-1)}}var p=n.IPOW20(202);for(l+=t.width[u]*(a+1),d=-t.width[u];d<0;d++)r[l+d]*=p,r[l+d]>t.xrpow_max&&(t.xrpow_max=r[l+d])}}return!1}(l,t,a)||v(t));return!(e=e||(2==l.mode_gr?r.scale_bitcount(t):r.scale_bitcount_lsf(l,t)))}}this.setModules=function(i,a,s,o){e=i,t=a,this.rv=a,n=s,this.qupvt=s,r=o,m.setModules(n,r)},this.ms_convert=function(e,t){for(var n=0;n<576;++n){var r=e.tt[t][0].xr[n],i=e.tt[t][1].xr[n];e.tt[t][0].xr[n]=(r+i)*(.5*s.SQRT2),e.tt[t][1].xr[n]=(r-i)*(.5*s.SQRT2)}},this.init_xrpow=function(e,t,n){var r=0|t.max_nonzero_coeff;if(c(null!=n),t.xrpow_max=0,c(0<=r&&r<=575),o.fill(n,r,576,0),1e-20<function(e,t,n,r){for(var i=r=0;i<=n;++i){var a=Math.abs(e.xr[i]);r+=a,t[i]=Math.sqrt(a*Math.sqrt(a)),t[i]>e.xrpow_max&&(e.xrpow_max=t[i])}return r}(t,n,r,0)){var i=0;0!=(2&e.substep_shaping)&&(i=1);for(var a=0;a<t.psymax;a++)e.pseudohalf[a]=i;return!0}return o.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,t){t.part2_3_length=0,t.big_values=0,t.count1=0,t.global_gain=210,t.scalefac_compress=0,t.table_select[0]=0,t.table_select[1]=0,t.table_select[2]=0,t.subblock_gain[0]=0,t.subblock_gain[1]=0,t.subblock_gain[2]=0,t.subblock_gain[3]=0,t.region0_count=0,t.region1_count=0,t.preflag=0,t.scalefac_scale=0,t.count1table_select=0,t.part2_length=0,t.sfb_lmax=d.SBPSY_l,t.sfb_smin=d.SBPSY_s,t.psy_lmax=e.sfb21_extra?d.SBMAX_l:d.SBPSY_l,t.psymax=t.psy_lmax,t.sfbmax=t.sfb_lmax,t.sfbdivide=11;for(var r=0;r<d.SBMAX_l;r++)t.width[r]=e.scalefac_band.l[r+1]-e.scalefac_band.l[r],t.window[r]=3;if(t.block_type==d.SHORT_TYPE){var a=l(576),s=(t.sfb_smin=0,(t.sfb_lmax=0)!=t.mixed_block_flag&&(t.sfb_smin=3,t.sfb_lmax=2*e.mode_gr+4),t.psymax=t.sfb_lmax+3*((e.sfb21_extra?d.SBMAX_s:d.SBPSY_s)-t.sfb_smin),t.sfbmax=t.sfb_lmax+3*(d.SBPSY_s-t.sfb_smin),t.sfbdivide=t.sfbmax-18,t.psy_lmax=t.sfb_lmax,e.scalefac_band.l[t.sfb_lmax]);for(i.arraycopy(t.xr,0,a,0,576),r=t.sfb_smin;r<d.SBMAX_s;r++)for(var c=e.scalefac_band.s[r],u=e.scalefac_band.s[r+1],f=0;f<3;f++)for(var h=c;h<u;h++)t.xr[s++]=a[3*h+f];var p=t.sfb_lmax;for(r=t.sfb_smin;r<d.SBMAX_s;r++)t.width[p]=t.width[p+1]=t.width[p+2]=e.scalefac_band.s[r+1]-e.scalefac_band.s[r],t.window[p]=0,t.window[p+1]=1,t.window[p+2]=2,p+=3}t.count1bits=0,t.sfb_partition_table=n.nr_of_sfb_block[0][0],t.slen[0]=0,t.slen[1]=0,t.slen[2]=0,t.slen[3]=0,t.max_nonzero_coeff=575,o.fill(t.scalefac,0);var _=e,m=t,b=_.ATH,v=m.xr;if(m.block_type!=d.SHORT_TYPE)for(var g=!1,y=d.PSFB21-1;0<=y&&!g;y--){var w=_.scalefac_band.psfb21[y],A=_.scalefac_band.psfb21[y+1],k=n.athAdjust(b.adjust,b.psfb21[y],b.floor);1e-12<_.nsPsy.longfact[21]&&(k*=_.nsPsy.longfact[21]);for(var E=A-1;w<=E;E--){if(!(Math.abs(v[E])<k)){g=!0;break}v[E]=0}}else for(var x=0;x<3;x++)for(g=!1,y=d.PSFB12-1;0<=y&&!g;y--){A=(w=3*_.scalefac_band.s[12]+(_.scalefac_band.s[13]-_.scalefac_band.s[12])*x+(_.scalefac_band.psfb12[y]-_.scalefac_band.psfb12[0]))+(_.scalefac_band.psfb12[y+1]-_.scalefac_band.psfb12[y]);var S=n.athAdjust(b.adjust,b.psfb12[y],b.floor);for(1e-12<_.nsPsy.shortfact[12]&&(S*=_.nsPsy.shortfact[12]),E=A-1;w<=E;E--){if(!(Math.abs(v[E])<S)){g=!0;break}v[E]=0}}},b.BINSEARCH_NONE=new b(0),b.BINSEARCH_UP=new b(1),b.BINSEARCH_DOWN=new b(2),this.trancate_smallspectrums=function(e,t,i,a){var s=l(_.SFBMAX);if((0!=(4&e.substep_shaping)||t.block_type!=d.SHORT_TYPE)&&0==(128&e.substep_shaping)){n.calc_noise(t,i,s,new f,null);for(var c=0;c<576;c++){var u=0;0!=t.l3_enc[c]&&(u=Math.abs(t.xr[c])),a[c]=u}c=0;var h=8;t.block_type==d.SHORT_TYPE&&(h=6);do{var p,m,b,v=t.width[h];if(c+=v,!(1<=s[h]||(o.sort(a,c-v,v),BitStream.EQ(a[c-1],0)))){p=(1-s[h])*i[h],b=m=0;do{for(var g,y=1;b+y<v&&!BitStream.NEQ(a[b+c-v],a[b+c+y-v]);y++);if(p<(g=a[b+c-v]*a[b+c-v]*y)){0!=b&&(m=a[b+c-v-1]);break}}while(p-=g,(b+=y)<v);if(!BitStream.EQ(m,0))for(;Math.abs(t.xr[c-v])<=m&&(t.l3_enc[c-v]=0),0<--v;);}}while(++h<t.psymax);t.part2_3_length=r.noquant_count_bits(e,t,null)}},this.outer_loop=function(e,t,s,o,u,m){var v=e.internal_flags,w=new p,A=l(576),k=l(_.SFBMAX),E=new f,x=new h,S=9999999,R=!1,M=!1,T=0,O=v,B=t,P=m,C=o,L=O.CurrentStep[u],j=!1,I=O.OldValue[u],V=b.BINSEARCH_NONE;for(B.global_gain=I,P-=B.part2_length,c(0!=L);;){var D,N=r.count_bits(O,C,B,null);if(1==L||N==P)break;D=P<N?((j=V==b.BINSEARCH_DOWN||j)&&(L/=2),V=b.BINSEARCH_UP,L):((j=V==b.BINSEARCH_UP||j)&&(L/=2),V=b.BINSEARCH_DOWN,-L),B.global_gain+=D,B.global_gain<0&&(j=!(B.global_gain=0)),255<B.global_gain&&(B.global_gain=255,j=!0)}for(c(0<=B.global_gain),c(B.global_gain<256);P<N&&B.global_gain<255;)B.global_gain++,N=r.count_bits(O,C,B,null);if(O.CurrentStep[u]=4<=I-B.global_gain?4:2,O.OldValue[u]=B.global_gain,B.part2_3_length=N,0==v.noise_shaping)return 100;n.calc_noise(t,s,k,E,x),E.bits=t.part2_3_length,w.assign(t);var H=0;for(i.arraycopy(o,0,A,0,576);!R;){do{var F=new f,W=255,q=0!=(2&v.substep_shaping)?20:3;if(v.sfb21_extra){if(1<k[w.sfbmax])break;if(w.block_type==d.SHORT_TYPE&&(1<k[w.sfbmax+1]||1<k[w.sfbmax+2]))break}if(!y(e,w,k,o,M))break;0!=w.scalefac_scale&&(W=254);var X=m-w.part2_length;if(X<=0)break;for(;(w.part2_3_length=r.count_bits(v,o,w,x))>X&&w.global_gain<=W;)w.global_gain++;if(w.global_gain>W)break;if(0==E.over_count){for(;(w.part2_3_length=r.count_bits(v,o,w,x))>S&&w.global_gain<=W;)w.global_gain++;if(w.global_gain>W)break}if(n.calc_noise(w,s,k,F,x),F.bits=w.part2_3_length,0!=(function(e,t,n,r,i){var a;switch(e){default:case 9:0<t.over_count?(a=n.over_SSD<=t.over_SSD,n.over_SSD==t.over_SSD&&(a=n.bits<t.bits)):a=n.max_noise<0&&10*n.max_noise+n.bits<=10*t.max_noise+t.bits;break;case 0:a=n.over_count<t.over_count||n.over_count==t.over_count&&n.over_noise<t.over_noise||n.over_count==t.over_count&&BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 8:n.max_noise=g(i,r);case 1:a=n.max_noise<t.max_noise;break;case 2:a=n.tot_noise<t.tot_noise;break;case 3:a=n.tot_noise<t.tot_noise&&n.max_noise<t.max_noise;break;case 4:a=n.max_noise<=0&&.2<t.max_noise||n.max_noise<=0&&t.max_noise<0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise||n.max_noise<=0&&0<t.max_noise&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise+t.over_noise||0<n.max_noise&&-.05<t.max_noise&&t.max_noise>n.max_noise-.1&&n.tot_noise+n.over_noise<t.tot_noise+t.over_noise||0<n.max_noise&&-.1<t.max_noise&&t.max_noise>n.max_noise-.15&&n.tot_noise+n.over_noise+n.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:a=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 6:a=n.over_noise<t.over_noise||BitStream.EQ(n.over_noise,t.over_noise)&&(n.max_noise<t.max_noise||BitStream.EQ(n.max_noise,t.max_noise)&&n.tot_noise<=t.tot_noise);break;case 7:a=n.over_count<t.over_count||n.over_noise<t.over_noise}return 0==t.over_count?a&&n.bits<t.bits:a}(t.block_type!=d.SHORT_TYPE?e.quant_comp:e.quant_comp_short,E,F,w,k)?1:0))S=t.part2_3_length,E=F,t.assign(w),i.arraycopy(o,H=0,A,0,576);else if(0==v.full_outer_loop){if(++H>q&&0==E.over_count)break;if(3==v.noise_shaping_amp&&M&&30<H)break;if(3==v.noise_shaping_amp&&M&&15<w.global_gain-T)break}}while(w.global_gain+w.scalefac_scale<255);3!=v.noise_shaping_amp||M?R=!0:(w.assign(t),i.arraycopy(A,0,o,0,576),T=w.global_gain,M=!(H=0))}return c(t.global_gain+t.scalefac_scale<=255),e.VBR==a.vbr_rh||e.VBR==a.vbr_mtrh?i.arraycopy(A,0,o,0,576):0!=(1&v.substep_shaping)&&trancate_smallspectrums(v,t,s,o),E.over_count},this.iteration_finish_one=function(e,n,i){var a=e.l3_side,s=a.tt[n][i];r.best_scalefac_store(e,n,i,a),1==e.use_best_huffman&&r.best_huffman_divide(e,s),t.ResvAdjust(e,s)},this.VBR_encode_granule=function(e,t,n,r,a,s,u){var f,h=e.internal_flags,d=new p,_=l(576),m=u,b=(u+s)/2,v=0,g=h.sfb21_extra;for(c(m<=LameInternalFlags.MAX_BITS_PER_CHANNEL),o.fill(d.l3_enc,0);c(s<=b),c(b<=u),c(s<=u),h.sfb21_extra=!(m-42<b)&&g,outer_loop(e,t,n,r,a,b)<=0?(v=1,f=t.part2_3_length,d.assign(t),i.arraycopy(r,0,_,0,576),f=(u=f-32)-s,b=(u+s)/2):(f=u-(s=b+32),b=(u+s)/2,0!=v&&(v=2,t.assign(d),i.arraycopy(_,0,r,0,576))),12<f;);h.sfb21_extra=g,2==v&&i.arraycopy(d.l3_enc,0,t.l3_enc,0,576),c(t.part2_3_length<=m)},this.get_framebits=function(n,r){var i=n.internal_flags,a=(i.bitrate_index=i.VBR_min_bitrate,e.getframebits(n));i.bitrate_index=1;a=e.getframebits(n);for(var s=1;s<=i.VBR_max_bitrate;s++){i.bitrate_index=s;var o=new MeanBits(a);r[s]=t.ResvFrameBegin(n,o),a=o.bits}},this.VBR_old_prepare=function(e,r,i,a,s,o,l,c,u){var f=e.internal_flags,h=0,p=1,_=0,m=(f.bitrate_index=f.VBR_max_bitrate,t.ResvFrameBegin(e,new MeanBits(0))/f.mode_gr);get_framebits(e,o);for(var b=0;b<f.mode_gr;b++){var v=n.on_pe(e,r,c[b],m,b,0);f.mode_ext==d.MPG_MD_MS_LR&&(ms_convert(f.l3_side,b),n.reduce_side(c[b],i[b],m,v));for(var g=0;g<f.channels_out;++g){var y=f.l3_side.tt[b][g],w=y.block_type!=d.SHORT_TYPE?(h=1.28/(1+Math.exp(3.5-r[b][g]/300))-.05,f.PSY.mask_adjust-h):(h=2.56/(1+Math.exp(3.5-r[b][g]/300))-.14,f.PSY.mask_adjust_short-h);f.masking_lower=Math.pow(10,.1*w),init_outer_loop(f,y),u[b][g]=n.calc_xmin(e,a[b][g],y,s[b][g]),0!=u[b][g]&&(p=0),l[b][g]=126,_+=c[b][g]}}for(b=0;b<f.mode_gr;b++)for(g=0;g<f.channels_out;g++)_>o[f.VBR_max_bitrate]&&(c[b][g]*=o[f.VBR_max_bitrate],c[b][g]/=_),l[b][g]>c[b][g]&&(l[b][g]=c[b][g]);return p},this.bitpressure_strategy=function(e,t,n,r){for(var i=0;i<e.mode_gr;i++)for(var a=0;a<e.channels_out;a++){for(var s=e.l3_side.tt[i][a],o=t[i][a],l=0,c=0;c<s.psy_lmax;c++)o[l++]*=1+.029*c*c/d.SBMAX_l/d.SBMAX_l;if(s.block_type==d.SHORT_TYPE)for(c=s.sfb_smin;c<d.SBMAX_s;c++)o[l++]*=1+.029*c*c/d.SBMAX_s/d.SBMAX_s,o[l++]*=1+.029*c*c/d.SBMAX_s/d.SBMAX_s,o[l++]*=1+.029*c*c/d.SBMAX_s/d.SBMAX_s;r[i][a]=0|Math.max(n[i][a],.9*r[i][a])}},this.VBR_new_prepare=function(e,r,i,a,s,o){var l,c,u=e.internal_flags,f=1,h=0,p=0;e.free_format?(u.bitrate_index=0,c=new MeanBits(h),l=t.ResvFrameBegin(e,c),h=c.bits,s[0]=l):(u.bitrate_index=u.VBR_max_bitrate,c=new MeanBits(h),t.ResvFrameBegin(e,c),h=c.bits,get_framebits(e,s),l=s[u.VBR_max_bitrate]);for(var _=0;_<u.mode_gr;_++){n.on_pe(e,r,o[_],h,_,0),u.mode_ext==d.MPG_MD_MS_LR&&ms_convert(u.l3_side,_);for(var m=0;m<u.channels_out;++m){var b=u.l3_side.tt[_][m];u.masking_lower=Math.pow(10,.1*u.PSY.mask_adjust),init_outer_loop(u,b),0!=n.calc_xmin(e,i[_][m],b,a[_][m])&&(f=0),p+=o[_][m]}}for(_=0;_<u.mode_gr;_++)for(m=0;m<u.channels_out;m++)l<p&&(o[_][m]*=l,o[_][m]/=p);return f},this.calc_target_bits=function(r,i,a,s,o,l){var c,u,f,h=r.internal_flags,p=h.l3_side,_=0,m=(h.bitrate_index=h.VBR_max_bitrate,new MeanBits(_));for(l[0]=t.ResvFrameBegin(r,m),_=m.bits,h.bitrate_index=1,_=e.getframebits(r)-8*h.sideinfo_len,o[0]=_/(h.mode_gr*h.channels_out),_=r.VBR_mean_bitrate_kbps*r.framesize*1e3,0!=(1&h.substep_shaping)&&(_*=1.09),_=(_=(_/=r.out_samplerate)-8*h.sideinfo_len)/(h.mode_gr*h.channels_out),1<(c=(c=.93+.07*(11-r.compression_ratio)/5.5)<.9?.9:c)&&(c=1),u=0;u<h.mode_gr;u++){for(var b,v,g=0,y=0;y<h.channels_out;y++)s[u][y]=int(c*_),700<i[u][y]&&(b=int((i[u][y]-700)/1.4),v=p.tt[u][y],s[u][y]=int(c*_),3*_/2<(b=v.block_type==d.SHORT_TYPE&&b<_/2?_/2:b)?b=3*_/2:b<0&&(b=0),s[u][y]+=b),s[u][y]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(s[u][y]=LameInternalFlags.MAX_BITS_PER_CHANNEL),g+=s[u][y];if(g>LameInternalFlags.MAX_BITS_PER_GRANULE)for(y=0;y<h.channels_out;++y)s[u][y]*=LameInternalFlags.MAX_BITS_PER_GRANULE,s[u][y]/=g}if(h.mode_ext==d.MPG_MD_MS_LR)for(u=0;u<h.mode_gr;u++)n.reduce_side(s[u],a[u],_*h.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(u=f=0;u<h.mode_gr;u++)for(y=0;y<h.channels_out;y++)s[u][y]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(s[u][y]=LameInternalFlags.MAX_BITS_PER_CHANNEL),f+=s[u][y];if(f>l[0])for(u=0;u<h.mode_gr;u++)for(y=0;y<h.channels_out;y++)s[u][y]*=l[0],s[u][y]/=f}}},5498:(e,t,n)=>{var r=n(6385),i=n(9233),a=(i.System,i.VbrMode),s=i.Float,o=(i.ShortBlock,i.Util),l=(i.Arrays,i.new_array_n,i.new_byte,i.new_double,i.new_float),c=(i.new_float_n,i.new_int),u=(i.new_int_n,i.assert),f=n(6043),h=n(423),d=n(3459);function p(){var e=n(3881),t=null,i=null,_=null;this.setModules=function(e,n,r){t=e,i=n,_=r},this.IPOW20=function(e){return u(0<=e&&e<p.Q_MAX),A[e]};var m=2220446049250313e-31,b=p.IXMAX_VAL+2,v=p.Q_MAX,g=p.Q_MAX2,y=(this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]],[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0]),w=(this.pretab=y,this.sfBandIndex=[new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])],l(v+g+1)),A=l(v),k=l(b),E=l(b);function x(e,t){return t=_.ATHformula(t,e),t-=100,Math.pow(10,t/10+e.ATHlower)}function S(e){this.s=e}this.adj43=E,this.iteration_init=function(e){var n=e.internal_flags,r=n.l3_side;if(0==n.iteration_init_init){n.iteration_init_init=1,r.main_data_begin=0;for(var i,a,o,l,c,u=e,h=u.internal_flags.ATH.l,d=u.internal_flags.ATH.psfb21,p=u.internal_flags.ATH.s,_=u.internal_flags.ATH.psfb12,m=u.internal_flags,y=u.out_samplerate,S=0;S<f.SBMAX_l;S++){var R=m.scalefac_band.l[S],M=m.scalefac_band.l[S+1];h[S]=s.MAX_VALUE;for(var T=R;T<M;T++){var O=x(u,T*y/1152);h[S]=Math.min(h[S],O)}}for(S=0;S<f.PSFB21;S++)for(R=m.scalefac_band.psfb21[S],M=m.scalefac_band.psfb21[S+1],d[S]=s.MAX_VALUE,T=R;T<M;T++)O=x(u,T*y/1152),d[S]=Math.min(d[S],O);for(S=0;S<f.SBMAX_s;S++){for(R=m.scalefac_band.s[S],M=m.scalefac_band.s[S+1],p[S]=s.MAX_VALUE,T=R;T<M;T++)O=x(u,T*y/384),p[S]=Math.min(p[S],O);p[S]*=m.scalefac_band.s[S+1]-m.scalefac_band.s[S]}for(S=0;S<f.PSFB12;S++){for(R=m.scalefac_band.psfb12[S],M=m.scalefac_band.psfb12[S+1],_[S]=s.MAX_VALUE,T=R;T<M;T++)O=x(u,T*y/384),_[S]=Math.min(_[S],O);_[S]*=m.scalefac_band.s[13]-m.scalefac_band.s[12]}if(u.noATH){for(S=0;S<f.SBMAX_l;S++)h[S]=1e-20;for(S=0;S<f.PSFB21;S++)d[S]=1e-20;for(S=0;S<f.SBMAX_s;S++)p[S]=1e-20;for(S=0;S<f.PSFB12;S++)_[S]=1e-20}for(m.ATH.floor=10*Math.log10(x(u,-1)),k[0]=0,c=1;c<b;c++)k[c]=Math.pow(c,4/3);for(c=0;c<b-1;c++)E[c]=c+1-Math.pow(.5*(k[c]+k[c+1]),.75);for(E[c]=.5,c=0;c<v;c++)A[c]=Math.pow(2,-.1875*(c-210));for(c=0;c<=v+g;c++)w[c]=Math.pow(2,.25*(c-210-g));for(t.huffman_init(n),32<=(c=e.exp_nspsytune>>2&63)&&(c-=64),i=Math.pow(10,c/4/10),32<=(c=e.exp_nspsytune>>8&63)&&(c-=64),a=Math.pow(10,c/4/10),32<=(c=e.exp_nspsytune>>14&63)&&(c-=64),o=Math.pow(10,c/4/10),32<=(c=e.exp_nspsytune>>20&63)&&(c-=64),l=o*Math.pow(10,c/4/10),c=0;c<f.SBMAX_l;c++)n.nsPsy.longfact[c]=c<=6?i:c<=13?a:c<=20?o:l;for(c=0;c<f.SBMAX_s;c++)n.nsPsy.shortfact[c]=c<=5?i:c<=10?a:c<=11?o:l}},this.on_pe=function(e,t,n,r,a,s){var o,l,f=e.internal_flags,p=c(2),_=new h(0),m=i.ResvMaxBits(e,r,_,s);for((e=(l=_.bits)+m)>d.MAX_BITS_PER_GRANULE&&(e=d.MAX_BITS_PER_GRANULE),v=o=0;v<f.channels_out;++v)n[v]=Math.min(d.MAX_BITS_PER_CHANNEL,l/f.channels_out),p[v]=0|n[v]*t[a][v]/700-n[v],p[v]>3*r/4&&(p[v]=3*r/4),p[v]<0&&(p[v]=0),p[v]+n[v]>d.MAX_BITS_PER_CHANNEL&&(p[v]=Math.max(0,d.MAX_BITS_PER_CHANNEL-n[v])),o+=p[v];if(m<o)for(v=0;v<f.channels_out;++v)p[v]=m*p[v]/o;for(v=0;v<f.channels_out;++v)n[v]+=p[v],m-=p[v];for(v=o=0;v<f.channels_out;++v)o+=n[v];if(o>d.MAX_BITS_PER_GRANULE){for(var b=0,v=0;v<f.channels_out;++v)n[v]*=d.MAX_BITS_PER_GRANULE,n[v]/=o,b+=n[v];u(b<=d.MAX_BITS_PER_GRANULE)}return e},this.reduce_side=function(e,t,n,r){u(r<=d.MAX_BITS_PER_GRANULE),u(e[0]+e[1]<=d.MAX_BITS_PER_GRANULE),(t=(t=0|.5*(t=.5<(t=(t=.33*(.5-t)/.5)<0?0:t)?.5:t)*(e[0]+e[1]))>d.MAX_BITS_PER_CHANNEL-e[0]?d.MAX_BITS_PER_CHANNEL-e[0]:t)<0&&(t=0),125<=e[1]&&(125<e[1]-t?(e[0]<n&&(e[0]+=t),e[1]-=t):(e[0]+=e[1]-125,e[1]=125)),r<(t=e[0]+e[1])&&(e[0]=r*e[0]/t,e[1]=r*e[1]/t),u(e[0]<=d.MAX_BITS_PER_CHANNEL),u(e[1]<=d.MAX_BITS_PER_CHANNEL),u(e[0]+e[1]<=d.MAX_BITS_PER_GRANULE)},this.athAdjust=function(e,t,n){var r=90.30873362,i=(t=o.FAST_LOG10_X(t,10),0);t=(t-=n)*(i=(i=1e-20<(e=e*e)?1+o.FAST_LOG10_X(e,10/r):i)<0?0:i)+(n+r-94.82444863);return Math.pow(10,.1*t)},this.calc_xmin=function(t,n,r,i){var s,o=0,l=t.internal_flags,c=0,u=0,h=l.ATH,d=r.xr,p=t.VBR==a.vbr_mtrh?1:0,_=l.masking_lower;for(t.VBR!=a.vbr_mtrh&&t.VBR!=a.vbr_mt||(_=1),s=0;s<r.psy_lmax;s++){E=(k=t.VBR==a.vbr_rh||t.VBR==a.vbr_mtrh?athAdjust(h.adjust,h.l[s],h.floor):h.adjust*h.l[s])/(y=r.width[s]),x=m,B=y>>1,O=0;do{}while(x+=(S=d[c]*d[c])<E?S:E,O=(O+=S)+(R=d[++c]*d[c]),x+=R<E?R:E,c++,0<--B);k<O&&u++,s==f.SBPSY_l&&x<(T=k*l.nsPsy.longfact[s])&&(x=T),0!=p&&(k=x),t.ATHonly||0<(M=n.en.l[s])&&(T=O*n.thm.l[s]*_/M,0!=p&&(T*=l.nsPsy.longfact[s]),k<T&&(k=T)),i[o++]=0!=p?k:k*l.nsPsy.longfact[s]}var b=575;if(r.block_type!=f.SHORT_TYPE)for(var v=576;0!=v--&&e.EQ(d[v],0);)b=v;r.max_nonzero_coeff=b;for(var g=r.sfb_smin;s<r.psymax;g++,s+=3){var y,w,A=t.VBR==a.vbr_rh||t.VBR==a.vbr_mtrh?athAdjust(h.adjust,h.s[g],h.floor):h.adjust*h.s[g];for(y=r.width[s],w=0;w<3;w++){var k,E,x,S,R,M,T,O=0,B=y>>1;E=A/y,x=m;do{}while(x+=(S=d[c]*d[c])<E?S:E,O=(O+=S)+(R=d[++c]*d[c]),x+=R<E?R:E,c++,0<--B);A<O&&u++,g==f.SBPSY_s&&x<(T=A*l.nsPsy.shortfact[g])&&(x=T),k=0!=p?x:A,t.ATHonly||t.ATHshort||0<(M=n.en.s[g][w])&&(T=O*n.thm.s[g][w]*_/M,0!=p&&(T*=l.nsPsy.shortfact[g]),k<T&&(k=T)),i[o++]=0!=p?k:k*l.nsPsy.shortfact[g]}t.useTemporal&&(i[o-3]>i[o-3+1]&&(i[o-3+1]+=(i[o-3]-i[o-3+1])*l.decay),i[o-3+1]>i[o-3+2]&&(i[o-3+2]+=(i[o-3+1]-i[o-3+2])*l.decay))}return u},this.calc_noise_core=function(e,t,n,r){var i=0,a=t.s,s=e.l3_enc;if(a>e.count1)for(;0!=n--;)o=e.xr[a],a++,i+=o*o,o=e.xr[a],a++,i+=o*o;else if(a>e.big_values){var o,c=l(2);for(c[0]=0,c[1]=r;0!=n--;)o=Math.abs(e.xr[a])-c[s[a]],a++,i+=o*o,o=Math.abs(e.xr[a])-c[s[a]],a++,i+=o*o}else for(;0!=n--;)o=Math.abs(e.xr[a])-k[s[a]]*r,a++,i+=o*o,o=Math.abs(e.xr[a])-k[s[a]]*r,a++,i+=o*o;return t.s=a,i},this.calc_noise=function(e,t,n,r,i){for(var a=0,s=0,l=0,c=0,f=0,h=-20,d=0,_=e.scalefac,m=0,b=r.over_SSD=0;b<e.psymax;b++){var v,g,A,k=e.global_gain-(_[m++]+(0!=e.preflag?y[b]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[b]],E=0;null!=i&&i.step[b]==k?(E=i.noise[b],d+=e.width[b],n[a++]=E/t[s++],E=i.noise_log[b]):(u(0<=(v=k)+p.Q_MAX2&&v<p.Q_MAX),v=w[v+p.Q_MAX2],A=e.width[b]>>1,d+e.width[b]>e.max_nonzero_coeff&&(A=0<(g=e.max_nonzero_coeff-d+1)?g>>1:0),g=new S(d),E=this.calc_noise_core(e,g,A,v),d=g.s,null!=i&&(i.step[b]=k,i.noise[b]=E),E=n[a++]=E/t[s++],E=o.FAST_LOG10(Math.max(E,1e-20)),null!=i&&(i.noise_log[b]=E)),null!=i&&(i.global_gain=e.global_gain),f+=E,0<E&&(A=Math.max(0|10*E+.5,1),r.over_SSD+=A*A,l++,c+=E),h=Math.max(h,E)}return r.over_count=l,r.tot_noise=f,r.over_noise=c,r.max_noise=h,l},this.set_pinfo=function(e,t,n,r,i){var a,s,o,c=e.internal_flags,h=0==t.scalefac_scale?.5:1,d=t.scalefac,p=l(L3Side.SFBMAX),_=l(L3Side.SFBMAX),m=new CalcNoiseResult,b=(calc_xmin(e,n,t,p),calc_noise(t,p,_,m,null),0),v=t.sfb_lmax;for(t.block_type!=f.SHORT_TYPE&&0==t.mixed_block_flag&&(v=22),a=0;a<v;a++){for(var g=c.scalefac_band.l[a],w=(k=c.scalefac_band.l[a+1])-g,A=0;b<k;b++)A+=t.xr[b]*t.xr[b];A/=w,c.pinfo.en[r][i][a]=(o=1e15)*A,c.pinfo.xfsf[r][i][a]=o*p[a]*_[a]/w,0<n.en.l[a]&&!e.ATHonly?A/=n.en.l[a]:A=0,c.pinfo.thr[r][i][a]=o*Math.max(A*n.thm.l[a],c.ATH.l[a]),(c.pinfo.LAMEsfb[r][i][a]=0)!=t.preflag&&11<=a&&(c.pinfo.LAMEsfb[r][i][a]=-h*y[a]),a<f.SBPSY_l&&(u(0<=d[a]),c.pinfo.LAMEsfb[r][i][a]-=h*d[a])}if(t.block_type==f.SHORT_TYPE)for(v=a,a=t.sfb_smin;a<f.SBMAX_s;a++){g=c.scalefac_band.s[a],w=(k=c.scalefac_band.s[a+1])-g;for(var k,E=0;E<3;E++){for(A=0,s=g;s<k;s++)A+=t.xr[b]*t.xr[b],b++;A=Math.max(A/w,1e-20),c.pinfo.en_s[r][i][3*a+E]=(o=1e15)*A,c.pinfo.xfsf_s[r][i][3*a+E]=o*p[v]*_[v]/w,0<n.en.s[a][E]?A/=n.en.s[a][E]:A=0,(e.ATHonly||e.ATHshort)&&(A=0),c.pinfo.thr_s[r][i][3*a+E]=o*Math.max(A*n.thm.s[a][E],c.ATH.s[a]),c.pinfo.LAMEsfb_s[r][i][3*a+E]=-2*t.subblock_gain[E],a<f.SBPSY_s&&(c.pinfo.LAMEsfb_s[r][i][3*a+E]-=h*d[v]),v++}}c.pinfo.LAMEqss[r][i]=t.global_gain,c.pinfo.LAMEmainbits[r][i]=t.part2_3_length+t.part2_length,c.pinfo.LAMEsfbits[r][i]=t.part2_length,c.pinfo.over[r][i]=m.over_count,c.pinfo.max_noise[r][i]=10*m.max_noise,c.pinfo.over_noise[r][i]=10*m.over_noise,c.pinfo.tot_noise[r][i]=10*m.tot_noise,c.pinfo.over_SSD[r][i]=m.over_SSD}}p.Q_MAX=257,p.Q_MAX2=116,p.LARGE_BITS=1e5,p.IXMAX_VAL=8206,e.exports=p},3021:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int),s=(r.new_int_n,r.assert,n(3189));e.exports=function(){this.linprebuf=i(2*s.MAX_ORDER),this.linpre=0,this.lstepbuf=i(s.MAX_SAMPLES_PER_WINDOW+s.MAX_ORDER),this.lstep=0,this.loutbuf=i(s.MAX_SAMPLES_PER_WINDOW+s.MAX_ORDER),this.lout=0,this.rinprebuf=i(2*s.MAX_ORDER),this.rinpre=0,this.rstepbuf=i(s.MAX_SAMPLES_PER_WINDOW+s.MAX_ORDER),this.rstep=0,this.routbuf=i(s.MAX_SAMPLES_PER_WINDOW+s.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=a(0|s.STEPS_per_dB*s.MAX_dB),this.B=a(0|s.STEPS_per_dB*s.MAX_dB)}},9313:(e,t,n)=>{var r=n(9233).assert;e.exports=function(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var i,a=t.internal_flags,s=a.l3_side,o=e.getframebits(t),l=(n.bits=(o-8*a.sideinfo_len)/a.mode_gr,2048*a.mode_gr-8);320<t.brate?i=8*int(1e3*t.brate/(t.out_samplerate/1152)/8+.5):(i=11520,t.strict_ISO&&(i=8*int(32e4/(t.out_samplerate/1152)/8+.5))),a.ResvMax=i-o,a.ResvMax>l&&(a.ResvMax=l),(a.ResvMax<0||t.disable_reservoir)&&(a.ResvMax=0),o=n.bits*a.mode_gr+Math.min(a.ResvSize,a.ResvMax);return i<o&&(o=i),r(0==a.ResvMax%8),r(0<=a.ResvMax),s.resvDrain_pre=0,null!=a.pinfo&&(a.pinfo.mean_bits=n.bits/2,a.pinfo.resvsize=a.ResvSize),o},this.ResvMaxBits=function(e,t,n,r){var i,a=e.internal_flags,s=a.ResvSize,o=a.ResvMax;0!=r&&(s+=t),0!=(1&a.substep_shaping)&&(o*=.9),n.bits=t,9*o<10*s?(n.bits+=i=s-9*o/10,a.substep_shaping|=128):(i=0,a.substep_shaping&=127,e.disable_reservoir||0!=(1&a.substep_shaping)||(n.bits-=.1*t)),r=s<6*a.ResvMax/10?s:6*a.ResvMax/10;return(r-=i)<0?0:r},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var n=e.l3_side,i=(t=(e.ResvSize+=t*e.mode_gr,0),n.resvDrain_post=0,(n.resvDrain_pre=0)!=(i=e.ResvSize%8)&&(t+=i),0<(i=e.ResvSize-t-e.ResvMax)&&(r(0==i%8),r(0<=i),t+=i),Math.min(8*n.main_data_begin,t)/8);n.resvDrain_pre+=8*i,t-=8*i,e.ResvSize-=8*i,n.main_data_begin-=i,n.resvDrain_post+=t,e.ResvSize-=t}}},6385:(e,t,n)=>{var r=n(9233),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),s=(r.new_int_n,r.assert,n(6043));e.exports=function(e,t,n,r){this.l=a(1+s.SBMAX_l),this.s=a(1+s.SBMAX_s),this.psfb21=a(1+s.PSFB21),this.psfb12=a(1+s.PSFB12);var o=this.l,l=this.s;4==arguments.length&&(this.arrL=e,this.arrS=t,this.arr21=n,this.arr12=r,i.arraycopy(this.arrL,0,o,0,Math.min(this.arrL.length,this.l.length)),i.arraycopy(this.arrS,0,l,0,Math.min(this.arrS.length,this.s.length)),i.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),i.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}},6330:e=>{function t(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}var n={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};n.ht=[new t(0,0,null,null),new t(2,0,n.t1HB,n.t1l),new t(3,0,n.t2HB,n.t2l),new t(3,0,n.t3HB,n.t3l),new t(0,0,null,null),new t(4,0,n.t5HB,n.t5l),new t(4,0,n.t6HB,n.t6l),new t(6,0,n.t7HB,n.t7l),new t(6,0,n.t8HB,n.t8l),new t(6,0,n.t9HB,n.t9l),new t(8,0,n.t10HB,n.t10l),new t(8,0,n.t11HB,n.t11l),new t(8,0,n.t12HB,n.t12l),new t(16,0,n.t13HB,n.t13l),new t(0,0,null,n.t16_5l),new t(16,0,n.t15HB,n.t15l),new t(1,1,n.t16HB,n.t16l),new t(2,3,n.t16HB,n.t16l),new t(3,7,n.t16HB,n.t16l),new t(4,15,n.t16HB,n.t16l),new t(6,63,n.t16HB,n.t16l),new t(8,255,n.t16HB,n.t16l),new t(10,1023,n.t16HB,n.t16l),new t(13,8191,n.t16HB,n.t16l),new t(4,15,n.t24HB,n.t24l),new t(5,31,n.t24HB,n.t24l),new t(6,63,n.t24HB,n.t24l),new t(7,127,n.t24HB,n.t24l),new t(8,255,n.t24HB,n.t24l),new t(9,511,n.t24HB,n.t24l),new t(11,2047,n.t24HB,n.t24l),new t(13,8191,n.t24HB,n.t24l),new t(0,0,n.t32HB,n.t32l),new t(0,0,n.t33HB,n.t33l)],n.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],n.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],n.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],n.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],n.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],n.scfsi_band=[0,6,11,16,21],e.exports=n},4259:(e,t,n)=>{var r=n(9233),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays),s=(r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),o=(r.new_int_n,r.assert),l=n(6043),c=n(6330),u=n(1166),f=n(5498);e.exports=function e(){var t=null;function n(e){this.bits=0|e}this.qupvt=null,this.setModules=function(e){this.qupvt=e,t=e};var r=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function h(e,t,n,r,i,a){var s=.5946/t;for(o(0<e),e>>=1;0!=e--;)i[a++]=s>n[r++]?0:1,i[a++]=s>n[r++]?0:1}function d(e,n,r,i,a,s){o(0<e);var l,c,u,f,h,d,p=(e>>=1)%2;for(e>>=1;0!=e--;)h=r[i++]*n,d=r[i++]*n,l=r[i++]*n,c=r[i++]*n,u=0|l,h+=t.adj43[0|h],f=0|c,d+=t.adj43[0|d],a[s++]=0|h,l+=t.adj43[u],a[s++]=0|d,c+=t.adj43[f],a[s++]=0|l,a[s++]=0|c;0!=p&&(h=r[i++]*n,d=r[i++]*n,h+=t.adj43[0|h],d+=t.adj43[0|d],a[s++]=0|h,a[s++]=0|d)}var p=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function _(e,t,n,r){var i,a,s=function(e,t,n){var r=0,i=0;do{var a=e[t++],s=e[t++]}while(r<a&&(r=a),i<s&&(i=s),t<n);return r<i?i:r}(e,t,n);switch(s){case 0:return s;case 1:var o=e,l=t,u=n,h=r,d=0,_=c.ht[1].hlen;do{var m=2*o[l+0]+o[l+1]}while(d+=_[m],(l+=2)<u);return h.bits+=d,1;case 2:case 3:var b=e,v=t,g=n,y=(h=p[s-1],r),w=0,A=c.ht[h].xlen,k=2==h?c.table23:c.table56;do{var E=b[v+0]*A+b[v+1]}while(w+=k[E],(v+=2)<g);return(M=65535&w)<(w>>=16)&&(w=M,h++),y.bits+=w,h;case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:var x=e,S=t,R=n,M=p[s-1],T=(y=r,0),O=0,B=0,P=c.ht[M].xlen,C=c.ht[M].hlen,L=c.ht[M+1].hlen,j=c.ht[M+2].hlen;do{var I=x[S+0]*P+x[S+1]}while(T+=C[I],O+=L[I],B+=j[I],(S+=2)<R);var V=M;return O<T&&(T=O,V++),B<T&&(T=B,V=M+2),y.bits+=T,V;default:if(s>f.IXMAX_VAL)return r.bits=f.LARGE_BITS,-1;for(s-=15,i=24;i<32&&!(c.ht[i].linmax>=s);i++);for(a=i-8;a<24&&!(c.ht[a].linmax>=s);a++);var D,N=e,H=t,F=n,W=(V=a,i),q=r,X=65536*c.ht[V].xlen+c.ht[W].xlen,U=0;do{var Y=N[H++],z=N[H++]}while(0!=Y&&(14<Y&&(Y=15,U+=X),Y*=16),0!=z&&(14<z&&(z=15,U+=X),Y+=z),U+=c.largetbl[Y],H<F);return(D=65535&U)<(U>>=16)&&(U=D,V=W),q.bits+=U,V}}function m(e,t,r,i,a,s,o,c){for(var u=t.big_values,f=2;f<l.SBMAX_l+1;f++){if(u<=(p=e.scalefac_band.l[f]))break;var h=a[f-2]+t.count1bits;if(r.part2_3_length<=h)break;var d=new n(h),p=_(i,p,u,d);h=d.bits;r.part2_3_length<=h||(r.assign(t),r.part2_3_length=h,r.region0_count=s[f-2],r.region1_count=f-2-s[f-2],r.table_select[0]=o[f-2],r.table_select[1]=c[f-2],r.table_select[2]=p)}}this.noquant_count_bits=function(e,t,r){var i=t.l3_enc,a=Math.min(576,t.max_nonzero_coeff+2>>1<<1);for(null!=r&&(r.sfb_count1=0);1<a&&0==(i[a-1]|i[a-2]);a-=2);t.count1=a;for(var s,u=0,f=0;3<a&&!(1<(2147483647&(i[a-1]|i[a-2]|i[a-3]|i[a-4])));a-=4)s=2*(2*(2*i[a-4]+i[a-3])+i[a-2])+i[a-1],u+=c.t32l[s],f+=c.t33l[s];var h,d=u;if(t.count1table_select=0,f<u&&(d=f,t.count1table_select=1),t.count1bits=d,0==(t.big_values=a))return d;if(t.block_type==l.SHORT_TYPE?((u=3*e.scalefac_band.s[3])>t.big_values&&(u=t.big_values),f=t.big_values):t.block_type==l.NORM_TYPE?(o(a<=576),u=t.region0_count=e.bv_scf[a-2],f=t.region1_count=e.bv_scf[a-1],o(u+f+2<l.SBPSY_l),f=e.scalefac_band.l[u+f+2],u=e.scalefac_band.l[u+1],f<a&&(h=new n(d),t.table_select[2]=_(i,f,a,h),d=h.bits)):(t.region0_count=7,t.region1_count=l.SBMAX_l-1-7-1,(f=a)<(u=e.scalefac_band.l[8])&&(u=f)),u=Math.min(u,a),f=Math.min(f,a),o(0<=u),o(0<=f),0<u&&(h=new n(d),t.table_select[0]=_(i,0,u,h),d=h.bits),u<f&&(h=new n(d),t.table_select[1]=_(i,u,f,h),d=h.bits),2==e.use_best_huffman&&(t.part2_3_length=d,best_huffman_divide(e,t),d=t.part2_3_length),null!=r&&t.block_type==l.NORM_TYPE){for(var p=0;e.scalefac_band.l[p]<t.big_values;)p++;r.sfb_count1=p}return d},this.count_bits=function(e,n,r,i){var s=r.l3_enc,c=f.IXMAX_VAL/t.IPOW20(r.global_gain);if(r.xrpow_max>c)return f.LARGE_BITS;for(var u=n,p=s,_=t.IPOW20(r.global_gain),m=r,b=i,v=0,g=0,y=0,w=0,A=p,k=0,E=A,x=0,S=u,R=0,M=null!=b&&m.global_gain==b.global_gain,T=m.block_type==l.SHORT_TYPE?38:21,O=0;O<=T;O++){var B=-1;if(!M&&m.block_type!=l.NORM_TYPE||(B=m.global_gain-(m.scalefac[O]+(0!=m.preflag?t.pretab[O]:0)<<m.scalefac_scale+1)-8*m.subblock_gain[m.window[O]]),o(0<=m.width[O]),M&&b.step[O]==B)0!=g&&(d(g,_,S,R,E,x),g=0),0!=y&&(h(y,_,S,R,E,x),y=0);else{var P,C=m.width[O];if(v+m.width[O]>m.max_nonzero_coeff&&(P=m.max_nonzero_coeff-v+1,a.fill(p,m.max_nonzero_coeff,576,0),(C=P)<0&&(C=0),O=T+1),0==g&&0==y&&(E=A,x=k,S=u,R=w),null!=b&&0<b.sfb_count1&&O>=b.sfb_count1&&0<b.step[O]&&B>=b.step[O]?(0!=g&&(d(g,_,S,R,E,x),g=0,E=A,x=k,S=u,R=w),y+=C):(0!=y&&(h(y,_,S,R,E,x),y=0,E=A,x=k,S=u,R=w),g+=C),C<=0){0!=y&&(h(y,_,S,R,E,x),y=0),0!=g&&(d(g,_,S,R,E,x),g=0);break}}O<=T&&(k+=m.width[O],w+=m.width[O],v+=m.width[O])}if(0!=g&&(d(g,_,S,R,E,x),g=0),0!=y&&h(y,_,S,R,E,x),0!=(2&e.substep_shaping))for(var L=0,j=(c=r.global_gain+r.scalefac_scale,.634521682242439/t.IPOW20(c)),I=0;I<r.sfbmax;I++){var V=r.width[I];if(o(0<=V),0==e.pseudohalf[I])L+=V;else{var D=L;for(L+=V;D<L;++D)s[D]=n[D]>=j?s[D]:0}}return this.noquant_count_bits(e,r,i)},this.best_huffman_divide=function(e,t){var r=new u,i=t.l3_enc,a=s(23),h=s(23),d=s(23),p=s(23);if(t.block_type!=l.SHORT_TYPE||1!=e.mode_gr){if(r.assign(t),t.block_type==l.NORM_TYPE){for(var b=e,v=i,g=a,y=h,w=d,A=p,k=t.big_values,E=0;E<=22;E++)g[E]=f.LARGE_BITS;for(E=0;E<16;E++){var x=b.scalefac_band.l[E+1];if(k<=x)break;for(var S=_(v,0,x,T=new n(0)),R=T.bits,M=0;M<8;M++){if(k<=(O=b.scalefac_band.l[E+M+2]))break;var T,O=_(v,x,O,T=new n(R)),B=T.bits;g[E+M]>B&&(g[E+M]=B,w[(y[E+M]=E)+M]=S,A[E+M]=O)}}m(e,r,t,i,a,h,d,p)}var P=r.big_values;if(!(0==P||1<(i[P-2]|i[P-1])||576<(P=t.count1+2))){r.assign(t),r.count1=P;var C,L=0,j=0;for(o(P<=576);P>r.big_values;P-=4){var I=2*(2*(2*i[P-4]+i[P-3])+i[P-2])+i[P-1];L+=c.t32l[I],j+=c.t33l[I]}r.big_values=P,r.count1table_select=0,j<L&&(L=j,r.count1table_select=1),r.count1bits=L,r.block_type==l.NORM_TYPE?m(e,r,t,i,a,h,d,p):(r.part2_3_length=L,0<(L=P<(L=e.scalefac_band.l[8])?P:L)&&(C=new n(r.part2_3_length),r.table_select[0]=_(i,0,L,C),r.part2_3_length=C.bits),L<P&&(C=new n(r.part2_3_length),r.table_select[1]=_(i,L,P,C),r.part2_3_length=C.bits),t.part2_3_length>r.part2_3_length&&t.assign(r))}}};var b=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],v=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],g=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],y=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];e.slen1_tab=g,e.slen2_tab=y,this.best_scalefac_store=function(e,n,r,i){var a,s,u=i.tt[n][r],f=0,h=0;for(_=0;_<u.sfbmax;_++){var d=u.width[_];for(o(0<=d),h+=d,s=-d;s<0&&0==u.l3_enc[s+h];s++);0==s&&(u.scalefac[_]=f=-2)}if(0==u.scalefac_scale&&0==u.preflag){for(var p=0,_=0;_<u.sfbmax;_++)0<u.scalefac[_]&&(p|=u.scalefac[_]);if(0==(1&p)&&0!=p){for(_=0;_<u.sfbmax;_++)0<u.scalefac[_]&&(u.scalefac[_]>>=1);u.scalefac_scale=f=1}}if(0==u.preflag&&u.block_type!=l.SHORT_TYPE&&2==e.mode_gr){for(_=11;_<l.SBPSY_l&&!(u.scalefac[_]<t.pretab[_]&&-2!=u.scalefac[_]);_++);if(_==l.SBPSY_l){for(_=11;_<l.SBPSY_l;_++)0<u.scalefac[_]&&(u.scalefac[_]-=t.pretab[_]);u.preflag=f=1}}for(a=0;a<4;a++)i.scfsi[r][a]=0;if(2==e.mode_gr&&1==n&&i.tt[0][r].block_type!=l.SHORT_TYPE&&i.tt[1][r].block_type!=l.SHORT_TYPE){for(var m=r,w=i,A=w.tt[1][m],k=w.tt[0][m],E=0;E<c.scfsi_band.length-1;E++){for(R=c.scfsi_band[E];R<c.scfsi_band[E+1]&&!(k.scalefac[R]!=A.scalefac[R]&&0<=A.scalefac[R]);R++);if(R==c.scfsi_band[E+1]){for(R=c.scfsi_band[E];R<c.scfsi_band[E+1];R++)A.scalefac[R]=-1;w.scfsi[m][E]=1}}for(var x=0,S=0,R=0;R<11;R++)-1!=A.scalefac[R]&&(S++,x<A.scalefac[R]&&(x=A.scalefac[R]));for(var M=0,T=0;R<l.SBPSY_l;R++)-1!=A.scalefac[R]&&(T++,M<A.scalefac[R]&&(M=A.scalefac[R]));var O;for(E=0;E<16;E++)x<b[E]&&M<v[E]&&A.part2_length>(O=g[E]*S+y[E]*T)&&(A.part2_length=O,A.scalefac_compress=E);f=0}for(_=0;_<u.sfbmax;_++)-2==u.scalefac[_]&&(u.scalefac[_]=0);0!=f&&(2==e.mode_gr?this.scale_bitcount(u):this.scale_bitcount_lsf(e,u))};var w=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],A=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],k=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74],E=(this.scale_bitcount=function(e){var n,r,i,a=0,s=0,c=e.scalefac;if(o(function(e,t){for(var n=0;n<t;++n)if(e[n]<0)return!1;return!0}(c,e.sfbmax)),e.block_type==l.SHORT_TYPE)i=w,0!=e.mixed_block_flag&&(i=A);else if(i=k,0==e.preflag){for(r=11;r<l.SBPSY_l&&!(c[r]<t.pretab[r]);r++);if(r==l.SBPSY_l)for(e.preflag=1,r=11;r<l.SBPSY_l;r++)c[r]-=t.pretab[r]}for(r=0;r<e.sfbdivide;r++)a<c[r]&&(a=c[r]);for(;r<e.sfbmax;r++)s<c[r]&&(s=c[r]);for(e.part2_length=f.LARGE_BITS,n=0;n<16;n++)a<b[n]&&s<v[n]&&e.part2_length>i[n]&&(e.part2_length=i[n],e.scalefac_compress=n);return e.part2_length==f.LARGE_BITS},[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]]),x=(this.scale_bitcount_lsf=function(e,n){for(var r,a,c,u,f,h,d,p=s(4),_=n.scalefac,m=0!=n.preflag?2:0,b=0;b<4;b++)p[b]=0;if(n.block_type==l.SHORT_TYPE)for(var v=1,g=t.nr_of_sfb_block[m][v],y=0,w=0;w<4;w++)for(r=g[w]/3,b=0;b<r;b++,y++)for(a=0;a<3;a++)_[3*y+a]>p[w]&&(p[w]=_[3*y+a]);else for(g=t.nr_of_sfb_block[m][v=0],w=y=0;w<4;w++)for(r=g[w],b=0;b<r;b++,y++)_[y]>p[w]&&(p[w]=_[y]);for(c=!1,w=0;w<4;w++)p[w]>E[m][w]&&(c=!0);if(!c){for(n.sfb_partition_table=t.nr_of_sfb_block[m][v],w=0;w<4;w++)n.slen[w]=x[p[w]];switch(u=n.slen[0],f=n.slen[1],h=n.slen[2],d=n.slen[3],m){case 0:n.scalefac_compress=(5*u+f<<4)+(h<<2)+d;break;case 1:n.scalefac_compress=400+(5*u+f<<2)+h;break;case 2:n.scalefac_compress=500+3*u+f;break;default:i.err.printf("intensity stereo not implemented yet\n")}}if(!c)for(o(null!=n.sfb_partition_table),w=n.part2_length=0;w<4;w++)n.part2_length+=n.slen[w]*n.sfb_partition_table[w];return c},[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4]);this.huffman_init=function(e){for(var t=2;t<=576;t+=2){for(var n,i=0;e.scalefac_band.l[++i]<t;);for(n=r[i][0];e.scalefac_band.l[n+1]>t;)n--;for(n<0&&(n=r[i][0]),e.bv_scf[t-2]=n,n=r[i][1];e.scalefac_band.l[n+e.bv_scf[t-2]+2]>t;)n--;n<0&&(n=r[i][1]),e.bv_scf[t-1]=n}}}},6576:e=>{e.exports=function(){this.setModules=function(e,t){}}},4971:e=>{e.exports=function(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}},4506:(e,t,n)=>{var r=(n=n(9233)).System,i=n.VbrMode,a=(n.Float,n.ShortBlock),s=(n.Util,n.Arrays),o=(n.new_array_n,n.new_byte),l=(n.new_double,n.new_float,n.new_float_n,n.new_int,n.new_int_n,n.assert);function c(){this.setModules=function(r,i,a){e=r,t=i,n=a};var e,t,n,u=c.NUMTOCENTRIES,f=c.MAXFRAMESIZE,h=u+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,d="Xing",p="Info",_=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function m(e,t){return(((255&e[t+0])<<8|255&e[t+1])<<8|255&e[t+2])<<8|255&e[t+3]}function b(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function v(e,t,n){e[t+0]=n>>8&255,e[t+1]=255&n}function g(e,t,n){return 255&(e<<t|n&~(-1<<t))}function y(t,n){var r=t.internal_flags,a=(r=(n[0]=g(n[0],8,255),n[1]=g(n[1],3,7),n[1]=g(n[1],1,t.out_samplerate<16e3?0:1),n[1]=g(n[1],1,t.version),n[1]=g(n[1],2,1),n[1]=g(n[1],1,t.error_protection?0:1),n[2]=g(n[2],4,r.bitrate_index),n[2]=g(n[2],2,r.samplerate_index),n[2]=g(n[2],1,0),n[2]=g(n[2],1,t.extension),n[3]=g(n[3],2,t.mode.ordinal()),n[3]=g(n[3],2,r.mode_ext),n[3]=g(n[3],1,t.copyright),n[3]=g(n[3],1,t.original),n[3]=g(n[3],2,t.emphasis),n[0]=255,241&n[1]),1==t.version?128:t.out_samplerate<16e3?32:64);t.VBR==i.vbr_off&&(a=t.brate),a=t.free_format?0:255&16*e.BitrateIndex(a,t.version,t.out_samplerate),1==t.version?n[1]=255&(10|r):n[1]=255&(2|r),r=13&n[2],n[2]=255&(a|r)}function w(e,t){return t>>8^_[255&(t^e)]}this.addVbrFrame=function(e){var t=e.internal_flags,n=(e=Tables.bitrate_table[e.version][t.bitrate_index],l(null!=t.VBR_seek_table.bag),t.VBR_seek_table);t=e;if(n.nVbrNumFrames++,n.sum+=t,n.seen++,!(n.seen<n.want)&&(n.pos<n.size&&(n.bag[n.pos]=n.sum,n.pos++,n.seen=0),n.pos==n.size)){for(var r=1;r<n.size;r+=2)n.bag[r/2]=n.bag[r];n.want*=2,n.pos/=2}},this.getVbrTag=function(e){var t=new VBRTagData,n=0,r=(t.flags=0,e[n+1]>>3&1),i=e[n+2]>>2&3,a=e[n+3]>>6&3,s=e[n+2]>>4&15;s=Tables.bitrate_table[r][s];if(e[n+1]>>4==14?t.samprate=Tables.samplerate_table[2][i]:t.samprate=Tables.samplerate_table[r][i],i=e,a=n+=0!=r?3!=a?36:21:3!=a?21:13,!new String(i,a,d.length(),null).equals(d)&&!new String(i,a,p.length(),null).equals(p))return null;if(n+=4,t.hId=r,i=t.flags=m(e,n),n+=4,0!=(1&i)&&(t.frames=m(e,n),n+=4),0!=(2&i)&&(t.bytes=m(e,n),n+=4),0!=(4&i)){if(null!=t.toc)for(var o=0;o<u;o++)t.toc[o]=e[n+o];n+=u}return t.vbrScale=-1,0!=(8&i)&&(t.vbrScale=m(e,n),n+=4),t.headersize=72e3*(1+r)*s/t.samprate,a=e[(n+=21)+0]<<4,a+=e[n+1]>>4,i=(15&e[n+1])<<8,((i+=255&e[n+2])<0||3e3<i)&&(i=-1),t.encDelay=a=a<0||3e3<a?-1:a,t.encPadding=i,t},this.InitVbrTag=function(e){var n=e.internal_flags,r=1==e.version?128:e.out_samplerate<16e3?32:64,a=(r=(e.VBR==i.vbr_off&&(r=e.brate),72e3*(e.version+1)*r/e.out_samplerate),n.sideinfo_len+h);if((n.VBR_seek_table.TotalFrameSize=r)<a||f<r)e.bWriteVbrTag=!1;else{n.VBR_seek_table.nVbrNumFrames=0,n.VBR_seek_table.nBytesWritten=0,n.VBR_seek_table.sum=0,n.VBR_seek_table.seen=0,n.VBR_seek_table.want=1,n.VBR_seek_table.pos=0,null==n.VBR_seek_table.bag&&(n.VBR_seek_table.bag=new int[400],n.VBR_seek_table.size=400);for(var s=o(f),l=(y(e,s),n.VBR_seek_table.TotalFrameSize),c=0;c<l;++c)t.add_dummy_byte(e,255&s[c],1)}},this.updateMusicCRC=function(e,t,n,r){for(var i=0;i<r;++i)e[0]=w(t[n+i],e[0])},this.getLameTagFrame=function(e,l){var c=e.internal_flags;if(!e.bWriteVbrTag)return 0;if(c.Class_ID!=Lame.LAME_ID)return 0;if(c.VBR_seek_table.pos<=0)return 0;if(l.length<c.VBR_seek_table.TotalFrameSize)return c.VBR_seek_table.TotalFrameSize;s.fill(l,0,c.VBR_seek_table.TotalFrameSize,0),y(e,l);var f=o(u);if(e.free_format)for(var h=1;h<u;++h)f[h]=255&255*h/100;else{var _=c.VBR_seek_table,m=f;if(!(_.pos<=0))for(var g=1;g<u;++g){var A;255<(A=((A=0|Math.floor(g/u*_.pos))>_.pos-1&&(A=_.pos-1),0|256*_.bag[A]/_.sum))&&(A=255),m[g]=255&A}}var k=c.sideinfo_len,E=(e.error_protection&&(k-=2),e.VBR==i.vbr_off?(l[k++]=255&p.charAt(0),l[k++]=255&p.charAt(1),l[k++]=255&p.charAt(2),l[k++]=255&p.charAt(3)):(l[k++]=255&d.charAt(0),l[k++]=255&d.charAt(1),l[k++]=255&d.charAt(2),l[k++]=255&d.charAt(3)),b(l,k,15),b(l,k+=4,c.VBR_seek_table.nVbrNumFrames),c.VBR_seek_table.nBytesWritten+c.VBR_seek_table.TotalFrameSize),x=(b(l,k+=4,0|E),r.arraycopy(f,0,l,k+=4,f.length),k+=f.length,e.error_protection&&t.CRC_writeheader(c,l),0);for(h=0;h<k;h++)x=w(l[h],x);return k+=function(e,t,r,i,s){var o,l,c=e.internal_flags,u=0,f=e.encoder_delay,h=e.encoder_padding,d=100-10*e.VBR_q-e.quality,p=n.getLameVeryShortVersion(),_=[1,5,3,2,4,0,3],m=0|(255<e.lowpassfreq/100+.5?255:e.lowpassfreq/100+.5),g=0,y=0,A=e.internal_flags.noise_shaping,k=0,E=0,x=0!=(1&e.exp_nspsytune),S=0!=(2&e.exp_nspsytune),R=!1,M=!1,T=e.internal_flags.nogap_total,O=e.internal_flags.nogap_current,B=e.ATHtype;switch(e.VBR){case vbr_abr:o=e.VBR_mean_bitrate_kbps;break;case vbr_off:o=e.brate;break;default:o=e.VBR_min_bitrate_kbps}switch(_=0+(e.VBR.ordinal()<_.length?_[e.VBR.ordinal()]:0),c.findReplayGain&&(510<c.RadioGain&&(c.RadioGain=510),c.RadioGain<-510&&(c.RadioGain=-510),y=8192,y|=3072,0<=c.RadioGain?y|=c.RadioGain:y=512|y|-c.RadioGain),c.findPeakSample&&(g=Math.abs(0|c.PeakSample/32767*Math.pow(2,23)+.5)),-1!=T&&(0<O&&(M=!0),O<T-1&&(R=!0)),O=B+((x?1:0)<<4)+((S?1:0)<<5)+((R?1:0)<<6)+((M?1:0)<<7),d<0&&(d=0),e.mode){case MONO:k=0;break;case STEREO:k=1;break;case DUAL_CHANNEL:k=2;break;case JOINT_STEREO:k=e.force_ms?4:3;break;default:NOT_SET,k=7}l=e.in_samplerate<=32e3?0:48e3==e.in_samplerate?2:48e3<e.in_samplerate?3:1,T=A+(k<<2)+((E=e.short_blocks==a.short_block_forced||e.short_blocks==a.short_block_dispensed||-1==e.lowpassfreq&&-1==e.highpassfreq||e.scale_left<e.scale_right||e.scale_left>e.scale_right||e.disable_reservoir&&e.brate<320||e.noATH||e.ATHonly||0==B||e.in_samplerate<=32e3?1:E)<<5)+(l<<6),x=c.nMusicCRC,b(r,i+u,d),u+=4;for(var P=0;P<9;P++)r[i+u+P]=255&p.charAt(P);r[i+(u+=9)]=255&_,r[i+ ++u]=255&m,b(r,i+ ++u,g),v(r,i+(u+=4),y),v(r,i+(u+=2),0),r[i+(u+=2)]=255&O,r[i+ ++u]=255<=o?255:255&o,r[i+ ++u]=255&f>>4,r[i+u+1]=255&(f<<4)+(h>>8),r[i+u+2]=255&h,r[i+(u+=3)]=255&T,u++,r[i+u++]=0,v(r,i+u,e.preset),b(r,i+(u+=2),t),v(r,i+(u+=4),x),u+=2;for(var C=0;C<u;C++)s=w(r[i+C],s);return v(r,i+u,s),u+2}(e,E,l,k,x),c.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(e,t){if(e.internal_flags.VBR_seek_table.pos<=0)return-1;if(t.seek(t.length()),0==t.length())return-1;(n=t).seek(0),r=o(10),n.readFully(r);var n=new String(r,"ISO-8859-1").startsWith("ID3")?0:((127&r[6])<<21|(127&r[7])<<14|(127&r[8])<<7|127&r[9])+r.length,r=(t.seek(n),o(f));return(n=getLameTagFrame(e,r))>r.length?-1:(n<1||t.write(r,0,n),0)}}c.NUMTOCENTRIES=100,c.MAXFRAMESIZE=2880,e.exports=c},6169:e=>{e.exports=function(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}}},9233:e=>{function t(e){return new Int16Array(e)}function n(e){return new Int32Array(e)}function r(e){return new Float32Array(e)}var i={arraycopy:function(e,t,n,r,i){for(var a=t+i;t<a;)n[r++]=e[t++]},out:{}},a=(i.out.println=function(e){},i.out.printf=function(){},{});function s(e){this.ordinal=e}a.SQRT2=1.4142135623730951,a.FAST_LOG10=function(e){return Math.log10(e)},a.FAST_LOG10_X=function(e,t){return Math.log10(e)*t},s.short_block_allowed=new s(0),s.short_block_coupled=new s(1),s.short_block_dispensed=new s(2),s.short_block_forced=new s(3);var o={};function l(e){this.ordinal=e}o.MAX_VALUE=34028235e31,l.vbr_off=new l(0),l.vbr_mt=new l(1),l.vbr_rh=new l(2),l.vbr_abr=new l(3),l.vbr_mtrh=new l(4),l.vbr_default=l.vbr_mtrh,e.exports={System:i,VbrMode:l,Float:o,ShortBlock:s,Util:a,Arrays:{fill:function(e,t,n,r){if(2==arguments.length)for(var i=0;i<e.length;i++)e[i]=t;else for(i=t;i<n;i++)e[i]=r}},new_array_n:function e(t){if(1==t.length)return new Array(t[0]);for(var n=t[0],r=(t=t.slice(1),[]),i=0;i<n;i++)r.push(e(t));return r},new_byte:function(e){return new Int8Array(e)},new_double:function(e){return new Float64Array(e)},new_float:r,new_float_n:function e(t){if(1==t.length)return r(t[0]);for(var n=t[0],i=(t=t.slice(1),[]),a=0;a<n;a++)i.push(e(t));return i},new_int:n,new_int_n:function e(t){if(1==t.length)return n(t[0]);for(var r=t[0],i=(t=t.slice(1),[]),a=0;a<r;a++)i.push(e(t));return i},new_short:t,new_short_n:function e(n){if(1==n.length)return t(n[0]);for(var r=n[0],i=(n=n.slice(1),[]),a=0;a<r;a++)i.push(e(n));return i},assert:function(e){}}},2719:(e,t,n)=>{var r=n(9233),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte),a=(r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert),s=n(5448),o=n(6049),l=n(3189),c=n(5498),u=n(1427),f=n(4259),h=n(9313),d=n(4027),p=n(3881),_=(n(6043),n(6169)),m=n(4506);function b(){this.setModules=function(e,t){}}function v(){this.setModules=function(e,t,n){}}function g(){}function y(){this.setModules=function(e,t){}}function w(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function A(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}w.RIFF=A("RIFF"),w.WAVE=A("WAVE"),w.fmt_=A("fmt "),w.data=A("data"),w.readHeader=function(e){var t=new w,n=e.getUint32(0,!1);if(w.RIFF==n&&(e.getUint32(4,!0),w.WAVE==e.getUint32(8,!1)&&w.fmt_==e.getUint32(12,!1))){var r=e.getUint32(16,!0),i=20;switch(r){case 16:case 18:t.channels=e.getUint16(i+2,!0),t.sampleRate=e.getUint32(i+4,!0);break;default:throw"extended fmt chunk not implemented"}i+=r;for(var a=w.data,s=0;a!=n&&(n=e.getUint32(i,!1),s=e.getUint32(i+4,!0),a!=n);)i+=s+8;return t.dataLen=s,t.dataOffset=i+8,t}},e.exports.d=function(e,t,n){3!=arguments.length&&(e=1,t=44100,n=128);var r=new s,w=new b,A=new l,k=new p,E=new o,x=new c,S=new u,R=new m,M=new _,T=new y,O=new h,B=new f,P=new v,C=new g,L=(r.setModules(A,k,E,x,S,R,M,T,C),k.setModules(A,C,M,R),T.setModules(k,M),E.setModules(r),S.setModules(k,O,x,B),x.setModules(B,O,r.enc.psy),O.setModules(k),B.setModules(x),R.setModules(r,k,M),w.setModules(P,C),P.setModules(M,T,E),r.lame_init()),j=(A=(L.num_channels=e,L.in_samplerate=t,L.brate=n,L.mode=d.STEREO,L.quality=3,L.bWriteVbrTag=!1,L.disable_reservoir=!0,L.write_id3tag_automatic=!1,r.lame_init_params(L)),a(0==A),1152),I=0|1.25*j+7200,V=i(I);this.encodeBuffer=function(t,n){return 1==e&&(n=t),a(t.length==n.length),t.length>j&&(j=t.length,V=i(I=0|1.25*j+7200)),n=r.lame_encode_buffer(L,t,n,t.length,V,0,I),new Int8Array(V.subarray(0,n))},this.flush=function(){var e=r.lame_encode_flush(L,V,0,I);return new Int8Array(V.subarray(0,e))}},e.exports.Q=w},2085:function(e,t){var n;!function(r,i){"use strict";void 0!==(n=function(){return r.Snackbar=function(){var e={current:null},t={text:"Default Text",textColor:"#FFFFFF",width:"auto",showAction:!0,actionText:"Dismiss",actionTextAria:"Dismiss, Description for Screen Readers",alertScreenReader:!1,actionTextColor:"#4CAF50",showSecondButton:!1,secondButtonText:"",secondButtonAria:"Description for Screen Readers",secondButtonTextColor:"#4CAF50",backgroundColor:"#323232",pos:"bottom-left",duration:5e3,customClass:"",onActionClick:function(e){e.style.opacity=0},onSecondButtonClick:function(e){},onClose:function(e){}},n=(e.show=function(r){var i=n(!0,t,r);(r=(e.current&&(e.current.style.opacity=0,setTimeout(function(){var e=this.parentElement;e&&e.removeChild(this)}.bind(e.current),500)),e.snackbar=document.createElement("div"),e.snackbar.className="snackbar-container "+i.customClass,e.snackbar.style.width=i.width,document.createElement("p"))).style.margin=0,r.style.padding=0,r.style.color=i.textColor,r.style.fontSize="14px",r.style.fontWeight=300,r.style.lineHeight="1em",r.innerHTML=i.text,e.snackbar.appendChild(r),e.snackbar.style.background=i.backgroundColor,i.showSecondButton&&((r=document.createElement("button")).className="action",r.innerHTML=i.secondButtonText,r.setAttribute("aria-label",i.secondButtonAria),r.style.color=i.secondButtonTextColor,r.addEventListener("click",(function(){i.onSecondButtonClick(e.snackbar)})),e.snackbar.appendChild(r)),i.showAction&&((r=document.createElement("button")).className="action",r.innerHTML=i.actionText,r.setAttribute("aria-label",i.actionTextAria),r.style.color=i.actionTextColor,r.addEventListener("click",(function(){i.onActionClick(e.snackbar)})),e.snackbar.appendChild(r)),i.duration&&setTimeout(function(){e.current===this&&(e.current.style.opacity=0,e.current.style.top="-100px",e.current.style.bottom="-100px")}.bind(e.snackbar),i.duration),i.alertScreenReader&&e.snackbar.setAttribute("role","alert"),e.snackbar.addEventListener("transitionend",function(t,n){"opacity"===t.propertyName&&"0"===this.style.opacity&&("function"==typeof i.onClose&&i.onClose(this),this.parentElement.removeChild(this),e.current===this&&(e.current=null))}.bind(e.snackbar)),e.current=e.snackbar,document.body.appendChild(e.snackbar),getComputedStyle(e.snackbar).bottom,getComputedStyle(e.snackbar).top,e.snackbar.style.opacity=1,e.snackbar.className="snackbar-container "+i.customClass+" snackbar-pos "+i.pos},e.close=function(){e.current&&(e.current.style.opacity=0)},function(){var e={},t=!1,r=0,i=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],r++);r<i;r++){a=void 0;var a,s=arguments[r];for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t&&"[object Object]"===Object.prototype.toString.call(s[a])?e[a]=n(!0,e[a],s[a]):e[a]=s[a])}return e});return e}()}.apply(t,[]))&&(e.exports=n)}(this)},1796:e=>{var t;self,t=()=>{return e={"./src/drawer.canvasentry.js":(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("./src/util/style.js")),i=a(n("./src/util/get-id.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,i.default)(void 0!==this.constructor.name?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}var t,n;return t=e,(n=[{key:"initWave",value:function(e){this.wave=e,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(e){this.progress=e,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(e,t,n,i){this.start=this.wave.offsetLeft/t||0,this.end=this.start+e/t,this.wave.width=n,this.wave.height=i,t={width:e+"px"},(0,r.default)(this.wave,t),this.hasProgressCanvas&&(this.progress.width=n,this.progress.height=i,(0,r.default)(this.progress,t))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(e,t){this.waveCtx.fillStyle=this.getFillStyle(this.waveCtx,e),this.hasProgressCanvas&&(this.progressCtx.fillStyle=this.getFillStyle(this.progressCtx,t))}},{key:"getFillStyle",value:function(e,t){if("string"==typeof t||t instanceof CanvasGradient)return t;var n=e.createLinearGradient(0,0,0,e.canvas.height);return t.forEach((function(e,r){return n.addColorStop(r/t.length,e)})),n}},{key:"applyCanvasTransforms",value:function(e){e&&(this.waveCtx.setTransform(0,1,1,0,0,0),this.hasProgressCanvas&&this.progressCtx.setTransform(0,1,1,0,0,0))}},{key:"fillRects",value:function(e,t,n,r,i){this.fillRectToContext(this.waveCtx,e,t,n,r,i),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,e,t,n,r,i)}},{key:"fillRectToContext",value:function(e,t,n,r,i,a){e&&(a?this.drawRoundedRect(e,t,n,r,i,a):e.fillRect(t,n,r,i))}},{key:"drawRoundedRect",value:function(e,t,n,r,i,a){0!==i&&(i<0&&(n-=i*=-1),e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill())}},{key:"drawLines",value:function(e,t,n,r,i,a){this.drawLineToContext(this.waveCtx,e,t,n,r,i,a),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,e,t,n,r,i,a)}},{key:"drawLineToContext",value:function(e,t,n,r,i,a,s){if(e){var o,l,c,u=t.length/2,f=Math.round(u*this.start),h=f,d=Math.round(u*this.end)+1,p=this.wave.width/(d-h-1),_=r+i,m=n/r;for(e.beginPath(),e.moveTo((h-f)*p,_),e.lineTo((h-f)*p,_-Math.round((t[2*h]||0)/m)),o=h;o<d;o++)l=t[2*o]||0,c=Math.round(l/m),e.lineTo((o-f)*p+this.halfPixel,_-c);for(var b=d-1;h<=b;b--)l=t[2*b+1]||0,c=Math.round(l/m),e.lineTo((b-f)*p+this.halfPixel,_-c);e.lineTo((h-f)*p,_-Math.round((t[2*h+1]||0)/m)),e.closePath(),e.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(e,t,n){var r=this;return"blob"===n?new Promise((function(n){r.wave.toBlob(n,e,t)})):"dataURL"===n?this.wave.toDataURL(e,t):void 0}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n,e.exports=t.default},"./src/drawer.js":(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=a(t))&&t.has(e))return t.get(e);var n,i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var o;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=s?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i}(n("./src/util/index.js"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);n=t?(n=c(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e);var n=l(r);function r(e,t){var a;if(this instanceof r)return(a=n.call(this)).container=i.withOrientation(e,t.vertical),a.params=t,a.width=0,a.height=t.height*a.params.pixelRatio,a.lastPos=0,a.wrapper=null,a;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"style",value:function(e,t){return i.style(e,t)}},{key:"createWrapper",value:function(){this.wrapper=i.withOrientation(this.container.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",cursor:this.params.hideCursor?"none":"auto",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(e,t){t||e.preventDefault();t=i.withOrientation(e.targetTouches?e.targetTouches[0]:e,this.params.vertical).clientX,e=this.wrapper.getBoundingClientRect();var n=this.width,r=this.getWidth();e=this.getProgressPixels(e,t),t=!this.params.fillParent&&n<r?e*(this.params.pixelRatio/n)||0:(e+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0;return i.clamp(t,0,1)}},{key:"getProgressPixels",value:function(e,t){return this.params.rtl?e.right-t:t-e.left}},{key:"setupWrapperEvents",value:function(){var e=this;this.wrapper.addEventListener("click",(function(t){var n=i.withOrientation(t,e.params.vertical),r=e.wrapper.offsetHeight-e.wrapper.clientHeight;if(0!=r){var a=e.wrapper.getBoundingClientRect();if(n.clientY>=a.bottom-r)return}e.params.interact&&e.fireEvent("click",t,e.handleEvent(t))})),this.wrapper.addEventListener("dblclick",(function(t){e.params.interact&&e.fireEvent("dblclick",t,e.handleEvent(t))})),this.wrapper.addEventListener("scroll",(function(t){return e.fireEvent("scroll",t)}))}},{key:"drawPeaks",value:function(e,t,n,r){this.setWidth(t)||this.clearWave(),this.params.barWidth?this.drawBars(e,0,n,r):this.drawWave(e,0,n,r)}},{key:"resetScroll",value:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(e){e=this.wrapper.scrollWidth*e,this.recenterOnPosition(e,!0)}},{key:"recenterOnPosition",value:function(e,t){var n=this.wrapper.scrollLeft,r=~~(this.wrapper.clientWidth/2),i=this.wrapper.scrollWidth-this.wrapper.clientWidth,a=(e=e-r)-n;0!=i&&(!t&&-r<=a&&a<r&&(t=(t=this.params.autoCenterRate)/r*i,e=n+(a=Math.max(-t,Math.min(t,a)))),(e=Math.max(0,Math.min(i,e)))!=n&&(this.wrapper.scrollLeft=e))}},{key:"getScrollX",value:function(){var e,t=0;return this.wrapper&&(e=this.params.pixelRatio,t=Math.round(this.wrapper.scrollLeft*e),this.params.scrollParent&&(e=~~(this.wrapper.scrollWidth*e-this.getWidth()),t=Math.min(e,Math.max(0,t)))),t}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(e){return this.width!=e&&(this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):(e=~~(this.width/this.params.pixelRatio)+"px",this.style(this.wrapper,{width:e})),this.updateSize(),!0)}},{key:"setHeight",value:function(e){return e!=this.height&&(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(e){var t=1/this.params.pixelRatio,n=Math.round(e*this.width)*t;(n<this.lastPos||n-this.lastPos>=t)&&(this.lastPos=n,this.params.scrollParent&&this.params.autoCenter&&(t=~~(this.wrapper.scrollWidth*e),this.recenterOnPosition(t,this.params.autoCenterImmediately)),this.updateProgress(n))}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container.domElement&&this.container.removeChild(this.wrapper.domElement),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(e,t,n,r){}},{key:"drawWave",value:function(e,t,n,r){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(e){}}])&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(i.Observer),t.default=n,e.exports=t.default},"./src/drawer.multicanvas.js":(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n("./src/drawer.js")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=o(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i}(n("./src/util/index.js")),s=l(n("./src/drawer.canvasentry.js"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(n=t?(n=f(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(i);function i(e,t){if(this instanceof i)return(e=n.call(this,e,t)).maxCanvasWidth=t.maxCanvasWidth,e.maxCanvasElementWidth=Math.round(t.maxCanvasWidth/t.pixelRatio),e.hasProgressCanvas=t.waveColor!=t.progressColor,e.halfPixel=.5/t.pixelRatio,e.canvases=[],e.progressWave=null,e.EntryClass=s.default,e.canvasContextAttributes=t.drawingContextAttributes,e.overlap=2*Math.ceil(t.pixelRatio/2),e.barRadius=t.barRadius||0,e.vertical=t.vertical,e;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=a.withOrientation(this.wrapper.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.progressWave,{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"}),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){for(var e=this,t=Math.round(this.width/this.params.pixelRatio),n=Math.ceil(t/(this.maxCanvasElementWidth+this.overlap));this.canvases.length<n;)this.addCanvas();for(;this.canvases.length>n;)this.removeCanvas();var r=this.maxCanvasWidth+this.overlap,i=this.canvases.length-1;this.canvases.forEach((function(t,n){n==i&&(r=e.width-e.maxCanvasWidth*i),e.updateDimensions(t,r,e.height),t.clearWave()}))}},{key:"addCanvas",value:function(){var e=new this.EntryClass,t=(e.canvasContextAttributes=this.canvasContextAttributes,e.hasProgressCanvas=this.hasProgressCanvas,e.halfPixel=this.halfPixel,this.maxCanvasElementWidth*this.canvases.length),n=a.withOrientation(this.wrapper.appendChild(document.createElement("canvas")),this.params.vertical);this.style(n,{position:"absolute",zIndex:2,left:t+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}),e.initWave(n),this.hasProgressCanvas&&(n=a.withOrientation(this.progressWave.appendChild(document.createElement("canvas")),this.params.vertical),this.style(n,{position:"absolute",left:t+"px",top:0,bottom:0,height:"100%"}),e.initProgress(n)),this.canvases.push(e)}},{key:"removeCanvas",value:function(){var e=this.canvases[this.canvases.length-1];e.wave.parentElement.removeChild(e.wave.domElement),this.hasProgressCanvas&&e.progress.parentElement.removeChild(e.progress.domElement),e&&(e.destroy(),e=null),this.canvases.pop()}},{key:"updateDimensions",value:function(e,t,n){var r=Math.round(t/this.params.pixelRatio),i=Math.round(this.width/this.params.pixelRatio);e.updateDimensions(r,i,t,n),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){var e=this;a.frame((function(){e.canvases.forEach((function(e){return e.clearWave()}))}))()}},{key:"drawBars",value:function(e,t,n,r){var i=this;return this.prepareDraw(e,t,n,r,(function(e){var t=e.absmax,a=e.hasMinVals,s=(e.height,e.offsetY),o=e.halfH,l=e.peaks,c=e.channelIndex;if(void 0!==n)for(var u=a?2:1,f=(e=l.length/u,i.params.barWidth*i.params.pixelRatio),h=f+(null===i.params.barGap?Math.max(i.params.pixelRatio,~~(f/2)):Math.max(i.params.pixelRatio,i.params.barGap*i.params.pixelRatio)),d=e/i.width,p=r,_=n;_<p;_+=h){var m=0,b=Math.floor(_*d)*u,v=Math.floor((_+h)*d)*u;do{var g=Math.abs(l[b])}while(m<g&&(m=g),(b+=u)<v);var y=Math.round(m/t*o);0==y&&i.params.barMinHeight&&(y=i.params.barMinHeight),i.fillRect(_+i.halfPixel,o-y+s,f+i.halfPixel,2*y,i.barRadius,c)}}))}},{key:"drawWave",value:function(e,t,n,r){var i=this;return this.prepareDraw(e,t,n,r,(function(e){var t=e.absmax,a=e.hasMinVals,s=(e.height,e.offsetY),o=e.halfH,l=e.peaks;e=e.channelIndex;if(!a){for(var c=[],u=l.length,f=0;f<u;f++)c[2*f]=l[f],c[2*f+1]=-l[f];l=c}void 0!==n&&i.drawLine(l,t,o,s,n,r,e),i.fillRect(0,o+s-i.halfPixel,i.width,i.halfPixel,i.barRadius,e)}))}},{key:"drawLine",value:function(e,t,n,r,i,a,s){var o=this,l=(s=this.params.splitChannelsOptions.channelColors[s]||{}).waveColor,c=s.progressColor;this.canvases.forEach((function(s,u){o.setFillStyles(s,l,c),o.applyCanvasTransforms(s,o.params.vertical),s.drawLines(e,t,n,r,i,a)}))}},{key:"fillRect",value:function(e,t,n,r,i,a){for(var s=Math.floor(e/this.maxCanvasWidth),o=Math.min(Math.ceil((e+n)/this.maxCanvasWidth)+1,this.canvases.length),l=s;l<o;l++){var c,u,f=this.canvases[l],h=l*this.maxCanvasWidth,d={x1:Math.max(e,l*this.maxCanvasWidth),y1:t,x2:Math.min(e+n,l*this.maxCanvasWidth+f.wave.width),y2:t+r};d.x1<d.x2&&(c=(u=this.params.splitChannelsOptions.channelColors[a]||{}).waveColor,u=u.progressColor,this.setFillStyles(f,c,u),this.applyCanvasTransforms(f,this.params.vertical),f.fillRects(d.x1-h,d.y1,d.x2-d.x1,d.y2-d.y1,i))}}},{key:"hideChannel",value:function(e){return this.params.splitChannels&&this.params.splitChannelsOptions.filterChannels.includes(e)}},{key:"prepareDraw",value:function(e,t,n,r,i,s,o){var l=this;return a.frame((function(){if(e[0]instanceof Array){var c,u,f=e;if(l.params.splitChannels)return c=f.filter((function(e,t){return!l.hideChannel(t)})),l.params.splitChannelsOptions.overlay||l.setHeight(Math.max(c.length,1)*l.params.height*l.params.pixelRatio),l.params.splitChannelsOptions&&l.params.splitChannelsOptions.relativeNormalization&&(u=a.max(f.map((function(e){return a.absMax(e)})))),f.forEach((function(e,t){return l.prepareDraw(e,t,n,r,i,c.indexOf(e),u)}));e=f[0]}var h,d,p;if(!l.hideChannel(t))return f=1/l.params.barHeight,l.params.normalize&&(f=void 0===o?a.absMax(e):o),h=[].some.call(e,(function(e){return e<0})),p=(d=l.params.height*l.params.pixelRatio)*s||0,l.params.splitChannelsOptions&&l.params.splitChannelsOptions.overlay&&(p=0),i({absmax:f,hasMinVals:h,height:d,offsetY:p,halfH:d/2,peaks:e,channelIndex:t})}))()}},{key:"setFillStyles",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.params.waveColor,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.params.progressColor;e.setFillStyles(t,n)}},{key:"applyCanvasTransforms",value:function(e){e.applyCanvasTransforms(1<arguments.length&&void 0!==arguments[1]&&arguments[1])}},{key:"getImage",value:function(e,t,n){return"blob"===n?Promise.all(this.canvases.map((function(r){return r.getImage(e,t,n)}))):"dataURL"===n?1<(r=this.canvases.map((function(r){return r.getImage(e,t,n)}))).length?r:r[0]:void 0;var r}},{key:"updateProgress",value:function(e){this.style(this.progressWave,{width:e+"px"})}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(i.default),t.default=n,e.exports=t.default},"./src/mediaelement-webaudio.js":(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);n=t?(n=l(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=o(r);function r(e){var t;if(this instanceof r)return(t=n.call(this,e)).params=e,t.sourceMediaElement=null,t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(e,t,n){a(l(r.prototype),"_load",this).call(this,e,t,n),this.createMediaElementSource(e)}},{key:"createMediaElementSource",value:function(e){this.sourceMediaElement=this.ac.createMediaElementSource(e),this.sourceMediaElement.connect(this.analyser)}},{key:"play",value:function(e,t){return this.resumeAudioContext(),a(l(r.prototype),"play",this).call(this,e,t)}},{key:"destroy",value:function(){a(l(r.prototype),"destroy",this).call(this),this.destroyWebAudio()}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(((n=n("./src/mediaelement.js"))&&n.__esModule?n:{default:n}).default),t.default=n,e.exports=t.default},"./src/mediaelement.js":(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(i=n("./src/webaudio.js"))&&i.__esModule?i:{default:i},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var o;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=a?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i}(n("./src/util/index.js"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this,n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(i);function i(e){var t;if(this instanceof i)return(t=n.call(this,e)).params=e,t.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},t.mediaType=e.mediaType.toLowerCase(),t.elementPosition=e.elementPosition,t.peaks=null,t.playbackRate=1,t.volume=1,t.isMuted=!1,t.buffer=null,t.onPlayEnd=null,t.mediaListeners={},t;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var e=this;this.mediaListeners.error=function(){e.fireEvent("error","Error loading media element")},this.mediaListeners.canplay=function(){e.fireEvent("canplay")},this.mediaListeners.ended=function(){e.fireEvent("finish")},this.mediaListeners.play=function(){e.fireEvent("play")},this.mediaListeners.pause=function(){e.fireEvent("pause")},this.mediaListeners.seeked=function(t){e.fireEvent("seek")},this.mediaListeners.volumechange=function(t){e.isMuted=e.media.muted,e.isMuted?e.volume=0:e.volume=e.media.volume,e.fireEvent("volume")},Object.keys(this.mediaListeners).forEach((function(t){e.media.removeEventListener(t,e.mediaListeners[t]),e.media.addEventListener(t,e.mediaListeners[t])}))}},{key:"createTimer",value:function(){var e=this;this.on("play",(function t(){e.isPaused()||(e.fireEvent("audioprocess",e.getCurrentTime()),a.frame(t)())})),this.on("pause",(function(){e.fireEvent("audioprocess",e.getCurrentTime())}))}},{key:"load",value:function(e,t,n,r){var i=document.createElement(this.mediaType);(e=(i.controls=this.params.mediaControls,i.autoplay=this.params.autoplay||!1,i.preload=null==r?"auto":r,i.src=e,i.style.width="100%",t.querySelector(this.mediaType)))&&t.removeChild(e),t.appendChild(i),this._load(i,n,r)}},{key:"loadElt",value:function(e,t){e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,this._load(e,t,e.preload)}},{key:"_load",value:function(e,t,n){if(!(e instanceof HTMLMediaElement)||void 0===e.addEventListener)throw new Error("media parameter is not a valid media element");"function"!=typeof e.load||t&&"none"==n||e.load(),this.media=e,this._setupMediaListeners(),this.peaks=t,this.onPlayEnd=null,this.buffer=null,this.isMuted=e.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var e=(this.buffer||this.media).duration;return 1/0<=e?this.media.seekable.end(0):e}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(e){null==e||isNaN(e)||(this.media.currentTime=e),this.clearPlayEnd()}},{key:"play",value:function(e,t){return this.seekTo(e),e=this.media.play(),t&&this.setPlayEnd(t),e}},{key:"pause",value:function(){var e;return this.media&&(e=this.media.pause()),this.clearPlayEnd(),e}},{key:"setPlayEnd",value:function(e){var t=this;this.clearPlayEnd(),this._onPlayEnd=function(n){e<=n&&(t.pause(),t.seekTo(e))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(e,t,n){return this.buffer?l(u(i.prototype),"getPeaks",this).call(this,e,t,n):this.peaks||[]}},{key:"setSinkId",value:function(e){return e?this.media.setSinkId?this.media.setSinkId(e):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(e){this.volume=e,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"setMute",value:function(e){this.isMuted=this.media.muted=e}},{key:"destroy",value:function(){var e=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach((function(t){e.media&&e.media.removeEventListener(t,e.mediaListeners[t])})),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(i.default),t.default=n,e.exports=t.default},"./src/peakcache.js":(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.clearPeakCache()}var t,r;return t=e,(r=[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(e,t,n){e!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=e);for(var r=[],i=0;i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<t;)i++;for(i%2==0&&r.push(t);i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<=n;)r.push(this.peakCacheRanges[i]),i++;i%2==0&&r.push(n),r=r.filter((function(e,t,n){return 0==t?e!=n[t+1]:t==n.length-1?e!=n[t-1]:e!=n[t-1]&&e!=n[t+1]})),this.peakCacheRanges=this.peakCacheRanges.concat(r),this.peakCacheRanges=this.peakCacheRanges.sort((function(e,t){return e-t})).filter((function(e,t,n){return 0==t?e!=n[t+1]:t==n.length-1?e!=n[t-1]:e!=n[t-1]&&e!=n[t+1]}));var a=[];for(i=0;i<r.length;i+=2)a.push([r[i],r[i+1]]);return a}},{key:"getCacheRanges",value:function(){for(var e=[],t=0;t<this.peakCacheRanges.length;t+=2)e.push([this.peakCacheRanges[t],this.peakCacheRanges[t+1]]);return e}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r,e.exports=t.default},"./src/util/absMax.js":(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,r.default)(e);return t<-(e=(0,i.default)(e))?-e:t};var r=a(n("./src/util/max.js")),i=a(n("./src/util/min.js"));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},"./src/util/clamp.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return Math.min(Math.max(t,e),n)},e.exports=t.default},"./src/util/fetch.js":(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new Error("fetch options missing");if(!e.url)throw new Error("fetch url missing");var t=new r.default,n=new Headers,i=new Request(e.url);t.controller=new AbortController,e&&e.requestHeaders&&e.requestHeaders.forEach((function(e){n.append(e.key,e.value)}));var s=e.responseType||"json",o={method:e.method||"GET",headers:n,mode:e.mode||"cors",credentials:e.credentials||"same-origin",cache:e.cache||"default",redirect:e.redirect||"follow",referrer:e.referrer||"client",signal:t.controller.signal};return fetch(i,o).then((function(e){var n=!0,r=((t.response=e).body||(n=!1),e.headers.get("content-length"));return(n=null!==r&&n)?(t.onProgress=function(e){t.fireEvent("progress",e)},new Response(new ReadableStream(new a(t,r,e)),o)):e})).then((function(e){var t;if(e.ok)switch(s){case"arraybuffer":return e.arrayBuffer();case"json":return e.json();case"blob":return e.blob();case"text":return e.text();default:t="Unknown responseType: "+s}throw t=t||"HTTP error status: "+e.status,new Error(t)})).then((function(e){t.fireEvent("success",e)})).catch((function(e){t.fireEvent("error",e)})),t.fetchRequest=i,t};var r=(n=n("./src/util/observer.js"))&&n.__esModule?n:{default:n};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.instance=t,this.instance._reader=r.body.getReader(),this.total=parseInt(n,10),this.loaded=0}var t,n;return t=e,(n=[{key:"start",value:function(e){var t=this;!function n(){t.instance._reader.read().then((function(r){var i=r.done;r=r.value;if(i)return 0===t.total&&t.instance.onProgress.call(t.instance,{loaded:t.loaded,total:t.total,lengthComputable:!1}),void e.close();t.loaded+=r.byteLength,t.instance.onProgress.call(t.instance,{loaded:t.loaded,total:t.total,lengthComputable:!(0===t.total)}),e.enqueue(r),n()})).catch((function(t){e.error(t)}))}()}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=t.default},"./src/util/frame.js":(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(0,r.default)((function(){return e.apply(void 0,n)}))}};var r=(n=n("./src/util/request-animation-frame.js"))&&n.__esModule?n:{default:n};e.exports=t.default},"./src/util/get-id.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e="wavesurfer_"),e+Math.random().toString(32).substring(2)},e.exports=t.default},"./src/util/index.js":(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"absMax",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"clamp",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"fetchFile",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"frame",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"getId",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ignoreSilenceMode",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"max",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"min",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"preventClick",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"requestAnimationFrame",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"style",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"withOrientation",{enumerable:!0,get:function(){return _.default}});var r=b(n("./src/util/get-id.js")),i=b(n("./src/util/max.js")),a=b(n("./src/util/min.js")),s=b(n("./src/util/absMax.js")),o=b(n("./src/util/observer.js")),l=b(n("./src/util/style.js")),c=b(n("./src/util/request-animation-frame.js")),u=b(n("./src/util/frame.js")),f=b(n("./node_modules/debounce/index.js")),h=b(n("./src/util/prevent-click.js")),d=b(n("./src/util/fetch.js")),p=b(n("./src/util/clamp.js")),_=b(n("./src/util/orientation.js")),m=b(n("./src/util/silence-mode.js"));function b(e){return e&&e.__esModule?e:{default:e}}},"./src/util/max.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=-1/0;return Object.keys(e).forEach((function(n){e[n]>t&&(t=e[n])})),t},e.exports=t.default},"./src/util/min.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Number(1/0);return Object.keys(e).forEach((function(n){e[n]<t&&(t=e[n])})),t},e.exports=t.default},"./src/util/observer.js":(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._disabledEventEmissions=[],this.handlers=null}var t,r;return t=e,(r=[{key:"on",value:function(e,t){var n=this;return this.handlers||(this.handlers={}),(this.handlers[e]||(this.handlers[e]=[])).push(t),{name:e,callback:t,un:function(e,t){return n.un(e,t)}}}},{key:"un",value:function(e,t){if(this.handlers){var n,r=this.handlers[e];if(r)if(t)for(n=r.length-1;0<=n;n--)r[n]==t&&r.splice(n,1);else r.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(e,t){var n=this;return this.on(e,(function r(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];t.apply(n,a),setTimeout((function(){n.un(e,r)}),0)}))}},{key:"setDisabledEventEmissions",value:function(e){this._disabledEventEmissions=e}},{key:"_isDisabledEventEmission",value:function(e){return this._disabledEventEmissions&&this._disabledEventEmissions.includes(e)}},{key:"fireEvent",value:function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.handlers&&!this._isDisabledEventEmission(e)&&(t=this.handlers[e])&&t.forEach((function(e){e.apply(void 0,r)}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r,e.exports=t.default},"./src/util/orientation.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){return t[i]?t:new Proxy(t,{get:function(t,a,s){return a===i||("domElement"===a?t:"style"===a?e(t.style,n):"canvas"===a?e(t.canvas,n):"getBoundingClientRect"===a?function(){return e(t.getBoundingClientRect.apply(t,arguments),n)}:"getContext"===a?function(){return e(t.getContext.apply(t,arguments),n)}:"function"==typeof(a=t[r(a,n)])?a.bind(t):a)},set:function(e,t,i){return e[r(t,n)]=i,!0}})};var n={width:"height",height:"width",overflowX:"overflowY",overflowY:"overflowX",clientWidth:"clientHeight",clientHeight:"clientWidth",clientX:"clientY",clientY:"clientX",scrollWidth:"scrollHeight",scrollLeft:"scrollTop",offsetLeft:"offsetTop",offsetTop:"offsetLeft",offsetHeight:"offsetWidth",offsetWidth:"offsetHeight",left:"top",right:"bottom",top:"left",bottom:"right",borderRightStyle:"borderBottomStyle",borderRightWidth:"borderBottomWidth",borderRightColor:"borderBottomColor"};function r(e,t){return Object.prototype.hasOwnProperty.call(n,e)&&t?n[e]:e}var i=Symbol("isProxy");e.exports=t.default},"./src/util/prevent-click.js":(e,t)=>{function n(e){e.stopPropagation(),document.body.removeEventListener("click",n,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){document.body.addEventListener("click",n,!0)},e.exports=t.default},"./src/util/request-animation-frame.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return setTimeout(e,1e3/60)}).bind(window);t.default=n,e.exports=t.default},"./src/util/silence-mode.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.createElement("div"),t=(e.innerHTML='<audio x-webkit-airplay="deny"></audio>',e.children.item(0));t.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",t.preload="auto",t.type="audio/mpeg",t.disableRemotePlayback=!0,t.play(),t.remove(),e.remove()},e.exports=t.default},"./src/util/style.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.keys(t).forEach((function(n){e.style[n]!==t[n]&&(e.style[n]=t[n])})),e},e.exports=t.default},"./src/wavesurfer.js":(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=f(t))&&t.has(e))return t.get(e);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=a?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=e[n])}return i.default=e,t&&t.set(e,i),i}(n("./src/util/index.js")),a=u(n("./src/drawer.multicanvas.js")),s=u(n("./src/webaudio.js")),o=u(n("./src/mediaelement.js")),l=u(n("./src/peakcache.js")),c=u(n("./src/mediaelement-webaudio.js"));function u(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);return p(this,t?(n=m(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=d(r);function r(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),b(_(t=n.call(this)),"defaultParams",{audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,hideCursor:!1,ignoreSilenceMode:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:a.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[],relativeNormalization:!1},vertical:!1,waveColor:"#999",xhr:{}}),b(_(t),"backends",{MediaElement:o.default,WebAudio:s.default,MediaElementWebAudio:c.default}),b(_(t),"util",i),t.params=Object.assign({},t.defaultParams,e),t.params.splitChannelsOptions=Object.assign({},t.defaultParams.splitChannelsOptions,e.splitChannelsOptions),t.container="string"==typeof e.container?document.querySelector(t.params.container):t.params.container,!t.container)throw new Error("Container element not found");if(null==t.params.mediaContainer?t.mediaContainer=t.container:"string"==typeof t.params.mediaContainer?t.mediaContainer=document.querySelector(t.params.mediaContainer):t.mediaContainer=t.params.mediaContainer,!t.mediaContainer)throw new Error("Media Container element not found");if(t.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(t.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(!0===t.params.rtl&&(!0===t.params.vertical?i.style(t.container,{transform:"rotateX(180deg)"}):i.style(t.container,{transform:"rotateY(180deg)"})),t.params.backgroundColor&&t.setBackgroundColor(t.params.backgroundColor),t.savedVolume=0,t.isMuted=!1,t.tmpEvents=[],t.currentRequest=null,t.arraybuffer=null,t.drawer=null,t.backend=null,t.peakCache=null,"function"!=typeof t.params.renderer)throw new Error("Renderer parameter is invalid");t.Drawer=t.params.renderer,"AudioElement"==t.params.backend&&(t.params.backend="MediaElement"),"WebAudio"!=t.params.backend&&"MediaElementWebAudio"!==t.params.backend||s.default.prototype.supportsWebAudio.call(null)||(t.params.backend="MediaElement"),t.Backend=t.backends[t.params.backend],t.initialisedPluginList={},t.isDestroyed=!1,t.isReady=!1;var l=0;return t._onResize=i.debounce((function(){t.drawer.wrapper&&l!=t.drawer.wrapper.clientWidth&&!t.params.scrollParent&&(l=t.drawer.wrapper.clientWidth)&&t.drawer.fireEvent("redraw")}),"number"==typeof t.params.responsive?t.params.responsive:100),p(t,_(t))}return function(e,t,n){t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(e){var t=this;return e.forEach((function(e){return t.addPlugin(e)})),e.forEach((function(e){e.deferInit||t.initPlugin(e.name)})),this.fireEvent("plugins-registered",e),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(e){var t=this;if(!e.name)throw new Error("Plugin does not have a name!");if(!e.instance)throw new Error("Plugin ".concat(e.name," does not have an instance property!"));e.staticProps&&Object.keys(e.staticProps).forEach((function(n){t[n]=e.staticProps[n]}));var n=e.instance;return Object.getOwnPropertyNames(i.Observer.prototype).forEach((function(e){n.prototype[e]=i.Observer.prototype[e]})),this[e.name]=new n(e.params||{},this),this.fireEvent("plugin-added",e.name),this}},{key:"initPlugin",value:function(e){if(this[e])return this.initialisedPluginList[e]&&this.destroyPlugin(e),this[e].init(),this.initialisedPluginList[e]=!0,this.fireEvent("plugin-initialised",e),this;throw new Error("Plugin ".concat(e," has not been added yet!"))}},{key:"destroyPlugin",value:function(e){if(!this[e])throw new Error("Plugin ".concat(e," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[e])throw new Error("Plugin ".concat(e," is not active and cannot be destroyed!"));if("function"!=typeof this[e].destroy)throw new Error("Plugin ".concat(e," does not have a destroy function!"));return this[e].destroy(),delete this.initialisedPluginList[e],this.fireEvent("plugin-destroyed",e),this}},{key:"destroyAllPlugins",value:function(){var e=this;Object.keys(this.initialisedPluginList).forEach((function(t){return e.destroyPlugin(t)}))}},{key:"createDrawer",value:function(){var e=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),!1!==this.params.responsive&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",(function(){e.drawBuffer(),e.drawer.progress(e.backend.getPlayedPercents())})),this.drawer.on("click",(function(t,n){setTimeout((function(){return e.seekTo(n)}),0)})),this.drawer.on("scroll",(function(t){e.params.partialRender&&e.drawBuffer(),e.fireEvent("scroll",t)}))}},{key:"createBackend",value:function(){var e=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",(function(){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("finish")})),this.backend.on("play",(function(){return e.fireEvent("play")})),this.backend.on("pause",(function(){return e.fireEvent("pause")})),this.backend.on("audioprocess",(function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("audioprocess",t)})),"MediaElement"!==this.params.backend&&"MediaElementWebAudio"!==this.params.backend||(this.backend.on("seek",(function(){e.drawer.progress(e.backend.getPlayedPercents())})),this.backend.on("volume",(function(){var t=e.getVolume();e.fireEvent("volume",t),e.backend.isMuted!==e.isMuted&&(e.isMuted=e.backend.isMuted,e.fireEvent("mute",e.isMuted))})))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new l.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(e){e>=this.getDuration()?this.seekTo(1):this.seekTo(e/this.getDuration())}},{key:"play",value:function(e,t){var n=this;return this.params.ignoreSilenceMode&&i.ignoreSilenceMode(),this.fireEvent("interaction",(function(){return n.play(e,t)})),this.backend.play(e,t)}},{key:"setPlayEnd",value:function(e){this.backend.setPlayEnd(e)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(e){this.skip(-e||-this.params.skipLength)}},{key:"skipForward",value:function(e){this.skip(e||this.params.skipLength)}},{key:"skip",value:function(e){var t=this.getDuration()||1,n=this.getCurrentTime()||0;n=Math.max(0,Math.min(t,n+(e||0)));this.seekAndCenter(n/t)}},{key:"seekAndCenter",value:function(e){this.seekTo(e),this.drawer.recenter(e)}},{key:"seekTo",value:function(e){var t=this;if("number"!=typeof e||!isFinite(e)||e<0||1<e)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",(function(){return t.seekTo(e)}));var n="WebAudio"===this.params.backend,r=this.backend.isPaused(),i=(n&&!r&&this.backend.pause(),this.params.scrollParent);this.params.scrollParent=!1,this.backend.seekTo(e*this.getDuration()),this.drawer.progress(e),n&&!r&&this.backend.play(),this.params.scrollParent=i,this.fireEvent("seek",e)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(e){return this.backend.setSinkId(e)}},{key:"setVolume",value:function(e){this.backend.setVolume(e),this.fireEvent("volume",e)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(e){this.backend.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(e){e===this.isMuted||(this.backend.setMute?(this.backend.setMute(e),this.isMuted=e):e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume))),this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return(this.params.splitChannelsOptions.channelColors[e]||this.params).waveColor}},{key:"setWaveColor",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.params.splitChannelsOptions.channelColors[t]?this.params.splitChannelsOptions.channelColors[t].waveColor=e:this.params.waveColor=e,this.drawBuffer()}},{key:"getProgressColor",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return(this.params.splitChannelsOptions.channelColors[e]||this.params).progressColor}},{key:"setProgressColor",value:function(e,t){this.params.splitChannelsOptions.channelColors[t]?this.params.splitChannelsOptions.channelColors[t].progressColor=e:this.params.progressColor=e,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(e){this.params.backgroundColor=e,i.style(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(e){this.params.cursorColor=e,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(e){this.params.height=e,this.drawer.setHeight(e*this.params.pixelRatio),this.drawBuffer()}},{key:"setFilteredChannels",value:function(e){this.params.splitChannelsOptions.filterChannels=e,this.drawBuffer()}},{key:"drawBuffer",value:function(){var e,t=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),n=this.drawer.getWidth(),r=t,i=0,a=Math.max(i+n,r);if(this.params.fillParent&&(!this.params.scrollParent||t<n)&&(i=0,a=r=n),this.params.partialRender)for(var s=this.peakCache.addRangeToPeakCache(r,i,a),o=0;o<s.length;o++)e=this.backend.getPeaks(r,s[o][0],s[o][1]),this.drawer.drawPeaks(e,r,s[o][0],s[o][1]);else e=this.backend.getPeaks(r,i,a),this.drawer.drawPeaks(e,r,i,a);this.fireEvent("redraw",e,r)}},{key:"zoom",value:function(e){e?(this.params.minPxPerSec=e,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",e)}},{key:"loadArrayBuffer",value:function(e){var t=this;this.decodeArrayBuffer(e,(function(e){t.isDestroyed||t.loadDecodedBuffer(e)}))}},{key:"loadDecodedBuffer",value:function(e){this.backend.load(e),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(e){var t=this,n=new FileReader;n.addEventListener("progress",(function(e){return t.onProgress(e)})),n.addEventListener("load",(function(e){return t.loadArrayBuffer(e.target.result)})),n.addEventListener("error",(function(){return t.fireEvent("error","Error reading file")})),n.readAsArrayBuffer(e),this.empty()}},{key:"load",value:function(e,t,n,r){if(!e)throw new Error("url parameter cannot be empty");var i;switch(this.empty(),n&&(i={"Preload is not 'auto', 'none' or 'metadata'":-1===["auto","metadata","none"].indexOf(n),"Peaks are not provided":!t,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":-1===["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend),"Url is not of type string":"string"!=typeof e},Object.keys(i).filter((function(e){return i[e]})).length&&(n=null)),"WebAudio"===this.params.backend&&e instanceof HTMLMediaElement&&(e=e.src),this.params.backend){case"WebAudio":return this.loadBuffer(e,t,r);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(e,t,n,r)}}},{key:"loadBuffer",value:function(e,t,n){function r(t){return t&&i.tmpEvents.push(i.once("ready",t)),i.getArrayBuffer(e,(function(e){return i.loadArrayBuffer(e)}))}var i=this;if(!t)return r();this.backend.setPeaks(t,n),this.drawBuffer(),this.fireEvent("waveform-ready"),this.tmpEvents.push(this.once("interaction",r))}},{key:"loadMediaElement",value:function(e,t,n,r){var i=this,a=e;"string"==typeof e?this.backend.load(a,this.mediaContainer,t,n):(this.backend.loadElt(n=e,t),a=n.src),this.tmpEvents.push(this.backend.once("canplay",(function(){i.backend.destroyed||(i.drawBuffer(),i.isReady=!0,i.fireEvent("ready"))})),this.backend.once("error",(function(e){return i.fireEvent("error",e)}))),t&&(this.backend.setPeaks(t,r),this.drawBuffer(),this.fireEvent("waveform-ready")),t&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(a,(function(e){i.decodeArrayBuffer(e,(function(e){i.backend.buffer=e,i.backend.setPeaks(null),i.drawBuffer(),i.fireEvent("waveform-ready")}))}))}},{key:"decodeArrayBuffer",value:function(e,t){var n=this;this.isDestroyed||(this.arraybuffer=e,this.backend.decodeArrayBuffer(e,(function(r){n.isDestroyed||n.arraybuffer!=e||(t(r),n.arraybuffer=null)}),(function(){return n.fireEvent("error","Error decoding audiobuffer")})))}},{key:"getArrayBuffer",value:function(e,t){var n=this;e=Object.assign({url:e,responseType:"arraybuffer"},this.params.xhr),e=i.fetchFile(e);return this.currentRequest=e,this.tmpEvents.push(e.on("progress",(function(e){n.onProgress(e)})),e.on("success",(function(e){t(e),n.currentRequest=null})),e.on("error",(function(e){n.fireEvent("error",e),n.currentRequest=null}))),e}},{key:"onProgress",value:function(e){var t=e.lengthComputable?e.loaded/e.total:e.loaded/(e.loaded+1e6);this.fireEvent("loading",Math.round(100*t),e.target)}},{key:"exportPCM",value:function(e,t,n,r,i){t=t||1e4,n=n||!1;e=this.backend.getPeaks(e=e||1024,r=r||0,i);var a=[].map.call(e,(function(e){return Math.round(e*t)/t}));return new Promise((function(e,t){var r;n||(r=new Blob([JSON.stringify(a)],{type:"application/json;charset=utf-8"}),r=URL.createObjectURL(r),window.open(r),URL.revokeObjectURL(r)),e(a)}))}},{key:"exportImage",value:function(e,t,n){return this.drawer.getImage(e=e||"image/png",t=t||1,n=n||"dataURL")}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest._reader&&this.currentRequest._reader.cancel().catch((function(e){})),this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach((function(e){return e.un()}))}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),!1!==this.params.responsive&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&(this.backend.destroy(),this.backend=null),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}],[{key:"create",value:function(e){return new r(e).init()}}]),r}(i.Observer),b(t.default=n,"VERSION","6.2.0"),b(n,"util",i),e.exports=t.default},"./src/webaudio.js":(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);n=t?(n=c(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};if((t=i(t))&&t.has(e))return t.get(e);var n,a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var o;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=s?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n])}return a.default=e,t&&t.set(e,a),a}(n("./src/util/index.js"));var f="playing",h="paused",d="finished";n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=o(r);function r(e){var t,i;if(this instanceof r)return u(l(i=n.call(this)),"audioContext",null),u(l(i),"offlineAudioContext",null),u(l(i),"stateBehaviors",(u(t={},f,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),u(t,h,{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}}),u(t,d,{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),t)),i.params=e,i.ac=e.audioContext||(i.supportsWebAudio()?i.getAudioContext():{}),i.lastPlay=i.ac.currentTime,i.startPosition=0,i.scheduledPause=null,i.states=(u(t={},f,Object.create(i.stateBehaviors[f])),u(t,h,Object.create(i.stateBehaviors[h])),u(t,d,Object.create(i.stateBehaviors[d])),t),i.buffer=null,i.filters=[],i.gainNode=null,i.mergedPeaks=null,i.offlineAc=null,i.peaks=null,i.playbackRate=1,i.analyser=null,i.scriptNode=null,i.source=null,i.splitPeaks=[],i.state=null,i.explicitDuration=e.duration,i.sinkStreamDestination=null,i.sinkAudioElement=null,i.destroyed=!1,i;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"supportsWebAudio",value:function(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(e){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),window.WaveSurferOfflineAudioContext}},{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(h),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach((function(e){e&&e.disconnect()})),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.setFilters(t)}},{key:"setFilters",value:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce((function(e,t){return e.connect(t),t}),this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor?this.scriptNode=this.params.audioScriptProcessor:this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(r.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(r.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var e=this;this.scriptNode.onaudioprocess=function(){var t=e.getCurrentTime();t>=e.getDuration()?(e.setState(d),e.fireEvent("pause")):t>=e.scheduledPause?e.pause():e.state===e.states[f]&&e.fireEvent("audioprocess",t)}}},{key:"removeOnAudioProcess",value:function(){this.scriptNode.onaudioprocess=null}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(e){return e?(this.sinkAudioElement||(this.sinkAudioElement=new window.Audio,this.sinkAudioElement.autoplay=!0),this.sinkAudioElement.setSinkId?(this.sinkStreamDestination||(this.sinkStreamDestination=this.ac.createMediaStreamDestination()),this.gainNode.disconnect(),this.gainNode.connect(this.sinkStreamDestination),this.sinkAudioElement.srcObject=this.sinkStreamDestination.stream,this.sinkAudioElement.setSinkId(e)):Promise.reject(new Error("setSinkId is not supported in your browser"))):Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"setVolume",value:function(e){this.gainNode.gain.setValueAtTime(e,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(e,t,n){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),"webkitAudioContext"in window?this.offlineAc.decodeAudioData(e,(function(e){return t(e)}),n):this.offlineAc.decodeAudioData(e).then((function(e){return t(e)})).catch((function(e){return n(e)}))}},{key:"setPeaks",value:function(e,t){null!=t&&(this.explicitDuration=t),this.peaks=e}},{key:"setLength",value:function(e){if(!this.mergedPeaks||e!=2*this.mergedPeaks.length-1+2){this.splitPeaks=[],this.mergedPeaks=[];for(var t=this.buffer?this.buffer.numberOfChannels:1,n=0;n<t;n++)this.splitPeaks[n]=[],this.splitPeaks[n][2*(e-1)]=0,this.splitPeaks[n][2*(e-1)+1]=0;this.mergedPeaks[2*(e-1)]=0,this.mergedPeaks[2*(e-1)+1]=0}}},{key:"getPeaks",value:function(e,t,n){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(t=t||0,n=n||e-1,this.setLength(e),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;this.buffer.length||(r=this.createBuffer(1,4096,this.sampleRate),this.buffer=r.buffer);for(var r,i=this.buffer.length/e,a=~~(i/10)||1,s=this.buffer.numberOfChannels,o=0;o<s;o++){var l=this.splitPeaks[o],c=this.buffer.getChannelData(o),u=void 0;for(u=t;u<=n;u++){var f=~~(u*i),h=~~(f+i),d=c[f],p=d,_=void 0;for(_=f;_<h;_+=a){var m=c[_];p<m&&(p=m),m<d&&(d=m)}l[2*u]=p,l[2*u+1]=d,(0==o||p>this.mergedPeaks[2*u])&&(this.mergedPeaks[2*u]=p),(0==o||d<this.mergedPeaks[2*u+1])&&(this.mergedPeaks[2*u+1]=d)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&("function"==typeof this.ac.close&&"closed"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null),this.sinkStreamDestination&&(this.sinkAudioElement.pause(),this.sinkAudioElement.srcObject=null,this.sinkStreamDestination.disconnect(),this.sinkStreamDestination=null)}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.destroyWebAudio()}},{key:"load",value:function(e){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=e,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.setPlaybackRate(this.playbackRate),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"resumeAudioContext",value:function(){"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume()}},{key:"isPaused",value:function(){return this.state!==this.states[f]}},{key:"getDuration",value:function(){return this.explicitDuration||(this.buffer?this.buffer.duration:0)}},{key:"seekTo",value:function(e,t){if(this.buffer)return(this.scheduledPause=null)==e&&(e=this.getCurrentTime())>=this.getDuration()&&(e=0),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states[d]&&this.setState(h),{start:e,end:t}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(e,t){var n;this.buffer&&(this.createSource(),e=(n=this.seekTo(e,t)).start,t=n.end,this.scheduledPause=t,this.source.start(0,e),this.resumeAudioContext(),this.setState(f),this.fireEvent("play"))}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime();try{this.source&&this.source.stop(0)}catch(e){}this.setState(h),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(e){this.playbackRate=e||1,this.source&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime)}},{key:"setPlayEnd",value:function(e){this.scheduledPause=e}}])&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(n.Observer);u(t.default=n,"scriptBufferSize",256),e.exports=t.default},"./node_modules/debounce/index.js":e=>{function t(e,t,n){var r,i,a,s,o;function l(){var c=Date.now()-s;c<t&&0<=c?r=setTimeout(l,t-c):(r=null,n||(o=e.apply(a,i),a=i=null))}function c(){a=this,i=arguments,s=Date.now();var c=n&&!r;return r=r||setTimeout(l,t),c&&(o=e.apply(a,i),a=i=null),o}return null==t&&(t=100),c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(o=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}e.exports=t.debounce=t}},t={},function n(r){var i=t[r];return void 0!==i||(i=t[r]={exports:{}},e[r](i,i.exports,n)),i.exports}("./src/wavesurfer.js");var e,t},e.exports=t()}},t={};function n(r){var i=t[r];return void 0!==i||(i=t[r]={exports:{}},e[r].call(i.exports,i,i.exports,n)),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.g.importScripts&&(r=n.g.location+"");var r,i=n.g.document;if(r||!i||(r=i.currentScript?i.currentScript.src:r)||(i=i.getElementsByTagName("script")).length&&(r=i[i.length-1].src),!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=r,(()=>{var e=n(2719);function t(t,n){let r,i,a=t.numberOfChannels,s=t.length*a*2+44,o=new ArrayBuffer(s),l=new DataView(o),c=[],u=0,f=0;for(g(1179011410),g(s-8),g(1163280727),g(544501094),g(16),v(1),v(a),g(t.sampleRate),g(2*t.sampleRate*a),v(2*a),v(16),g(1635017060),g(s-f-4),r=0;r<t.numberOfChannels;r++)c.push(t.getChannelData(r));for(;f<s;){for(r=0;r<a;r++)i=0|(.5+(i=Math.max(-1,Math.min(1,c[r][u])))<0?32768*i:32767*i),l.setInt16(f,i,!0),f+=2;u++}var h=e.Q.readHeader(new DataView(o)),d=new Int16Array(o,h.dataOffset,h.dataLen/2);let p=[],_=[];for(let e=0;e<d.length;e+=2)p.push(d[e]),_.push(d[e+1]);var m=new Int16Array(p),b=new Int16Array(_);return"MP3"===n?2===h.channels?y(h.channels,h.sampleRate,m,b):1===h.channels?y(h.channels,h.sampleRate,d):void 0:new Blob([o],{type:"audio/wav"});function v(e){l.setUint16(f,e,!0),f+=2}function g(e){l.setUint32(f,e,!0),f+=4}function y(t,n,r,i=null){for(var a,s,o=[],l=new e.d(t,n,128),c=r.length,u=0;1152<=c;u+=1152)0<(s=i?(a=r.subarray(u,u+1152),s=i.subarray(u,u+1152),l.encodeBuffer(a,s)):(a=r.subarray(u,u+1152),l.encodeBuffer(a))).length&&o.push(s),c-=1152;return 0<(t=l.flush()).length&&o.push(new Int8Array(t)),new Blob(o,{type:"audio/mp3"})}}var r=n(2085),i=n.n(r);function a(e){return null==e?window:"[object Window]"!==e.toString()?(t=e.ownerDocument)&&t.defaultView||window:e;var t}function s(e){return e instanceof a(e).Element||e instanceof Element}function o(e){return e instanceof a(e).HTMLElement||e instanceof HTMLElement}function l(e){if("undefined"!=typeof ShadowRoot)return e instanceof a(e).ShadowRoot||e instanceof ShadowRoot}var c=Math.max,u=Math.min,f=Math.round;function h(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;return o(e)&&t&&(t=e.offsetHeight,0<(e=e.offsetWidth)&&(r=f(n.width)/e||1),0<t&&(i=f(n.height)/t||1)),{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function d(e){return{scrollLeft:(e=a(e)).pageXOffset,scrollTop:e.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function _(e){return((s(e)?e.ownerDocument:e.document)||window.document).documentElement}function m(e){return h(_(e)).left+d(e).scrollLeft}function b(e){return a(e).getComputedStyle(e)}function v(e){var t=(e=b(e)).overflow,n=e.overflowX;e=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+e+n)}function g(e,t,n){void 0===n&&(n=!1);var r=o(t),i=o(t)&&(l=(i=t).getBoundingClientRect(),s=f(l.width)/i.offsetWidth||1,l=f(l.height)/i.offsetHeight||1,1!==s||1!==l),s=_(t),l=h(e,i),c=(e={scrollLeft:0,scrollTop:0},{x:0,y:0});return!r&&n||("body"===p(t)&&!v(s)||(e=(r=t)!==a(r)&&o(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:d(r)),o(t)?((c=h(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=m(s))),{x:l.left+e.scrollLeft-c.x,y:l.top+e.scrollTop-c.y,width:l.width,height:l.height}}function y(e){var t=h(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function w(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(l(e)?e.host:null)||_(e)}function A(e,t){void 0===t&&(t=[]);var n=function e(t){return 0<=["html","body","#document"].indexOf(p(t))?t.ownerDocument.body:o(t)&&v(t)?t:e(w(t))}(e),r=(e=n===(null==(e=e.ownerDocument)?void 0:e.body),a(n));r=e?[r].concat(r.visualViewport||[],v(n)?n:[]):n,n=t.concat(r);return e?n:n.concat(A(w(r)))}function k(e){return o(e)&&"fixed"!==b(e).position?e.offsetParent:null}function E(e){for(var t=a(e),n=k(e);n&&0<=["table","td","th"].indexOf(p(n))&&"static"===b(n).position;)n=k(n);return(!n||"html"!==p(n)&&("body"!==p(n)||"static"!==b(n).position))&&(n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&o(e)&&"fixed"===b(e).position)return null;var n=w(e);for(l(n)&&(n=n.host);o(n)&&["html","body"].indexOf(p(n))<0;){var r=b(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e))||t}var x="top",S="bottom",R="right",M="left",T="auto",O=[x,S,R,M],B="start",P="end",C="viewport",L="popper",j=O.reduce((function(e,t){return e.concat([t+"-"+B,t+"-"+P])}),[]),I=[].concat(O,[T]).reduce((function(e,t){return e.concat([t,t+"-"+B,t+"-"+P])}),[]),V=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var D={placement:"bottom",modifiers:[],strategy:"absolute"};function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}var H={passive:!0};function F(e){return e.split("-")[0]}function W(e){return e.split("-")[1]}function q(e){return 0<=["top","bottom"].indexOf(e)?"x":"y"}function X(e){var t,n=e.reference,r=e.element,i=(e=e.placement)?F(e):null,a=(e=e?W(e):null,n.x+n.width/2-r.width/2),s=n.y+n.height/2-r.height/2;switch(i){case x:t={x:a,y:n.y-r.height};break;case S:t={x:a,y:n.y+n.height};break;case R:t={x:n.x+n.width,y:s};break;case M:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var o=i?q(i):null;if(null!=o){var l="y"===o?"height":"width";switch(e){case B:t[o]=t[o]-(n[l]/2-r[l]/2);break;case P:t[o]=t[o]+(n[l]/2-r[l]/2)}}return t}var U={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Y(e){var t,n,r,i=e.popper,s=e.popperRect,o=e.placement,l=e.variation,c=e.offsets,u=e.position,h=e.gpuAcceleration,d=e.adaptive,p=e.roundOffsets,m=(e=e.isFixed,void 0===(m=c.x)?0:m),v=void 0===(v=c.y)?0:v,g=(m=(g="function"==typeof p?p({x:m,y:v}):{x:m,y:v}).x,v=g.y,c.hasOwnProperty("x")),y=(c=c.hasOwnProperty("y"),M),w=x,A=window;d&&(n="clientHeight",t="clientWidth",(r=E(i))===a(i)&&"static"!==b(r=_(i)).position&&"absolute"===u&&(n="scrollHeight",t="scrollWidth"),o!==x&&(o!==M&&o!==R||l!==P)||(w=S,v=(v-((e&&r===A&&A.visualViewport?A.visualViewport.height:r[n])-s.height))*(h?1:-1)),o!==M&&(o!==x&&o!==S||l!==P)||(y=R,m=(m-((e&&r===A&&A.visualViewport?A.visualViewport.width:r[t])-s.width))*(h?1:-1))),i=Object.assign({position:u},d&&U);return m=(e=!0===p?(o=(n={x:m,y:v}).x,n=n.y,l=window.devicePixelRatio||1,{x:f(o*l)/l||0,y:f(n*l)/l||0}):{x:m,y:v}).x,v=e.y,h?Object.assign({},i,((r={})[w]=c?"0":"",r[y]=g?"0":"",r.transform=(A.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",r)):Object.assign({},i,((t={})[w]=c?v+"px":"",t[y]=g?m+"px":"",t.transform="",t))}r={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];o(i)&&p(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{};e=Object.keys((t.styles.hasOwnProperty(e)?t.styles:n)[e]).reduce((function(e,t){return e[t]="",e}),{});o(r)&&p(r)&&(Object.assign(r.style,e),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var z={left:"right",right:"left",bottom:"top",top:"bottom"};function G(e){return e.replace(/left|right|bottom|top/g,(function(e){return z[e]}))}var K={start:"end",end:"start"};function Z(e){return e.replace(/start|end/g,(function(e){return K[e]}))}function Q(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&l(n)){var r=t;do{if(r&&e.isSameNode(r))return!0}while(r=r.parentNode||r.host)}return!1}function J(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $(e,t){return t===C?J((r=a(n=e),i=_(n),r=r.visualViewport,o=i.clientWidth,i=i.clientHeight,u=l=0,r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=r.offsetLeft,u=r.offsetTop)),{width:o,height:i,x:l+m(n),y:u})):s(t)?((o=h(r=t)).top=o.top+r.clientTop,o.left=o.left+r.clientLeft,o.bottom=o.top+r.clientHeight,o.right=o.left+r.clientWidth,o.width=r.clientWidth,o.height=r.clientHeight,o.x=o.left,o.y=o.top,o):J((i=_(e),l=_(i),n=d(i),u=null==(u=i.ownerDocument)?void 0:u.body,t=c(l.scrollWidth,l.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),e=c(l.scrollHeight,l.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),i=-n.scrollLeft+m(i),n=-n.scrollTop,"rtl"===b(u||l).direction&&(i+=c(l.clientWidth,u?u.clientWidth:0)-t),{width:t,height:e,x:i,y:n}));var n,r,i,o,l,u}function ee(e,t,n){var r,i="clippingParents"===t?(a=A(w(i=e)),s(r=0<=["absolute","fixed"].indexOf(b(i).position)&&o(i)?E(i):i)?a.filter((function(e){return s(e)&&Q(e,r)&&"body"!==p(e)})):[]):[].concat(t),a=[].concat(i,[n]);t=a[0],n=a.reduce((function(t,n){return n=$(e,n),t.top=c(n.top,t.top),t.right=u(n.right,t.right),t.bottom=u(n.bottom,t.bottom),t.left=c(n.left,t.left),t}),$(e,t));return n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}function te(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ne(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function re(e,t){var n,r=void 0===(r=(t=t=void 0===t?{}:t).placement)?e.placement:r,i=void 0===(i=t.boundary)?"clippingParents":i,a=void 0===(a=t.rootBoundary)?C:a,o=void 0===(o=t.elementContext)?L:o,l=void 0!==(l=t.altBoundary)&&l,c=(t=te("number"!=typeof(t=void 0===(t=t.padding)?0:t)?t:ne(t,O)),e.rects.popper),u=(l=ee(s(l=e.elements[l?o===L?"reference":L:o])?l:l.contextElement||_(e.elements.popper),i,a),a=X({reference:i=h(e.elements.reference),element:c,strategy:"absolute",placement:r}),c=J(Object.assign({},c,a)),a=o===L?c:i,{top:l.top-a.top+t.top,bottom:a.bottom-l.bottom+t.bottom,left:l.left-a.left+t.left,right:a.right-l.right+t.right});c=e.modifiersData.offset;return o===L&&c&&(n=c[r],Object.keys(u).forEach((function(e){var t=0<=[R,S].indexOf(e)?1:-1,r=0<=[x,S].indexOf(e)?"y":"x";u[e]+=n[r]*t}))),u}function ie(e,t,n){return c(e,u(t,n))}function ae(e,t,n){return{top:e.top-t.height-(n=void 0===n?{x:0,y:0}:n).y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function se(e){return[x,R,S,M].some((function(t){return 0<=e[t]}))}var oe=function(e){var t,n=void 0===(t=(e=e=void 0===e?{}:e).defaultModifiers)?[]:t,r=void 0===(t=e.defaultOptions)?D:t;return function(e,t,i){void 0===i&&(i=r);var a,o,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},D,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,f={state:l,setOptions:function(i){var a,o;i="function"==typeof i?i(l.options):i,h(),l.options=Object.assign({},r,l.options,i),l.scrollParents={reference:s(e)?A(e):e.contextElement?A(e.contextElement):[],popper:A(t)},i=[].concat(n,l.options.modifiers),o=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),i=Object.keys(o).map((function(e){return o[e]})),a=function(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(i){n.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(r){n.has(r)||(r=t.get(r))&&e(r)})),r.push(i)}(e)})),r}(i),i=V.reduce((function(e,t){return e.concat(a.filter((function(e){return e.phase===t})))}),[]);return l.orderedModifiers=i.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options;"function"==typeof(e=e.effect)&&(e=e({state:l,name:t,instance:f,options:void 0===n?{}:n}),c.push(e||function(){}))})),f.update()},forceUpdate:function(){if(!u){var e,t=(e=l.elements).reference;if(N(t,e=e.popper)){l.rects={reference:g(t,E(e),"fixed"===l.options.strategy),popper:y(e)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var n,r,i,a=0;a<l.orderedModifiers.length;a++)!0===l.reset?(l.reset=!1,a=-1):(n=(i=l.orderedModifiers[a]).fn,r=i.options,i=i.name,"function"==typeof n&&(l=n({state:l,options:void 0===r?{}:r,name:i,instance:f})||l))}}},update:(a=function(){return new Promise((function(e){f.forceUpdate(),e(l)}))},function(){return o=o||new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(a())}))}))}),destroy:function(){h(),u=!0}};return N(e,t)&&f.setOptions(i).then((function(e){!u&&i.onFirstUpdate&&i.onFirstUpdate(e)})),f;function h(){c.forEach((function(e){return e()})),c=[]}}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=(e=e.options).scroll,i=void 0===r||r,s=void 0===(r=e.resize)||r,o=a(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",n.update,H)})),s&&o.addEventListener("resize",n.update,H),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",n.update,H)})),s&&o.removeEventListener("resize",n.update,H)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state;e=e.name;t.modifiersData[e]=X({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=void 0===(n=(e=e.options).gpuAcceleration)||n,r=void 0===(r=e.adaptive)||r;e=void 0===(e=e.roundOffsets)||e,n={placement:F(t.placement),variation:W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Y(Object.assign({},n,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:e})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Y(Object.assign({},n,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:e})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},r,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=(e=e.name,void 0===(n=n.offset)?[0,0]:n),i=(n=I.reduce((function(e,n){var i,a,s,o;return e[n]=(i=t.rects,a=r,s=F(n),o=0<=[M,x].indexOf(s)?-1:1,n=(i="function"==typeof a?a(Object.assign({},i,{placement:n})):a)[0]||0,a=(i[1]||0)*o,0<=[M,R].indexOf(s)?{x:a,y:n}:{x:n,y:a}),e}),{}),(a=n[t.placement]).x),a=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=a),t.modifiersData[e]=n}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options;e=e.name;if(!t.modifiersData[e]._skip){for(var r,i=void 0===(s=n.mainAxis)||s,a=void 0===(s=n.altAxis)||s,s=n.fallbackPlacements,o=n.padding,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=void 0===(r=n.flipVariations)||r,h=n.allowedAutoPlacements,d=(n=F(r=t.options.placement),s=s||(n!==r&&f?function(e){if(F(e)===T)return[];var t=G(e);return[Z(e),t,Z(t)]}(r):[G(r)]),[r].concat(s).reduce((function(e,n){return e.concat(F(n)===T?(r=t,i=(e=e=void 0===(e={placement:n,boundary:l,rootBoundary:c,padding:o,flipVariations:f,allowedAutoPlacements:h})?{}:e).placement,a=e.boundary,s=e.rootBoundary,u=e.padding,d=e.flipVariations,p=void 0===(e=e.allowedAutoPlacements)?I:e,e=(_=W(i))?d?j:j.filter((function(e){return W(e)===_})):O,m=(i=0===(i=e.filter((function(e){return 0<=p.indexOf(e)}))).length?e:i).reduce((function(e,t){return e[t]=re(r,{placement:t,boundary:a,rootBoundary:s,padding:u})[F(t)],e}),{}),Object.keys(m).sort((function(e,t){return m[e]-m[t]}))):n);var r,i,a,s,u,d,p,_,m}),[])),p=t.rects.reference,_=t.rects.popper,m=new Map,b=!0,v=d[0],g=0;g<d.length;g++){var y=d[g],w=F(y),A=W(y)===B,k=(P=0<=[x,S].indexOf(w))?"width":"height",E=re(t,{placement:y,boundary:l,rootBoundary:c,altBoundary:u,padding:o}),P=P?A?R:M:A?S:x;A=(p[k]>_[k]&&(P=G(P)),G(P)),k=[];if(i&&k.push(E[w]<=0),a&&k.push(E[P]<=0,E[A]<=0),k.every((function(e){return e}))){v=y,b=!1;break}m.set(y,k)}if(b)for(var C=f?3:1;0<C&&"break"!==function(e){var t=d.find((function(t){if(t=m.get(t))return t.slice(0,e).every((function(e){return e}))}));if(t)return v=t,"break"}(C);C--);t.placement!==v&&(t.modifiersData[e]._skip=!0,t.placement=v,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t,n,r,i,a,s,o,l,f,h=e.state,d=e.options,p=(e=e.name,void 0===(p=d.mainAxis)||p),_=void 0!==(_=d.altAxis)&&_,m=d.boundary,b=d.rootBoundary,v=d.altBoundary,g=d.padding,w=void 0===(w=d.tether)||w,A=(d=void 0===(d=d.tetherOffset)?0:d,m=re(h,{boundary:m,rootBoundary:b,padding:g,altBoundary:v}),b=F(h.placement),v=!(g=W(h.placement)),q(b)),k="x"===A?"y":"x",T=h.modifiersData.popperOffsets,O=h.rects.reference,P=h.rects.popper,C=(d="number"==typeof(d="function"==typeof d?d(Object.assign({},h.rects,{placement:h.placement})):d)?{mainAxis:d,altAxis:d}:Object.assign({mainAxis:0,altAxis:0},d),h.modifiersData.offset?h.modifiersData.offset[h.placement]:null),L={x:0,y:0};T&&(p&&(p="y"===A?"height":"width",s=(o=T[A])+m[n="y"===A?x:M],l=o-m[f="y"===A?S:R],t=w?-P[p]/2:0,i=(g===B?O:P)[p],g=g===B?-P[p]:-O[p],a=h.elements.arrow,a=w&&a?y(a):{width:0,height:0},n=(r=h.modifiersData["arrow#persistent"]?h.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0})[n],r=r[f],f=ie(0,O[p],a[p]),a=v?O[p]/2-t-f-n-d.mainAxis:i-f-n-d.mainAxis,i=v?-O[p]/2+t+f+r+d.mainAxis:g+f+r+d.mainAxis,v=(n=h.elements.arrow&&E(h.elements.arrow))?"y"===A?n.clientTop||0:n.clientLeft||0:0,g=o+i-(t=null!=(p=null==C?void 0:C[A])?p:0),f=ie(w?u(s,o+a-t-v):s,o,w?c(l,g):l),T[A]=f,L[A]=f-o),_&&(r="y"==k?"height":"width",i=(n=T[k])+m["x"===A?x:M],p=n-m["x"===A?S:R],a=-1!==[x,M].indexOf(b),v=null!=(t=null==C?void 0:C[k])?t:0,s=a?i:n-O[r]-P[r]-v+d.altAxis,g=a?n+O[r]+P[r]-v-d.altAxis:p,o=w&&a?(l=ie(l=s,n,f=g),f<l?f:l):ie(w?s:i,n,w?g:p),T[k]=o,L[k]=o-n),h.modifiersData[e]=L)},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n,r,i,a=e.state,s=e.name,o=(e=e.options,a.elements.arrow),l=a.modifiersData.popperOffsets,c=q(u=F(a.placement)),u=0<=[M,R].indexOf(u)?"height":"width";o&&l&&(n=a,n=te("number"!=typeof(e="function"==typeof(e=e.padding)?e(Object.assign({},n.rects,{placement:n.placement})):e)?e:ne(e,O)),e=y(o),i="y"===c?x:M,r="y"===c?S:R,t=a.rects.reference[u]+a.rects.reference[c]-l[c]-a.rects.popper[u],l=l[c]-a.rects.reference[c],o=(o=E(o))?"y"===c?o.clientHeight||0:o.clientWidth||0:0,i=n[i],n=o-e[u]-n[r],i=ie(i,r=o/2-e[u]/2+(t/2-l/2),n),a.modifiersData[s]=((o={})[c]=i,o.centerOffset=i-r,o))},effect:function(e){var t=e.state;null!=(e=void 0===(e=e.options.element)?"[data-popper-arrow]":e)&&("string"!=typeof e||(e=t.elements.popper.querySelector(e)))&&Q(t.elements.popper,e)&&(t.elements.arrow=e)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=(e=e.name,t.rects.reference),r=t.rects.popper,i=t.modifiersData.preventOverflow,a=re(t,{elementContext:"reference"}),s=re(t,{altBoundary:!0});a=ae(a,n),n=ae(s,r,i),s=se(a),r=se(n);t.modifiersData[e]={referenceClippingOffsets:a,popperEscapeOffsets:n,isReferenceHidden:s,hasPopperEscaped:r},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":s,"data-popper-escaped":r})}}]}),le="tippy-content",ce="tippy-arrow",ue="tippy-svg-arrow",fe={passive:!0,capture:!0},he=function(){return document.body};function de(e,t,n){var r;return Array.isArray(e)?null==(r=e[t])?Array.isArray(n)?n[t]:n:r:e}function pe(e,t){return 0===(e={}.toString.call(e)).indexOf("[object")&&-1<e.indexOf(t+"]")}function _e(e,t){return"function"==typeof e?e.apply(void 0,t):e}function me(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function be(e){return[].concat(e)}function ve(e,t){-1===e.indexOf(t)&&e.push(t)}function ge(e){return[].slice.call(e)}function ye(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function we(){return document.createElement("div")}function Ae(e){return["Element","Fragment"].some((function(t){return pe(e,t)}))}function ke(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Ee(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function xe(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function Se(e,t){for(var n,r=t;r;){if(e.contains(r))return!0;r=null==r.getRootNode||null==(n=r.getRootNode())?void 0:n.host}return!1}var Re={isTouch:!1},Me=0;function Te(){Re.isTouch||(Re.isTouch=!0,window.performance&&document.addEventListener("mousemove",Oe))}function Oe(){var e=performance.now();e-Me<20&&(Re.isTouch=!1,document.removeEventListener("mousemove",Oe)),Me=e}function Be(){var e,t=document.activeElement;(function(e){return e&&e._tippy&&e._tippy.reference===e})(t)&&(e=t._tippy,t.blur&&!e.state.isVisible&&t.blur())}var Pe="undefined"!=typeof window&&"undefined"!=typeof document&&!!window.msCrypto,Ce={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Le=Object.assign({appendTo:he,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ce,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),je=Object.keys(Le);function Ie(e){var t=(e.plugins||[]).reduce((function(t,n){var r=n.name;n=n.defaultValue;return r&&(t[r]=void 0!==e[r]?e[r]:null!=(r=Le[r])?r:n),t}),{});return Object.assign({},e,t)}function Ve(e,t){var n;e=Object.assign({},t,{content:_e(t.content,[e])},t.ignoreAttributes?{}:(n=e,((e=t.plugins)?Object.keys(Ie(Object.assign({},Le,{plugins:e}))):je).reduce((function(e,t){var r=(n.getAttribute("data-tippy-"+t)||"").trim();if(!r)return e;if("content"===t)e[t]=r;else try{e[t]=JSON.parse(r)}catch(n){e[t]=r}return e}),{})));return e.aria=Object.assign({},Le.aria,e.aria),e.aria={expanded:"auto"===e.aria.expanded?t.interactive:e.aria.expanded,content:"auto"===e.aria.content?t.interactive?null:"describedby":e.aria.content},e}function De(e,t){e.innerHTML=t}function Ne(e){var t=we();return!0===e?t.className=ce:(t.className=ue,Ae(e)?t.appendChild(e):De(t,e)),t}function He(e,t){Ae(t.content)?(De(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?De(e,t.content):e.textContent=t.content)}function Fe(e){var t=ge((e=e.firstElementChild).children);return{box:e,content:t.find((function(e){return e.classList.contains(le)})),arrow:t.find((function(e){return e.classList.contains(ce)||e.classList.contains(ue)})),backdrop:t.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function We(e){var t=we(),n=we(),r=(n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1"),we());function i(n,r){var i=(s=Fe(t)).box,a=s.content,s=s.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||He(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(i.removeChild(s),i.appendChild(Ne(r.arrow))):i.appendChild(Ne(r.arrow)):s&&i.removeChild(s)}return r.className=le,r.setAttribute("data-state","hidden"),He(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}We.$$tippy=!0;var qe=1,Xe=[],Ue=[];function Ye(e,t){var n,r,i,a,s,o,l,c,u=Ve(e,Object.assign({},Le,Ie(ye(t)))),f=!1,h=!1,d=!1,p=!1,_=[],m=me(U,u.interactiveDebounce),b=(t=qe++,(c=u.plugins).filter((function(e,t){return c.indexOf(e)===t}))),v={id:t,reference:e,popper:we(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){var n,r;v.state.isDestroyed||(B("onBeforeUpdate",[v,t]),q(),n=v.props,r=Ve(e,Object.assign({},n,ye(t),{ignoreAttributes:!0})),v.props=r,W(),n.interactiveDebounce!==r.interactiveDebounce&&(L(),m=me(U,r.interactiveDebounce)),n.triggerTarget&&!r.triggerTarget?be(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded"),C(),O(),y&&y(n,r),v.popperInstance&&(K(),Q().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),B("onAfterUpdate",[v,t]))},setContent:function(e){v.setProps({content:e})},show:function(){var e=v.state.isVisible,t=v.state.isDestroyed,n=!v.state.isEnabled,r=Re.isTouch&&!v.props.touch,i=de(v.props.duration,0,Le.duration);e||t||n||r||S().hasAttribute("disabled")||(B("onShow",[v],!1),!1!==v.props.onShow(v)&&(v.state.isVisible=!0,x()&&(g.style.visibility="visible"),O(),D(),v.state.isMounted||(g.style.transition="none"),x()&&ke([t=(e=M()).box,n=e.content],0),o=function(){var e,t;v.state.isVisible&&!p&&(p=!0,g.offsetHeight,g.style.transition=v.props.moveTransition,x()&&v.props.animation&&(ke([e=(t=M()).box,t=t.content],i),Ee([e,t],"visible")),P(),C(),ve(Ue,v),null!=(e=v.popperInstance)&&e.forceUpdate(),B("onMount",[v]),v.props.animation&&x()&&H(i,(function(){v.state.isShown=!0,B("onShown",[v])})))},r=v.props.appendTo,e=S(),(r=v.props.interactive&&r===he||"parent"===r?e.parentNode:_e(r,[e])).contains(g)||r.appendChild(g),v.state.isMounted=!0,K()))},hide:function(){var e,t=!v.state.isVisible,n=v.state.isDestroyed,r=!v.state.isEnabled,i=de(v.props.duration,1,Le.duration);t||n||r||(B("onHide",[v],!1),!1!==v.props.onHide(v)&&(v.state.isVisible=!1,v.state.isShown=!1,f=p=!1,x()&&(g.style.visibility="hidden"),L(),N(),O(!0),x()&&(n=(t=M()).box,r=t.content,v.props.animation&&(ke([n,r],i),Ee([n,r],"hidden"))),P(),C(),v.props.animation?x()&&(e=v.unmount,H(i,(function(){!v.state.isVisible&&g.parentNode&&g.parentNode.contains(g)&&e()}))):v.unmount()))},hideWithInteractivity:function(e){R().addEventListener("mousemove",m),ve(Xe,m),m(e)},enable:function(){v.state.isEnabled=!0},disable:function(){v.hide(),v.state.isEnabled=!1},unmount:function(){v.state.isVisible&&v.hide(),v.state.isMounted&&(Z(),Q().forEach((function(e){e._tippy.unmount()})),g.parentNode&&g.parentNode.removeChild(g),Ue=Ue.filter((function(e){return e!==v})),v.state.isMounted=!1,B("onHidden",[v]))},destroy:function(){v.state.isDestroyed||(v.clearDelayTimeouts(),v.unmount(),q(),delete e._tippy,v.state.isDestroyed=!0,B("onDestroy",[v]))}};if(!u.render)return v;var g=(t=u.render(v)).popper,y=t.onUpdate,w=(g.setAttribute("data-tippy-root",""),g.id="tippy-"+v.id,v.popper=g,e._tippy=v,g._tippy=v,b.map((function(e){return e.fn(v)}))),A=e.hasAttribute("aria-expanded");return W(),C(),O(),B("onCreate",[v]),u.showOnCreate&&J(),g.addEventListener("mouseenter",(function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()})),g.addEventListener("mouseleave",(function(){v.props.interactive&&0<=v.props.trigger.indexOf("mouseenter")&&R().addEventListener("mousemove",m)})),v;function k(){var e=v.props.touch;return Array.isArray(e)?e:[e,0]}function E(){return"hold"===k()[0]}function x(){var e;return null!=(e=v.props.render)&&e.$$tippy}function S(){return l||e}function R(){var e=S().parentNode;return e?function(e){var t;return null!=(e=be(e)[0])&&null!=(t=e.ownerDocument)&&t.body?e.ownerDocument:document}(e):document}function M(){return Fe(g)}function T(e){return v.state.isMounted&&!v.state.isVisible||Re.isTouch||a&&"focus"===a.type?0:de(v.props.delay,e?0:1,Le.delay)}function O(e){void 0===e&&(e=!1),g.style.pointerEvents=v.props.interactive&&!e?"":"none",g.style.zIndex=""+v.props.zIndex}function B(e,t,n){void 0===n&&(n=!0),w.forEach((function(n){n[e]&&n[e].apply(n,t)})),n&&(n=v.props)[e].apply(n,t)}function P(){var t,n,r=v.props.aria;r.content&&(t="aria-"+r.content,n=g.id,be(v.props.triggerTarget||e).forEach((function(e){var r=e.getAttribute(t);v.state.isVisible?e.setAttribute(t,r?r+" "+n:n):(r=r&&r.replace(n,"").trim())?e.setAttribute(t,r):e.removeAttribute(t)})))}function C(){!A&&v.props.aria.expanded&&be(v.props.triggerTarget||e).forEach((function(e){v.props.interactive?e.setAttribute("aria-expanded",v.state.isVisible&&e===S()?"true":"false"):e.removeAttribute("aria-expanded")}))}function L(){R().removeEventListener("mousemove",m),Xe=Xe.filter((function(e){return e!==m}))}function j(t){if(!Re.isTouch||!d&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!v.props.interactive||!Se(g,n)){if(be(v.props.triggerTarget||e).some((function(e){return Se(e,n)}))){if(Re.isTouch)return;if(v.state.isVisible&&0<=v.props.trigger.indexOf("click"))return}else B("onClickOutside",[v,t]);!0===v.props.hideOnClick&&(v.clearDelayTimeouts(),v.hide(),h=!0,setTimeout((function(){h=!1})),v.state.isMounted||N())}}}function I(){d=!0}function V(){d=!1}function D(){var e=R();e.addEventListener("mousedown",j,!0),e.addEventListener("touchend",j,fe),e.addEventListener("touchstart",V,fe),e.addEventListener("touchmove",I,fe)}function N(){var e=R();e.removeEventListener("mousedown",j,!0),e.removeEventListener("touchend",j,fe),e.removeEventListener("touchstart",V,fe),e.removeEventListener("touchmove",I,fe)}function H(e,t){var n=M().box;function r(e){e.target===n&&(xe(n,"remove",r),t())}if(0===e)return t();xe(n,"remove",s),xe(n,"add",r),s=r}function F(t,n,r){void 0===r&&(r=!1),be(v.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),_.push({node:e,eventType:t,handler:n,options:r})}))}function W(){E()&&(F("touchstart",X,{passive:!0}),F("touchend",Y,{passive:!0})),v.props.trigger.split(/\s+/).filter(Boolean).forEach((function(e){if("manual"!==e)switch(F(e,X),e){case"mouseenter":F("mouseleave",Y);break;case"focus":F(Pe?"focusout":"blur",z);break;case"focusin":F("focusout",z)}}))}function q(){_.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler;e=e.options;t.removeEventListener(n,r,e)})),_=[]}function X(e){var t,n=!1;!v.state.isEnabled||G(e)||h||(t="focus"===(null==a?void 0:a.type),l=(a=e).currentTarget,C(),!v.state.isVisible&&function(e){return pe(e,"MouseEvent")}(e)&&Xe.forEach((function(t){return t(e)})),"click"===e.type&&(v.props.trigger.indexOf("mouseenter")<0||f)&&!1!==v.props.hideOnClick&&v.state.isVisible?n=!0:J(e),"click"===e.type&&(f=!n),n&&!t&&$(e))}function U(e){var t,n,r=e.target;r=S().contains(r)||g.contains(r);"mousemove"===e.type&&r||(r=Q().concat(g).map((function(e){var t=null==(t=e._tippy.popperInstance)?void 0:t.state;return t?{popperRect:e.getBoundingClientRect(),popperState:t,props:u}:null})).filter(Boolean),t=e.clientX,n=e.clientY,r.every((function(e){var r=e.popperRect,i=e.popperState,a=(e=e.props.interactiveBorder,function(e){return e.split("-")[0]}(i.placement));if(!(i=i.modifiersData.offset))return!0;var s="bottom"===a?i.top.y:0,o="top"===a?i.bottom.y:0,l="right"===a?i.left.x:0;a="left"===a?i.right.x:0,i=r.top-n+s>e,s=n-r.bottom-o>e,o=r.left-t+l>e,l=t-r.right-a>e;return i||s||o||l}))&&(L(),$(e)))}function Y(e){G(e)||0<=v.props.trigger.indexOf("click")&&f||(v.props.interactive?v.hideWithInteractivity(e):$(e))}function z(e){v.props.trigger.indexOf("focusin")<0&&e.target!==S()||v.props.interactive&&e.relatedTarget&&g.contains(e.relatedTarget)||$(e)}function G(e){return!!Re.isTouch&&E()!==0<=e.type.indexOf("touch")}function K(){Z();var t=(a=v.props).popperOptions,n=a.placement,r=a.offset,i=a.getReferenceClientRect,a=a.moveTransition,s=x()?Fe(g).arrow:null;i=i?{getBoundingClientRect:i,contextElement:i.contextElement||S()}:e,r=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state;x()&&(t=M().box,["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?t.setAttribute("data-placement",n.placement):n.attributes.popper["data-popper-"+e]?t.setAttribute("data-"+e,""):t.removeAttribute("data-"+e)})),n.attributes.popper={})}}];x()&&s&&r.push({name:"arrow",options:{element:s,padding:3}}),r.push.apply(r,(null==t?void 0:t.modifiers)||[]),v.popperInstance=oe(i,g,Object.assign({},t,{placement:n,onFirstUpdate:o,modifiers:r}))}function Z(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function Q(){return ge(g.querySelectorAll("[data-tippy-root]"))}function J(e){v.clearDelayTimeouts(),e&&B("onTrigger",[v,e]),D();e=T(!0);var t=(r=k())[0],r=r[1];(e=Re.isTouch&&"hold"===t&&r?r:e)?n=setTimeout((function(){v.show()}),e):v.show()}function $(e){v.clearDelayTimeouts(),B("onUntrigger",[v,e]),v.state.isVisible?0<=v.props.trigger.indexOf("mouseenter")&&0<=v.props.trigger.indexOf("click")&&0<=["mouseleave","mousemove"].indexOf(e.type)&&f||((e=T(!1))?r=setTimeout((function(){v.state.isVisible&&v.hide()}),e):i=requestAnimationFrame((function(){v.hide()}))):N()}}function ze(e,t){var n=Le.plugins.concat((t=void 0===t?{}:t).plugins||[]),r=(document.addEventListener("touchstart",Te,fe),window.addEventListener("blur",Be),Object.assign({},t,{plugins:n}));t=function(e){return Ae(e)?[e]:pe(e,"NodeList")?ge(e):Array.isArray(e)?e:ge(document.querySelectorAll(e))}(e).reduce((function(e,t){return(t=t&&Ye(t,r))&&e.push(t),e}),[]);return Ae(e)?t[0]:t}ze.defaultProps=Le,ze.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Le[t]=e[t]}))},ze.currentInput=Re,Object.assign({},r,{effect:function(e){var t={popper:{position:(e=e.state).options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow)}}),ze.setDefaultProps({render:We});const Ge=ze,Ke=n.p+"imgs/chitulaLogodf5a0280963d444acef2..svg",Ze=document.getElementById("twitterDescription"),Qe=document.getElementById("youtubeDescription"),Je=document.getElementById("waveTitle"),$e=document.getElementById("titleDirect"),et=document.getElementById("titleTwitter"),tt=document.getElementById("titleYouTube"),nt=document.getElementById("titleInput"),rt=(e,t="")=>{i().show({text:e,showAction:""!==t,actionText:t})},it=e=>{document.getElementById("modal-title-text").innerHTML=e},at=e=>e.includes("twitter.com"),st=e=>e.includes("youtube.com")||e.includes("youtu.be"),ot=(e,t,n,r)=>{"deny"!==e&&(e=dataLayer.push({event:t,[n]:r}))},lt=e=>{const t=document.getElementById("lblVideoUrl"),n=document.getElementById("lblUpload");e?(t.classList.add("mark"),n.classList.remove("mark"),document.getElementById("file").value=""):(t.classList.remove("mark"),n.classList.add("mark"),ct())},ct=()=>{Ze.classList.remove("mark"),Qe.classList.remove("mark")},ut=e=>{at(e)?(Ze.classList.add("mark"),Qe.classList.remove("mark")):st(e)?(Ze.classList.remove("mark"),Qe.classList.add("mark")):ct()},ft=e=>{document.body.style.cursor=e},ht=(e,t)=>{"DirectLink"===t?($e.classList.remove("hide"),et.classList.add("hide"),tt.classList.add("hide"),nt.classList.add("hide")):"Twitter"===t?($e.classList.add("hide"),et.classList.remove("hide"),tt.classList.add("hide"),nt.classList.add("hide")):"YouTube"===t?($e.classList.add("hide"),et.classList.add("hide"),tt.classList.remove("hide"),nt.classList.add("hide")):"InputFile"===t?($e.classList.add("hide"),et.classList.add("hide"),tt.classList.add("hide"),nt.classList.remove("hide")):($e.classList.add("hide"),et.classList.add("hide"),tt.classList.add("hide"),nt.classList.add("hide")),Je.textContent=e};Ce=n(9669);var dt=n.n(Ce);n(8526),r=n(1796),Ce=n.n(r);class pt{constructor(e,t,n){this.wavesurfer=n,this.wrapper=n.drawer.wrapper,this.util=n.util,this.style=this.util.style,this.regionsUtil=t,this.vertical=n.drawer.params.vertical,this.id=null==e.id?n.util.getId():e.id,this.start=Number(e.start)||0,this.end=null==e.end?this.start+4/this.wrapper.scrollWidth*this.wavesurfer.getDuration():Number(e.end),this.resize=void 0===e.resize||Boolean(e.resize),this.drag=void 0===e.drag||Boolean(e.drag),this.isResizing=!1,this.isDragging=!1,this.loop=Boolean(e.loop),this.color=e.color||"rgba(0, 0, 0, 0.1)",this.handleStyle=e.handleStyle||{left:{},right:{}},this.handleLeftEl=null,this.handleRightEl=null,this.data=e.data||{},this.attributes=e.attributes||{},this.showTooltip=e.showTooltip??!0,this.maxLength=e.maxLength,this.minLength=e.minLength,this._onRedraw=()=>this.updateRender(),this.scroll=!1!==e.scroll&&n.params.scrollParent,this.scrollSpeed=e.scrollSpeed||1,this.scrollThreshold=e.scrollThreshold||10,this.preventContextMenu=void 0!==e.preventContextMenu&&Boolean(e.preventContextMenu),t=null==e.channelIdx?-1:parseInt(e.channelIdx),this.channelIdx=t,this.regionHeight="100%",this.marginTop="0px",-1!==t&&0<=(n=null!=this.wavesurfer.backend.buffer?this.wavesurfer.backend.buffer.numberOfChannels:-1)&&t<n&&(this.regionHeight=Math.floor(1/n*100)+"%",this.marginTop=this.wavesurfer.getHeight()*t+"px"),this.formatTimeCallback=e.formatTimeCallback,this.edgeScrollWidth=e.edgeScrollWidth,this.bindInOut(),this.render(),this.wavesurfer.on("zoom",this._onRedraw),this.wavesurfer.on("redraw",this._onRedraw),this.wavesurfer.fireEvent("region-created",this)}update(e,t){null!=e.start&&(this.start=Number(e.start)),null!=e.end&&(this.end=Number(e.end)),null!=e.loop&&(this.loop=Boolean(e.loop)),null!=e.color&&(this.color=e.color),null!=e.handleStyle&&(this.handleStyle=e.handleStyle),null!=e.data&&(this.data=e.data),null!=e.resize&&(this.resize=Boolean(e.resize),this.updateHandlesResize(this.resize)),null!=e.drag&&(this.drag=Boolean(e.drag)),null!=e.maxLength&&(this.maxLength=Number(e.maxLength)),null!=e.minLength&&(this.minLength=Number(e.minLength)),null!=e.attributes&&(this.attributes=e.attributes),this.updateRender(),this.fireEvent("update"),this.wavesurfer.fireEvent("region-updated",this,t)}remove(){this.element&&(this.wrapper.removeChild(this.element.domElement),this.element=null,this.fireEvent("remove"),this.wavesurfer.un("zoom",this._onRedraw),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.fireEvent("region-removed",this))}play(e){e=e||this.start,this.wavesurfer.play(e,this.end),this.fireEvent("play"),this.wavesurfer.fireEvent("region-play",this)}playLoop(e){this.loop=!0,this.play(e)}setLoop(e){this.loop=e}render(){this.element=this.util.withOrientation(this.wrapper.appendChild(document.createElement("region")),this.vertical),this.element.className="wavesurfer-region",this.showTooltip&&(this.element.title=this.formatTime(this.start,this.end)),this.element.setAttribute("data-id",this.id);for(const e in this.attributes)this.element.setAttribute("data-region-"+e,this.attributes[e]);var e,t;this.style(this.element,{position:"absolute",zIndex:3,height:this.regionHeight,top:this.marginTop}),this.resize&&(this.handleLeftEl=this.util.withOrientation(this.element.appendChild(document.createElement("handle")),this.vertical),this.handleRightEl=this.util.withOrientation(this.element.appendChild(document.createElement("handle")),this.vertical),this.handleLeftEl.className="wavesurfer-handle wavesurfer-handle-start",this.handleRightEl.className="wavesurfer-handle wavesurfer-handle-end",t={cursor:this.vertical?"row-resize":"col-resize",position:"absolute",top:"0px",width:"2px",height:"100%",backgroundColor:"rgba(0, 0, 0, 1)"},e="none"!==this.handleStyle.left?Object.assign({left:"0px"},t,this.handleStyle.left):null,t="none"!==this.handleStyle.right?Object.assign({right:"0px"},t,this.handleStyle.right):null,e&&this.style(this.handleLeftEl,e),t&&this.style(this.handleRightEl,t)),this.updateRender(),this.bindEvents()}formatTime(e,t){return this.formatTimeCallback?this.formatTimeCallback(e,t):(e==t?[e]:[e,t]).map((e=>[Math.floor(e%3600/60),("00"+Math.floor(e%60)).slice(-2)].join(":"))).join("-")}getWidth(){return this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio}updateRender(){var e=this.wavesurfer.getDuration(),t=this.getWidth();let n=this.start,r=this.end;if(n<0&&(n=0,r-=n),r>e&&(r=e,n=e-(r-n)),null!=this.minLength&&(r=Math.max(n+this.minLength,r)),null!=this.maxLength&&(r=Math.min(n+this.maxLength,r)),null!=this.element){var i=Math.round(n/e*t);e=Math.round(r/e*t)-i;this.style(this.element,{left:i+"px",width:e+"px",backgroundColor:this.color,cursor:this.drag?"move":"default"});for(const e in this.attributes)this.element.setAttribute("data-region-"+e,this.attributes[e]);this.showTooltip&&(this.element.title=this.formatTime(this.start,this.end))}}bindInOut(){this.firedIn=!1,this.firedOut=!1;const e=e=>{var t=Math.round(10*this.start)/10,n=Math.round(10*this.end)/10;e=Math.round(10*e)/10,!this.firedOut&&this.firedIn&&(e<t||n<=e)&&(this.firedOut=!0,this.firedIn=!1,this.fireEvent("out"),this.wavesurfer.fireEvent("region-out",this)),!this.firedIn&&t<=e&&e<n&&(this.firedIn=!0,this.firedOut=!1,this.fireEvent("in"),this.wavesurfer.fireEvent("region-in",this))};this.wavesurfer.backend.on("audioprocess",e),this.on("remove",(()=>{this.wavesurfer.backend.un("audioprocess",e)})),this.on("out",(()=>{var e;this.loop&&(e=this.wavesurfer.getCurrentTime())>=this.start&&e<=this.end&&this.wavesurfer.play(this.start)}))}bindEvents(){const e=this.preventContextMenu;this.element.addEventListener("mouseenter",(e=>{this.fireEvent("mouseenter",e),this.wavesurfer.fireEvent("region-mouseenter",this,e)})),this.element.addEventListener("mouseleave",(e=>{this.fireEvent("mouseleave",e),this.wavesurfer.fireEvent("region-mouseleave",this,e)})),this.element.addEventListener("click",(e=>{e.preventDefault(),this.fireEvent("click",e),this.wavesurfer.fireEvent("region-click",this,e)})),this.element.addEventListener("dblclick",(e=>{e.stopPropagation(),e.preventDefault(),this.fireEvent("dblclick",e),this.wavesurfer.fireEvent("region-dblclick",this,e)})),this.element.addEventListener("contextmenu",(t=>{e&&t.preventDefault(),this.fireEvent("contextmenu",t),this.wavesurfer.fireEvent("region-contextmenu",this,t)})),(this.drag||this.resize)&&this.bindDragEvents()}bindDragEvents(){const e=this.wavesurfer.drawer.container,t=this.scrollSpeed;this.scrollThreshold;let n,r,i,a,s,o,l,c,u,f=!1;const h=e=>{var r=this.util.withOrientation(e,this.vertical),f=this.wavesurfer.getDuration();if(o&&(i||s)){r=r.clientX;let d=0,p=0,_=0,m=this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(e)*f);if(i)d=-1===o?(p=c*this.wavesurfer.params.minPxPerSec,r-l.left):(p=u*this.wavesurfer.params.minPxPerSec,l.right-r);else{let e=this.minLength;e=e||0,"start"===s?(m>this.end-e&&(m=this.end-e,_=t*o),m<0&&(m=0)):"end"===s&&(m<this.start+e&&(m=this.start+e,_=t*o),m>f&&(m=f))}r=this.wrapper.scrollLeft;if(-1===o){if(0===Math.round(r))return;if(Math.round(r-p+d)<=0)return}else{if(Math.round(r)===a)return;if(Math.round(r+p-d)>=a)return}let b=r-_+t*o;-1===o?(f=Math.max(0+p-d,b),this.wrapper.scrollLeft=b=f):(r=Math.min(a-p+d,b),this.wrapper.scrollLeft=b=r),f=m-n,n=m,i?this.onDrag(f):this.onResize(f,s),window.requestAnimationFrame((()=>{h(e)}))}};var d=e=>{var t=this.wavesurfer.getDuration();e.touches&&1<e.touches.length||(r=e.targetTouches?e.targetTouches[0].identifier:null,(this.drag||this.resize)&&e.stopPropagation(),n=this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(e,!0)*t),c=n-this.start,u=this.end-n,a=this.wrapper.scrollWidth-this.wrapper.clientWidth,l=this.util.withOrientation(this.wrapper.getBoundingClientRect(),this.vertical),this.isResizing=!1,this.isDragging=!1,s="handle"===e.target.tagName.toLowerCase()?(this.isResizing=!0,e.target.classList.contains("wavesurfer-handle-start")?"start":"end"):(this.isDragging=!0,!(i=!0)))};const p=e=>{e.touches&&1<e.touches.length||((i||s)&&(this.isDragging=!1,this.isResizing=!1,i=!1,o=null,s=!1),f&&(f=!1,this.util.preventClick(),this.fireEvent("update-end",e),this.wavesurfer.fireEvent("region-update-end",this,e)))},_=t=>{var a=this.wavesurfer.getDuration(),d=this.util.withOrientation(t,this.vertical);if(!(t.touches&&1<t.touches.length)&&(!t.targetTouches||t.targetTouches[0].identifier==r)&&(i||s)){let r=this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(t)*a);if(i&&((r=r>(p=this.wavesurfer.getDuration())-u?p-u:r)-c<0&&(r=c)),s){let e=this.minLength;e=e||0,"start"===s?(r=r>this.end-e?this.end-e:r)<0&&(r=0):"end"===s&&(r=r<this.start+e?this.start+e:r)>a&&(r=a)}var p=r-n;n=r,this.drag&&i&&(f=f||!!p,this.onDrag(p)),this.resize&&s&&(f=f||!!p,this.onResize(p,s)),this.scroll&&e.clientWidth<this.wrapper.scrollWidth&&(a=d.clientX,(o=a<l.left+this.edgeScrollWidth?-1:a>l.right-this.edgeScrollWidth?1:null)&&h(t))}};this.element.addEventListener("mousedown",d),this.element.addEventListener("touchstart",d),document.body.addEventListener("mousemove",_),document.body.addEventListener("touchmove",_,{passive:!1}),document.addEventListener("mouseup",p),document.body.addEventListener("touchend",p),this.on("remove",(()=>{document.removeEventListener("mouseup",p),document.body.removeEventListener("touchend",p),document.body.removeEventListener("mousemove",_),document.body.removeEventListener("touchmove",_)})),this.wavesurfer.on("destroy",(()=>{document.removeEventListener("mouseup",p),document.body.removeEventListener("touchend",p)}))}onDrag(e){var t=this.wavesurfer.getDuration();this.end+e>t&&(e=t-this.end),this.start+e<0&&(e=-1*this.start),t={direction:this._getDragDirection(e),action:"drag"};this.update({start:this.start+e,end:this.end+e},t)}_getDragDirection(e){return e<0?"left":0<e?"right":null}onResize(e,t){var n=this.wavesurfer.getDuration(),r={action:"resize",direction:"start"===t?"left":"right"};"start"===t?((e=(e=0<e&&this.end-(this.start+e)<this.minLength?this.end-this.minLength-this.start:e)<0&&this.end-(this.start+e)>this.maxLength?this.end-this.start-this.maxLength:e)<0&&this.start+e<0&&(e=-1*this.start),this.update({start:Math.min(this.start+e,this.end),end:Math.max(this.start+e,this.end)},r)):(0<(e=0<(e=e<0&&this.end+e-this.start<this.minLength?this.start+this.minLength-this.end:e)&&this.end+e-this.start>this.maxLength?this.maxLength-(this.end-this.start):e)&&this.end+e>n&&(e=n-this.end),this.update({start:Math.min(this.end+e,this.start),end:Math.max(this.end+e,this.start)},r))}updateHandlesResize(e){let t;t=e?this.vertical?"row-resize":"col-resize":"auto",this.handleLeftEl&&this.style(this.handleLeftEl,{cursor:t}),this.handleRightEl&&this.style(this.handleRightEl,{cursor:t})}}function _t(e){return(""+(e||"")).split(" ").filter((function(e){return!!e}))}function mt(e,t){_t(t).forEach((function(t){e.classList.add(t)}))}function bt(e,t){_t(t).forEach((function(t){e.classList.remove(t)}))}function vt(e,t){var n=this;void 0===t&&(t={}),this.version="1.1.0",this.focusOutElement=null,this.opened=!1,this.opts={bodyClass:"modal-open",dialogClass:"modal-dialog",dialogOpenClass:"bounceInDown",dialogCloseClass:"bounceOutUp",focus:!0,focusElements:["a[href]","area[href]","input:not([disabled]):not([type=hidden])","button:not([disabled])","select:not([disabled])","textarea:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"],escapeClose:!0,content:void 0,closeTimeout:500},Object.keys(t).forEach((function(e){void 0!==t[e]&&(n.opts[e]=t[e])})),this.overlay=e,this.dialog=e.querySelector("."+this.opts.dialogClass),this.opts.content&&this.content(this.opts.content)}vt.prototype.open=function(e){var t=this;if(this.content(e),"function"!=typeof this.opts.beforeOpen)return this._doOpen();this.opts.beforeOpen((function(){t._doOpen()}))},vt.prototype._doOpen=function(){mt(document.body,this.opts.bodyClass),bt(this.dialog,this.opts.dialogCloseClass),mt(this.dialog,this.opts.dialogOpenClass),this.overlay.style.display="block",this.opts.focus&&(this.focusOutElement=document.activeElement,this.focus()),"function"==typeof this.opts.afterOpen&&this.opts.afterOpen(),this.opened=!0},vt.prototype.close=function(){var e=this;if("function"!=typeof this.opts.beforeClose)return this._doClose();this.opts.beforeClose((function(){e._doClose()}))},vt.prototype._doClose=function(){var e=this;bt(this.dialog,this.opts.dialogOpenClass),mt(this.dialog,this.opts.dialogCloseClass),bt(document.body,this.opts.bodyClass),this.opts.focus&&this.focus(this.focusOutElement),setTimeout((function(){e.overlay.style.display="none","function"==typeof e.opts.afterClose&&e.opts.afterClose(),e.opened=!1}),this.opts.closeTimeout)},vt.prototype.content=function(e){if(void 0===e)return this.dialog.innerHTML;this.dialog.innerHTML=e},vt.prototype.elements=function(e,t){return t=t||-1<window.navigator.appVersion.indexOf("MSIE 9.0"),e=Array.isArray(e)?e.join(","):e,[].filter.call(this.dialog.querySelectorAll(e),(function(e){var n;return t?"none"!==(n=window.getComputedStyle(e)).display&&"hidden"!==n.visibility:null!==e.offsetParent}))},vt.prototype.focus=function(e){(e=e||this.elements(this.opts.focusElements||"")[0]||this.dialog.firstChild)&&"function"==typeof e.focus&&e.focus()},vt.prototype.keydown=function(e){function t(){e.preventDefault(),e.stopPropagation()}var n,r;this.opts.escapeClose&&27==e.which&&this.close(),this.opened&&9==e.which&&this.dialog.contains(e.target)&&((n=(r=this.elements(this.opts.focusElements||""))[0])==(r=r[r.length-1])?t():e.target==n&&e.shiftKey?(t(),r.focus()):e.target!=r||e.shiftKey||(t(),n.focus()))},vt.version="1.1.0";const gt=vt,yt=(document.getElementById("logo").src=Ke,"https://safe-harbor-14206.herokuapp.com/");let wt=0,At=1,kt=-1,Et=null,xt="",St="",Rt=!1,Mt="";var Tt=new(window.AudioContext||window.webkitAudioContext),Ot=new FileReader;const Bt=(()=>{let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))||e})(),Pt=()=>{Lt.playPause()},Ct=e=>{const t=document.getElementById("closeModalButton");e?t.classList.remove("hide"):t.classList.add("hide"),modal.open()};var Lt=Ce().create({container:"#waveform",waveColor:"#feb144",backgroundColor:"#404040",progressColor:"#ff9329",responsive:!0,barWidth:2,barHeight:1,barGap:null,cursorColor:"white",customShowTimeStyle:{"background-color":"#000",color:"#fff",padding:"2px","font-size":"10px"},plugins:[class e{static create(t){return{name:"cursor",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,staticProps:{},instance:e}}defaultParams={hideOnBlur:!0,width:"1px",color:"black",opacity:"0.25",style:"solid",zIndex:4,customStyle:{},customShowTimeStyle:{},showTime:!1,followCursorY:!1,formatTimeCallback:null};_onMousemove=e=>{e=this.util.withOrientation(e,this.wavesurfer.params.vertical);var t=this.wrapper.getBoundingClientRect();let n=0;var r=this.wrapper.scrollLeft+e.clientX-t.left,i=this.displayTime?this.displayTime.getBoundingClientRect().width:0;i=t.right<e.clientX+i;this.params.showTime&&this.params.followCursorY&&(n=e.clientY-(t.top+t.height/2)),this.updateCursorPosition(r,n,i)};_onMouseenter=()=>this.showCursor();_onMouseleave=()=>this.hideCursor();constructor(e,t){this.wavesurfer=t,this.style=t.util.style,this.util=t.util,this.cursor=null,this.showTime=null,this.displayTime=null,this.params=Object.assign({},this.defaultParams,e)}_onReady(){this.wrapper=this.wavesurfer.drawer.wrapper,this.cursor=this.util.withOrientation(this.wrapper.appendChild(document.createElement("cursor")),this.wavesurfer.params.vertical),this.style(this.cursor,Object.assign({position:"absolute",zIndex:this.params.zIndex,left:0,top:0,bottom:0,width:"0",display:"flex",borderRightStyle:this.params.style,borderRightWidth:this.params.width,borderRightColor:this.params.color,opacity:this.params.opacity,pointerEvents:"none"},this.params.customStyle)),this.params.showTime&&(this.showTime=this.util.withOrientation(this.wrapper.appendChild(document.createElement("showTitle")),this.wavesurfer.params.vertical),this.style(this.showTime,Object.assign({position:"absolute",zIndex:this.params.zIndex,left:0,top:0,bottom:0,width:"auto",display:"flex",opacity:this.params.opacity,pointerEvents:"none",height:"100%"},this.params.customStyle)),this.displayTime=this.util.withOrientation(this.showTime.appendChild(document.createElement("div")),this.wavesurfer.params.vertical),this.style(this.displayTime,Object.assign({display:"inline",pointerEvents:"none",margin:"auto",visibility:"hidden"},this.params.customShowTimeStyle)),this.displayTime.innerHTML=this.formatTime(0)),this.wrapper.addEventListener("mousemove",this._onMousemove),this.params.hideOnBlur&&(this.hideCursor(),this.wrapper.addEventListener("mouseenter",this._onMouseenter),this.wrapper.addEventListener("mouseleave",this._onMouseleave))}init(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",(()=>this._onReady()))}destroy(){this.params.showTime&&this.showTime.remove(),this.cursor.remove(),this.wrapper.removeEventListener("mousemove",this._onMousemove),this.params.hideOnBlur&&(this.wrapper.removeEventListener("mouseenter",this._onMouseenter),this.wrapper.removeEventListener("mouseleave",this._onMouseleave))}updateCursorPosition(e,t,n=!1){var r,i,a;this.style(this.cursor,{left:e+"px"}),this.params.showTime&&(a=this.wavesurfer.getDuration(),i=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,r=this.wavesurfer.drawer.getScrollX(),r=a/this.wavesurfer.drawer.width*r,i=Math.max(0,(e-this.wrapper.scrollLeft)/i*a)+r,a=this.formatTime(i),n&&(e-=this.displayTime.getBoundingClientRect().width),this.style(this.showTime,{left:e+"px",top:t+"px"}),this.style(this.displayTime,{visibility:"visible"}),this.displayTime.innerHTML=""+a)}showCursor(){this.style(this.cursor,{display:"flex"}),this.params.showTime&&this.style(this.showTime,{display:"flex"})}hideCursor(){this.style(this.cursor,{display:"none"}),this.params.showTime&&this.style(this.showTime,{display:"none"})}formatTime(e){return e=isNaN(e)?0:e,this.params.formatTimeCallback?this.params.formatTimeCallback(e):[e].map((e=>[Math.floor(e%3600/60),("00"+Math.floor(e%60)).slice(-2),("000"+Math.floor(e%1*1e3)).slice(-3)].join(":")))}}.create({showTime:!0,opacity:1,customShowTimeStyle:{"background-color":"#000",color:"#fff",padding:"2px","font-size":"10px"}}),class e{static create(t){return{name:"regions",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,staticProps:{addRegion(e){return this.initialisedPluginList.regions||this.initPlugin("regions"),this.regions.add(e)},clearRegions(){this.regions&&this.regions.clear()},enableDragSelection(e){this.initialisedPluginList.regions||this.initPlugin("regions"),this.regions.enableDragSelection(e)},disableDragSelection(){this.regions.disableDragSelection()}},instance:e}}constructor(e,t){this.params=e,this.wavesurfer=t,this.util={...t.util,getRegionSnapToGridValue:t=>this.getRegionSnapToGridValue(t,e)},this.maxRegions=e.maxRegions,this.regionsMinLength=e.regionsMinLength||null;Object.getOwnPropertyNames(this.util.Observer.prototype).forEach((e=>{pt.prototype[e]=this.util.Observer.prototype[e]})),this.wavesurfer.Region=pt,this._onBackendCreated=()=>{this.wrapper=this.wavesurfer.drawer.wrapper,this.orientation=this.wavesurfer.drawer.orientation,this.defaultEdgeScrollWidth=.05*this.wrapper.clientWidth,this.params.regions&&this.params.regions.forEach((e=>{this.add(e)}))},this.list={},this._onReady=()=>{this.wrapper=this.wavesurfer.drawer.wrapper,this.vertical=this.wavesurfer.drawer.params.vertical,this.params.dragSelection&&this.enableDragSelection(this.params),Object.keys(this.list).forEach((e=>{this.list[e].updateRender()}))}}init(){this.wavesurfer.isReady?(this._onBackendCreated(),this._onReady()):(this.wavesurfer.once("ready",this._onReady),this.wavesurfer.once("backend-created",this._onBackendCreated))}destroy(){this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("backend-created",this._onBackendCreated),this.wavesurfer.setDisabledEventEmissions(["region-removed"]),this.disableDragSelection(),this.clear()}wouldExceedMaxRegions(){return this.maxRegions&&Object.keys(this.list).length>=this.maxRegions}add(e){if(this.wouldExceedMaxRegions())return null;!(e=!(e={edgeScrollWidth:this.params.edgeScrollWidth||this.defaultEdgeScrollWidth,...e}).formatTimeCallback&&this.params.formatTimeCallback?{...e,formatTimeCallback:this.params.formatTimeCallback}:e).minLength&&this.regionsMinLength&&(e={...e,minLength:this.regionsMinLength});const t=new this.wavesurfer.Region(e,this.util,this.wavesurfer);return(this.list[t.id]=t).on("remove",(()=>{delete this.list[t.id]})),t}clear(){Object.keys(this.list).forEach((e=>{this.list[e].remove()}))}enableDragSelection(e){this.disableDragSelection();const t=e.slop||2,n=this.wavesurfer.drawer.container,r=!1!==e.scroll&&this.wavesurfer.params.scrollParent,i=e.scrollSpeed||1,a=e.scrollThreshold||10;let s,o,l,c,u,f,h,d=this.wavesurfer.getDuration(),p=0;const _=e=>{var t,n;c&&f&&(t=this.wrapper.scrollLeft+i*f,this.wrapper.scrollLeft=t=Math.min(o,Math.max(0,t)),n=this.wavesurfer.drawer.handleEvent(e),c.update({start:Math.min(n*d,l*d),end:Math.max(n*d,l*d)}),t<o&&0<t&&window.requestAnimationFrame((()=>{_(e)})))},m=t=>{var n,r;t.touches&&1<t.touches.length||(d=this.wavesurfer.getDuration(),u=t.targetTouches?t.targetTouches[0].identifier:null,o=this.wrapper.scrollWidth-this.wrapper.clientWidth,h=this.util.withOrientation(this.wrapper.getBoundingClientRect(),this.vertical),this.wavesurfer.params.splitChannels&&(n=(t.touches?t.touches[0]:t).clientY-h.top,r=null!=this.wavesurfer.backend.buffer?this.wavesurfer.backend.buffer.numberOfChannels:1,r=this.wrapper.clientHeight/r,n=Math.floor(n/r),e.channelIdx=n,(r=this.wavesurfer.params.splitChannelsOptions.channelColors[n])&&r.dragColor&&(e.color=r.dragColor)),s=!0,l=this.wavesurfer.drawer.handleEvent(t,!0),c=null,f=null)},b=(this.wrapper.addEventListener("mousedown",m),this.wrapper.addEventListener("touchstart",m),this.on("disable-drag-selection",(()=>{this.wrapper.removeEventListener("touchstart",m),this.wrapper.removeEventListener("mousedown",m)})),e=>{e.touches&&1<e.touches.length||(s=!1,p=0,f=null,c&&(this.util.preventClick(),c.fireEvent("update-end",e),this.wavesurfer.fireEvent("region-update-end",c,e)),c=null)}),v=(this.wrapper.addEventListener("mouseleave",b),this.wrapper.addEventListener("mouseup",b),this.wrapper.addEventListener("touchend",b),document.body.addEventListener("mouseup",b),document.body.addEventListener("touchend",b),this.on("disable-drag-selection",(()=>{document.body.removeEventListener("mouseup",b),document.body.removeEventListener("touchend",b),this.wrapper.removeEventListener("touchend",b),this.wrapper.removeEventListener("mouseup",b),this.wrapper.removeEventListener("mouseleave",b)})),i=>{var o,m;!s||++p<=t||i.touches&&1<i.touches.length||i.targetTouches&&i.targetTouches[0].identifier!=u||(c=c||this.add(e||{}))&&(o=this.wavesurfer.drawer.handleEvent(i),m=this.wavesurfer.regions.util.getRegionSnapToGridValue(l*d),o=this.wavesurfer.regions.util.getRegionSnapToGridValue(o*d),c.update({start:Math.min(o,m),end:Math.max(o,m)}),o=this.util.withOrientation(i,this.vertical),r&&n.clientWidth<this.wrapper.scrollWidth&&(m=o.clientX-h.left,(f=m<=a?-1:m>=h.right-a?1:null)&&_(i)))});this.wrapper.addEventListener("mousemove",v),this.wrapper.addEventListener("touchmove",v),this.on("disable-drag-selection",(()=>{this.wrapper.removeEventListener("touchmove",v),this.wrapper.removeEventListener("mousemove",v)})),this.wavesurfer.on("region-created",(e=>{this.regionsMinLength&&(e.minLength=this.regionsMinLength)}))}disableDragSelection(){this.fireEvent("disable-drag-selection")}getCurrentRegion(){const e=this.wavesurfer.getCurrentTime();let t=null;return Object.keys(this.list).forEach((n=>{(n=this.list[n]).start<=e&&n.end>=e&&(!t||n.end-n.start<t.end-t.start)&&(t=n)})),t}getRegionSnapToGridValue(e,t){var n;return t.snapToGridInterval?(n=t.snapToGridOffset||0,Math.round((e-n)/t.snapToGridInterval)*t.snapToGridInterval+n):e}}.create({edgeScrollWidth:1e4})]});Lt.on("region-update-end",(function(e){wt=e.start,At=e.end}));const jt=(e,n=0,r=0)=>Tt.decodeAudioData(e.slice(0)).then((function(e){rt("Processing Audio");const i=0!==n&&0!==r;var a=0!==r?r:e.duration,s=e.sampleRate,o=e.numberOfChannels;return(a=(o=(i||(kt=a),new OfflineAudioContext(o,s*a,s))).createBufferSource()).buffer=e,a.connect(o.destination),i?a.start(0,n,n+r):a.start(),o.startRendering().then((function(e){return t(e,i?"MP3":"WAV")})).catch((function(e){}))})).catch((e=>{})),It=e=>{(e=>{Lt.loadBlob(e),rt("Sound ready 👌","╳")})(e),-1<kt&&(wt=e=kt/4,At=3*e,Dt(),kt=-1),e=Bt?"5px":"2px",document.getElementsByClassName("wavesurfer-handle wavesurfer-handle-start")[0].style.width=e,document.getElementsByClassName("wavesurfer-handle wavesurfer-handle-end")[0].style.width=e},Vt=(e,t)=>{(async function(e,t,n){n=n?""+t+e:e;const r=document.getElementById("progressStatus"),i=document.getElementById("progressContainer");return dt().request({method:"get",url:n,responseType:"blob",onDownloadProgress:e=>{let t=e.loaded/e.total*100;isFinite(t)?(i.classList.remove("hide"),it(`Loading progress: ${t.toFixed(2)}%`),r.value=t):it("Loading... ⏳")}}).then((e=>(i.classList.add("hide"),e.data.arrayBuffer()))).catch((e=>{}))})(e,yt,t).then((e=>{e?(Et=e.slice(0),jt(Et).then((e=>{It(e),modal.close(),ft("auto")})).catch((e=>{modal.close(),ft("auto")}))):(modal.close(),ft("auto"),rt("Error loading audio")),Rt=!0}))},Dt=()=>{Lt.clearRegions(),Lt.addRegion({drag:!0,resize:!0,start:wt,end:At,minLength:.1,loop:!1,color:"hsla(400, 100%, 30%, 0.5)"})};window.onload=()=>{var e,t,n="https://wavesurfer-js.org/example/media/demo.wav";Vt(n,!1),ht(n.split("/").pop(),"DirectLink"),e=new gt(document.getElementById("modal"),{dialogOpenClass:"animate__zoomIn",dialogCloseClass:"animate__zoomOut",escapeClose:!1}),document.addEventListener("keydown",(function(t){e.keydown(t)}),!1),document.getElementById("showModal").addEventListener("click",(function(e){e.preventDefault(),Rt&&(it('"Cut Audio from Video" is a free tool to extract audio from videos online. MIT Libraries used: animate.css, axios, cookieconsent, node-snackbar, rmodal, tippy.js, ytdl-core-brwoser, wavesurfer.js'),Ct(!0))}),!1),window.modal=e,(t=document.getElementById("inputUrl")).addEventListener("keypress",(function(e){"Enter"===e.key&&(e.preventDefault(),loadButton())})),t.addEventListener("click",(()=>{t.focus(),t.select()})),t.addEventListener("focusout",(()=>{ut(t.value)})),document.getElementById("file").onchange=function(){this.files&&0<this.files.length&&(Ot.readAsArrayBuffer(this.files[0],"fooo"),xt=this.files[0].type,St=this.files[0].name),Ot.onloadend=function(e,t){var n=Ot.result;Et=n.slice(0),ht(St,"InputFile"),jt(n).then((e=>{e?(It(e),lt(!1),ot(Mt,"VideoLoadedEvent","VideoLoadedType",`Input [${xt}] [${Bt?"Mobile":"Desktop"}]`)):(rt(e="File video format not supported in this browser and device. Please try another one."),ot(Mt,"CustomErrorEvent","CustomErrorMessage","[Input]"+e))})).catch((e=>{rt("Error loading video ",e),ot(Mt,"CustomErrorEvent","CustomErrorMessage","[Input]"+errorMessage)}))}},n={placement:"bottom",animation:"scale-subtle",inertia:!0},Ge("#lblUpload",{...n,content:"No data is uploaded nor stored on servers, this tool works locally"}),Ge("#youtubeDescription",{...n,content:"Video limit time: 10 minutes"}),Ge("#twitterDescription",{...n,content:"Use tweet URL"}),document.addEventListener("keyup",(e=>{"Space"===e.code&&(e=document.activeElement.type,["submit","file","text"].includes(e)||Pt())})),window.cookieconsent.initialise({enabled:!0,palette:{popup:{background:"#000"},button:{background:"transparent",text:"#feb244",border:"#feb244"}},content:{policy:"🍪"},position:"bottom-right",type:"opt-in",revokable:!1,showLink:!1,onStatusChange:e=>{Mt=e}})},window.loadButton=()=>{const e=document.getElementById("inputUrl");e.style.backgroundColor="white",e.style.border="1px solid #2d9fd9";let t=e.value;const n=(e,t)=>{xt=t,Ct(!1),ft("wait"),it(`Loading ${t} video...`),Vt(e,!0),lt(!0),ut(document.getElementById("inputUrl").value),ot(Mt,"VideoLoadedEvent","VideoLoadedType",`[${t}] [${Bt?"Mobile":"Desktop"}]`)},r=t=>{modal.close(),ft("auto"),e.style.backgroundColor="lightcoral",e.style.border="1px solid #d92d2d",rt(t),ot(Mt,"CustomErrorEvent","CustomErrorMessage",t)};var i;at(t)?(Ct(),((e,t)=>(t+=`api.twitter.com/1.1/statuses/show/${e}.json?cards_platform=Web-12&include_cards=1&include_reply_count=1&include_user_entities=0&tweet_mode=extended`,it("Getting Twitter video info"),fetch(t,{method:"GET",headers:{Authorization:"Bearer AAAAAAAAAAAAAAAAAAAAAMazdgEAAAAA3H4GTjMbQRppToaZG%2BHrlxCquQU%3Dghu3WmDJkVhJu973dQR4h72uMbelrUUdHkHrT5aebfsWpQCrAv"}}).then((function(e){if(200===e.status)return e.text();throw rt(e.statusText),ot("CustomErrorEvent","CustomErrorMessage","[Twitter] "+e.statusText),new Error})).then((function(e){if(e){const t=JSON.parse(e);return e=t.extended_entities.media[0].video_info.variants.filter((e=>"video/mp4"===e.content_type)).sort(((e,t)=>t.bitrate-e.bitrate)),ht("Tweet: "+t.full_text.trim(1),"Twitter"),e=e[0].url}})).catch((e=>{}))))((i=-1<(i=t).indexOf("?")?i.substring(0,i.indexOf("?")):i).split("/").pop(),yt).then((e=>{n(e,"Twitter")})).catch((e=>{r(e)}))):st(t)?(Ct(!1),i=t,it("Getting YouTube Info"),ytdl.getInfo(i).then((e=>{if(600<parseInt(e.videoDetails.lengthSeconds))throw new Error("Video has to be shorter than 10 minutes.");ht(e.videoDetails.title,"YouTube");e=e.formats.filter((e=>null!==e.audioBitrate&&e.mimeType.includes("audio/mp4"))).sort(((e,t)=>t.audioBitrate-e.audioBitrate))[0];var t=e.url;e=e.contentLength;return t})).catch((e=>{throw"Too many request, try again later "+e})).then((e=>{n(e,"YouTube")})).catch((e=>{r("Error loading video from Youtube "+e)}))):/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/gm.test(t)&&["mp4","mp3"].includes(t.split(/[#?]/)[0].split(".").pop().trim())?(ht(t.split("/").pop(),"DirectLink"),n(t,"Direct")):r("Invalid URL. Please, enter a proper link.")},window.playWaveSurfer=()=>{Lt.play(wt,At)},window.playPauseWaveSurfer=Pt,window.download=()=>{jt(Et,wt,At-wt).then((e=>{rt("File downloaded! ✅");const t=document.createElement("a");t.href=URL.createObjectURL(e),t.setAttribute("download","cut-audio-from-video.mp3"),t.click(),ot(Mt,"DownloadEvent","DownloadAction",`Download [${xt}]`)})).catch((e=>{}))},window.shareEvent=e=>{ot(Mt,"ShareEvent","ShareType",`Share [${e}]`)}})()})();